{"version":3,"sources":["C:/Users/roycer/Documents/OFE/Desarrollo/testtttttt/4/1002.PFE-WEB/src/app/login/login.component.html","C:/Users/roycer/Documents/OFE/Desarrollo/testtttttt/4/1002.PFE-WEB/src/app/login/login.component.ts","C:/Users/roycer/Documents/OFE/Desarrollo/testtttttt/4/1002.PFE-WEB/src/app/login/login.module.ts","C:/Users/roycer/Documents/OFE/Desarrollo/testtttttt/4/1002.PFE-WEB/src/app/login/login.routing.ts","C:/Users/roycer/Documents/OFE/Desarrollo/testtttttt/4/1002.PFE-WEB/src/app/model/login.ts"],"names":[],"mappings":"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","file":"login.module.chunk.js","sourcesContent":["module.exports = \"<div class=\\\"wrapper wrapper-full-page login\\\">\\r\\n    <nav class=\\\"navbar navbar-primary navbar-transparent navbar-fixed-top\\\">\\r\\n        <div class=\\\"container\\\">\\r\\n            <div class=\\\"navbar-header\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"navbar-toggle\\\" data-toggle=\\\"collapse\\\" data-target=\\\"#menu-example\\\">\\r\\n                    <span class=\\\"sr-only\\\">Toggle navigation</span>\\r\\n                    <span class=\\\"icon-bar\\\"></span>\\r\\n                    <span class=\\\"icon-bar\\\"></span>\\r\\n                    <span class=\\\"icon-bar\\\"></span>\\r\\n                </button>\\r\\n                <a class=\\\"navbar-brand\\\" href=\\\"/#/dashboard\\\"></a>\\r\\n            </div>\\r\\n            <div class=\\\"collapse navbar-collapse\\\" id=\\\"menu-example\\\">\\r\\n                <ul class=\\\"nav navbar-nav navbar-right\\\">\\r\\n                    <li>\\r\\n                        <a href=\\\"/dashboard\\\">\\r\\n                            <i class=\\\"material-icons\\\">dashboard</i> Dashboard\\r\\n                        </a>\\r\\n                    </li>\\r\\n                    <li class=\\\"\\\">\\r\\n                        <a href=\\\"#\\\">\\r\\n                            <i class=\\\"material-icons\\\">person_add</i> Registrarse\\r\\n                        </a>\\r\\n                    </li>\\r\\n                    <li class=\\\" active \\\">\\r\\n                        <a href=\\\"/login\\\">\\r\\n                            <i class=\\\"material-icons\\\">fingerprint</i> Iniciar Sesión\\r\\n                        </a>\\r\\n                    </li>\\r\\n\\r\\n                </ul>\\r\\n            </div>\\r\\n        </div>\\r\\n    </nav>\\r\\n    <div class=\\\"full-page login-page\\\" filter-color=\\\"black\\\" data-image=\\\"./assets/img/login2.jpg\\\">\\r\\n        <!--   you can change the color of the filter page using: data-color=\\\"blue | purple | green | orange | red | rose \\\" -->\\r\\n        <div class=\\\"content\\\">\\r\\n            <div class=\\\"container\\\">\\r\\n                <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-md-4 col-sm-6 col-md-offset-4 col-sm-offset-3\\\">\\r\\n                        <form method=\\\"#\\\" action=\\\"#\\\">\\r\\n                            <div class=\\\"card card-login card-hidden\\\">\\r\\n                                <div class=\\\"card-header text-center\\\" data-background-color=\\\"blue\\\">\\r\\n                                    <h4 class=\\\"card-title\\\">Iniciar Sesión</h4>\\r\\n                                    <div class=\\\"social-line\\\">\\r\\n                                        <a href=\\\"#btn\\\" class=\\\"btn btn-just-icon btn-simple\\\">\\r\\n                                            <i class=\\\"fa fa-facebook-square\\\"></i>\\r\\n                                        </a>\\r\\n                                        <a href=\\\"#pablo\\\" class=\\\"btn btn-just-icon btn-simple\\\">\\r\\n                                            <i class=\\\"fa fa-twitter\\\"></i>\\r\\n                                        </a>\\r\\n                                        <a href=\\\"#eugen\\\" class=\\\"btn btn-just-icon btn-simple\\\">\\r\\n                                            <i class=\\\"fa fa-google-plus\\\"></i>\\r\\n                                        </a>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                                <p class=\\\"category text-center\\\">\\r\\n                                   Bienvenido a B2Mining Data\\r\\n                                </p>\\r\\n                                <div class=\\\"card-content\\\">\\r\\n                                    <div class=\\\"input-group\\\">\\r\\n                                        <span class=\\\"input-group-addon\\\" style=\\\"background: transparent;\\\">\\r\\n                                            <i class=\\\"material-icons\\\">email</i>\\r\\n                                        </span>\\r\\n                                        <div class=\\\"form-group label-floating\\\">\\r\\n                                            <label class=\\\"control-label\\\">Usuario</label>\\r\\n                                            <input type=\\\"text\\\" id=\\\"txtUsuario\\\" class=\\\"form-control\\\" name=\\\"username\\\" [(ngModel)]=\\\"loginModel.username\\\"/>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"input-group\\\">\\r\\n                                        <span class=\\\"input-group-addon\\\" style=\\\"background: transparent;\\\">\\r\\n                                            <i class=\\\"material-icons\\\">lock_outline</i>\\r\\n                                        </span>\\r\\n                                        <div class=\\\"form-group label-floating\\\">\\r\\n                                            <label class=\\\"control-label\\\">Clave</label>\\r\\n                                            <input type=\\\"password\\\" id=\\\"txtClave\\\" class=\\\"form-control\\\" name=\\\"password\\\" [(ngModel)]=\\\"loginModel.password\\\"/>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                                <div class=\\\"footer text-right\\\">\\r\\n                                    <button type=\\\"button\\\" (click)=\\\"iniciarSesion()\\\" class=\\\"btn btn-info btn-simple btn-wd btn-lg\\\">Iniciar Sesión</button>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </form>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <footer class=\\\"footer\\\">\\r\\n            <div class=\\\"container\\\">\\r\\n                <!--<nav class=\\\"pull-left\\\">\\r\\n                    <ul>\\r\\n                        <li>\\r\\n                            <a href=\\\"#\\\">\\r\\n                                Inicio\\r\\n                            </a>\\r\\n                        </li>\\r\\n                        <li>\\r\\n                            <a href=\\\"#\\\">\\r\\n                                Compañía\\r\\n                            </a>\\r\\n                        </li>\\r\\n                        <li>\\r\\n                            <a href=\\\"#\\\">\\r\\n                                Portafolio\\r\\n                            </a>\\r\\n                        </li>\\r\\n                        <li>\\r\\n                            <a href=\\\"#\\\">\\r\\n                                Blog\\r\\n                            </a>\\r\\n                        </li>\\r\\n                    </ul>\\r\\n                </nav>-->\\r\\n                <p class=\\\"copyright text-center\\\">\\r\\n                    &copy;\\r\\n                    {{test | date: 'yyyy'}}\\r\\n                    <a href=\\\"https://www.creative-tim.com\\\">Ebiz</a>, Latin Todos los derechos reservados.<br />\\r\\n                    Contáctenos: 518 - 3360 | soluciones@ebizlatin.com | Chat en línea\\r\\n                </p>\\r\\n            </div>\\r\\n        </footer>\\r\\n    </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/roycer/Documents/OFE/Desarrollo/testtttttt/4/1002.PFE-WEB/src/app/login/login.component.html\n// module id = ../../../../../src/app/login/login.component.html\n// module chunks = login.module","import { Component, OnInit, Injector } from '@angular/core';\r\nimport {BASE_URL} from 'app/utils/app.constants';\r\nimport {Router, ActivatedRoute} from \"@angular/router\";\r\nimport {Usuario} from 'app/model/usuario';\r\nimport { BaseComponent } from '../base/base.component';\r\nimport { LoginService } from 'app/service/login.service';\r\nimport { Login } from 'app/model/login';\r\ndeclare var $:any;\r\ndeclare var swal:any;\r\n@Component({\r\n  moduleId: module.id,\r\n  selector: 'login-cmp',\r\n  templateUrl: 'login.component.html',\r\n})\r\n\r\nexport class LoginComponent extends BaseComponent implements OnInit {\r\n  test : Date = new Date();\r\n  public base_url: string;\r\n  public usuarios: Usuario[];\r\n  loading: boolean = false;\r\n  loginModel: Login = new Login();\r\n\r\n\r\n  constructor(injector: Injector, private router: Router, private route: ActivatedRoute, private loginService: LoginService)  \r\n  {\r\n    super(injector);\r\n    loginService.logout();\r\n\r\n    this.base_url = BASE_URL;\r\n    this.loginService.users()\r\n    .subscribe(\r\n        response => {\r\n            this.usuarios = response;\r\n        },\r\n        error => {\r\n            this.finishLoading();\r\n            this.messageUtils.showError(error);\r\n\r\n            swal({\r\n                text: \"No se pudo conectar al servidor!\",\r\n                type: 'warning',\r\n                buttonsStyling: false,\r\n                confirmButtonClass: \"btn btn-warning\"\r\n            });\r\n        },\r\n        () => {\r\n            this.finishLoading();\r\n        }\r\n    );\r\n    \r\n  }\r\n\r\n\r\n  checkFullPageBackgroundImage(){\r\n    var $page = $('.full-page');\r\n    var image_src = $page.data('image');\r\n\r\n    if(image_src !== undefined){\r\n      var image_container = '<div class=\"full-page-background\" style=\"background-image: url(' + image_src + ') \"/>'\r\n      $page.append(image_container);\r\n    }\r\n  }\r\n\r\n  iniciarSesion(){\r\n\r\n      this.loading = true;\r\n      this.uiUtils.showOrHideLoadingScreen(this.loading);\r\n      let usuario = this.usuarios.find(a=> a.nombreusuario===$(\"#txtUsuario\").val()&& a.contrasenha===$(\"#txtClave\").val());\r\n\r\n      this.loginService.login(this.loginModel.username, this.loginModel.password)\r\n      // this.loginService.login(usuario.nombreusuario, usuario.contrasenha)\r\n          .subscribe(\r\n              response => {\r\n                  //sessionStorage.setItem('token', response.access_token);\r\n                  sessionStorage.setItem(\"username\", usuario.nombreusuario);\r\n                  sessionStorage.setItem('token', usuario.token);\r\n                  \r\n                  localStorage.setItem('usuarioActual', JSON.stringify(usuario));\r\n                  if (usuario.perfil==\"comprador\")\r\n                      this.router.navigate([\"/ordencompra/comprador/buscar\"], { relativeTo: this.route });\r\n                  else\r\n                      this.router.navigate([\"/ordencompra/proveedor/buscar\"], { relativeTo: this.route });                    \r\n                  // this.appUtils.redirect('/home');\r\n              },\r\n              error => {\r\n                  this.finishLoading();\r\n                  this.messageUtils.showError(error);\r\n\r\n\r\n                  swal({\r\n                      text: \"El usuario o clave ingresado no son los correctos!\",\r\n                      type: 'warning',\r\n                      buttonsStyling: false,\r\n                      confirmButtonClass: \"btn btn-warning\"\r\n                  });                    \r\n                \r\n              },\r\n              () => {\r\n                  this.finishLoading();\r\n              }\r\n          );\r\n  }\r\n  \r\n  ngOnInit(){\r\n      this.checkFullPageBackgroundImage();\r\n\r\n      setTimeout(function(){\r\n          // after 1000 ms we add the class animated to the login/register card\r\n          $('.card').removeClass('card-hidden');\r\n      }, 700)\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n      this.uiUtils.addOrRemoveBodyBackGround(true, 'bckgrd-50percent-login');\r\n      this.uiUtils.addOrRemoveStyleFooter(true, 'fixed_full');\r\n  }\r\n\r\n  ngOnDestroy() {\r\n      this.uiUtils.addOrRemoveBodyBackGround(false, 'bckgrd-50percent-login');\r\n      this.uiUtils.addOrRemoveStyleFooter(false, 'fixed_full');\r\n  }\r\n\r\n  finishLoading() {\r\n      this.loading = false;\r\n      this.uiUtils.showOrHideLoadingScreen(this.loading);\r\n  }  \r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/roycer/Documents/OFE/Desarrollo/testtttttt/4/1002.PFE-WEB/src/app/login/login.component.ts","import { NgModule } from '@angular/core';\r\nimport { RouterModule } from '@angular/router';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { LoginComponent } from './login.component';\r\nimport { LoginRoutes } from './login.routing';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        RouterModule.forChild(LoginRoutes),\r\n        FormsModule\r\n    ],\r\n    declarations: [LoginComponent]\r\n})\r\n\r\nexport class LoginModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/roycer/Documents/OFE/Desarrollo/testtttttt/4/1002.PFE-WEB/src/app/login/login.module.ts","import { Routes } from '@angular/router';\r\n\r\nimport { LoginComponent } from './login.component';\r\n\r\nexport const LoginRoutes: Routes = [\r\n  {\r\n\r\n    path: '',\r\n    children: [ {\r\n      path: 'login',\r\n      component: LoginComponent\r\n    }]\r\n  }\r\n];\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/roycer/Documents/OFE/Desarrollo/testtttttt/4/1002.PFE-WEB/src/app/login/login.routing.ts","export class Login {\r\n    username: string;\r\n    password: string;\r\n}\n\n\n// WEBPACK FOOTER //\n// C:/Users/roycer/Documents/OFE/Desarrollo/testtttttt/4/1002.PFE-WEB/src/app/model/login.ts"],"sourceRoot":"webpack:///"}