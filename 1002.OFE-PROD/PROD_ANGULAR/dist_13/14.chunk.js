webpackJsonp([14],{"./src/app/facturacion-electronica/general/models/sincronizacion/estadoSincronizacion.ts":function(o,a,n){"use strict";n.d(a,"a",function(){return r});var r=function(){function o(){}return o}()},"./src/app/facturacion-electronica/general/models/sincronizacion/tipoSincronizacion.ts":function(o,a,n){"use strict";n.d(a,"a",function(){return r});var r=function(){function o(){}return o}()},"./src/app/facturacion-electronica/sincronizacion/sincronizacion-bitacora/sincronizacion-bitacora.component.html":function(o,a){o.exports='<div class="main-content">\r\n    <div class="container-fluid">\r\n        <div class="row">\r\n            <div class="col-lg-12">\r\n                <div class="card">\r\n                    <div class="card-header card-header-text" data-background-color="blue">\r\n                        <h4 class="card-title">{{\'bitacora\' | translate}}</h4>\r\n                    </div>\r\n                    <div class="card-content">\r\n                        <form [formGroup]="bitacoraFormGroup">\r\n                            <div class="row">\r\n                                <div class="col-md-4">\r\n                                    <div class="form-group label-floating">\r\n                                        <label class="control-label">{{\'numeroComprobante\' | translate}}\r\n                                            <span class="star">*</span>\r\n                                        </label>\r\n                                        <input id="txtComprobante" formControlName="txtComprobante" class="form-control" type="text">\r\n                                    </div>\r\n                                </div>\r\n                                <div class="col-md-4">\r\n                                    <div class="form-group label-floating">\r\n                                        <label class="control-label">{{\'generado\' | translate}}\r\n                                            <span class="star">*</span>\r\n                                        </label>\r\n                                        <select name="cmbGenerado" formControlName="cmbGenerado" class="form-control">\r\n                                            <option *ngFor="let generado of tiposSincronizacion" [value]="generado.idTipo"> {{generado.tipo}}</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="col-md-4">\r\n                                    <div class="form-group label-floating">\r\n                                        <label class="control-label">{{\'estadoDocumento\' | translate}}\r\n                                            <span class="star">*</span>\r\n                                        </label>\r\n                                        <select name="cmbEstadoDocumento" formControlName="cmbEstadoDocumento" class="form-control">\r\n                                            <option *ngFor="let estado of estadosDocumentos" [value]="estado.idEstadoComprobante"> {{estado.abreviacion}}</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class="row">\r\n                                <div class="col-md-4">\r\n                                    <div class="form-group label-floating">\r\n                                        <label class="control-label">{{\'fechaSincronizacion\' | translate}} {{\'del\' | translate}}\r\n                                            <span class="star">*</span>\r\n                                        </label>\r\n                                        <input id="datefechaInicio" formControlName="datefechaInicio" type="text" class="form-control" datepicker/>\r\n                                        <span *ngIf="!bitacoraFormGroup.get(\'datefechaInicio\').valid && bitacoraFormGroup.get(\'datefechaInicio\').touched">\r\n                                            <span *ngIf="bitacoraFormGroup.controls[\'datefechaInicio\'].hasError(\'required\')" class="text-danger">{{\'campoRequerido\' | translate}}</span>\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="col-md-4">\r\n                                    <div class="form-group label-floating">\r\n                                        <label class="control-label">{{\'a\' | translate}}\r\n                                            <span class="star">*</span>\r\n                                        </label>\r\n                                        <input id="datefechaFin" formControlName="datefechaFin" type="text" class="form-control" datepicker/>\r\n                                        <span *ngIf="!bitacoraFormGroup.get(\'datefechaFin\').valid && bitacoraFormGroup.get(\'datefechaFin\').touched">\r\n                                            <span *ngIf="bitacoraFormGroup.controls[\'datefechaFin\'].hasError(\'required\')" class="text-danger">{{\'campoRequerido\' | translate}}</span>\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="col-md-4">\r\n                                    <div class="form-group label-floating">\r\n                                        <label class="control-label">{{\'estadoSincronizacion\' | translate}}\r\n                                            <span class="star">*</span>\r\n                                        </label>\r\n                                        <select id="cmbEstadoSincronizacion" name="cmbEstadoSincronizacion" formControlName="cmbEstadoSincronizacion" class="form-control">\r\n                                            <option *ngFor="let estado of estadosSincronizacion" [(value)]="estado.idEstado"> {{estado.estado}}</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class="row">\r\n                                <div class="col-md-12">\r\n                                    <button type="button" class="btn btn-default" (click)="buscar()">Buscar</button>\r\n                                </div>\r\n                            </div>\r\n                            <div class="row">\r\n                                <div class="col-md-12">\r\n                                    <label style="color:red">{{mensaje}}</label>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                        <div class="row">\r\n                            <div class="col-lg-12">\r\n                                <div class="card">\r\n                                    <div class="card-content">\r\n                                        <app-data-table #tablaNormal \r\n                                            [idTabla]="\'tablaBitacora\'" \r\n                                            [cabecera]="cabecera" \r\n                                            [atributos]="atributos"\r\n                                            [usaServicio]="true"\r\n                                            [servicio]="sincronizacionService"\r\n                                            [parametros]="parametros"\r\n                                            [tipoAtributoServicio]="tipoAtributos"\r\n                                            [urlServicio]="urlSincronizado">\r\n                                        </app-data-table>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <hr>\r\n                        <div class="row">\r\n                            <div class="col-lg-6">\r\n                                <div class="card">\r\n                                    <div class="card-header card-header-text" data-background-color="blue">\r\n                                        <h4 class="card-title">{{\'leyenda\' | translate}}</h4>\r\n                                    </div>\r\n                                    <div class="card-content">\r\n                                        <div class="col-lg-2">\r\n                                            <label style="color:green">\r\n                                                <i class="material-icons">fiber_manual_record</i>\r\n                                            </label>\r\n                                        </div>\r\n                                        <div class="col-lg-4">\r\n                                            {{\'sincronizado\' | translate}}\r\n                                        </div>\r\n                                        <div class="col-lg-2">\r\n                                            <label style="color:red">\r\n                                                <i class="material-icons">fiber_manual_record</i>\r\n                                            </label>\r\n                                        </div>\r\n                                        <div class="col-lg-4">\r\n                                            {{\'noEnviado\' | translate}}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="row">\r\n                            <div class="col-lg-12">\r\n                                <button type="button" class="btn btn-default" (click)="volver()">Volver</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},"./src/app/facturacion-electronica/sincronizacion/sincronizacion-bitacora/sincronizacion-bitacora.component.ts":function(o,a,n){"use strict";var r=n("./node_modules/@angular/core/@angular/core.es5.js"),t=n("./node_modules/@angular/forms/@angular/forms.es5.js"),i=n("./node_modules/@angular/router/@angular/router.es5.js"),e=n("./src/app/facturacion-electronica/general/models/sincronizacion/estadoSincronizacion.ts"),c=n("./src/app/facturacion-electronica/general/models/sincronizacion/tipoSincronizacion.ts"),s=n("./src/app/facturacion-electronica/general/data-table/data-table.component.ts"),l=n("./src/app/facturacion-electronica/general/services/documento/estadoDocumento.service.ts"),d=n("./src/app/facturacion-electronica/general/services/sincronizacion/sincronizacion.service.ts"),u=n("./src/app/facturacion-electronica/general/utils/tipos.service.ts"),p=n("./node_modules/@angular/common/@angular/common/http.es5.js");n.d(a,"a",function(){return b});var m=this&&this.__decorate||function(o,a,n,r){var t,i=arguments.length,e=i<3?a:null===r?r=Object.getOwnPropertyDescriptor(a,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)e=Reflect.decorate(o,a,n,r);else for(var c=o.length-1;c>=0;c--)(t=o[c])&&(e=(i<3?t(e):i>3?t(a,n,e):t(a,n))||e);return i>3&&e&&Object.defineProperty(a,n,e),e},f=this&&this.__metadata||function(o,a){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(o,a)},b=function(){function o(o,a,n,r){this.router=o,this.tipos=a,this.sincronizacionService=n,this.estadoDocumentoService=r,this.cabecera=[],this.atributos=[],this.estadosSincronizacion=[],this.tiposSincronizacion=[],this.estadosDocumentos=[],this.sincronizado=new e.a,this.noSincronizado=new e.a,this.onLine=new c.a,this.offLine=new c.a,this.cabecera=["Fecha","Hora","Usuario","NroComprobante","Generado","Estado"],this.atributos=["fechaCreacion","fechaCreacion","idUsuarioCreacion","numeroComprobante","generado","estadoSincronizado"],this.sincronizado.idEstado=1,this.sincronizado.estado="Sincronizado",this.noSincronizado.idEstado=0,this.noSincronizado.estado="No Sincronizado",this.estadosSincronizacion=[this.sincronizado,this.noSincronizado],this.onLine.idTipo=1,this.onLine.tipo="OnLine",this.offLine.idTipo=0,this.offLine.tipo="OffLine",this.tiposSincronizacion=[this.onLine,this.offLine]}return o.prototype.ngOnInit=function(){var o=this;this.initForm(),this.parametros=new p.e,this.estadoDocumentoService.obtenerEstadosComprobantes().subscribe(function(a){o.estadosDocumentos=a}),this.bitacoraSincronizado=this.sincronizacionService.getBitacoraSincronizado(),this.bitacoraSincronizado==this.tipos.TIPO_DOCUMENTO_RETENCION&&(this.tipoAtributos=this.tipos.CABECERA_RETENCIONES,this.urlSincronizado=this.sincronizacionService.getUrlObjeto(),console.log(this.urlSincronizado)),console.log("bitacora obtenida:"+this.bitacoraSincronizado)},o.prototype.initForm=function(){var o=new Date,a=o.getDate().toString()+"/"+o.getMonth().toString()+"/"+o.getFullYear().toString();this.bitacoraFormGroup=new t.FormGroup({txtComprobante:new t.FormControl("",[t.Validators.required]),cmbGenerado:new t.FormControl("",[t.Validators.required]),cmbEstadoDocumento:new t.FormControl("",[t.Validators.required]),datefechaInicio:new t.FormControl(a,[t.Validators.required]),datefechaFin:new t.FormControl(a,[t.Validators.required]),cmbEstadoSincronizacion:new t.FormControl("",[t.Validators.required])})},o.prototype.volver=function(){this.router.navigateByUrl("sincronizacion/sincronizar")},o.prototype.buscar=function(){var o=this.bitacoraFormGroup.get("datefechaInicio").value,a=this.bitacoraFormGroup.get("datefechaFin").value;if(""==o&&""==a)this.mensajeBusqueda="Ingrese la fecha inicio y la fecha fin";else{var n=new Date(Number.parseInt(o.split("/",3)[2]),Number.parseInt(o.split("/",2)[1])-1,Number.parseInt(o.split("/",1)[0]));new Date(Number.parseInt(a.split("/",3)[2]),Number.parseInt(a.split("/",2)[1])-1,Number.parseInt(a.split("/",1)[0]));if(n.getTime()>=n.getTime()){o=o.split("/",3)[2]+"-"+o.split("/",2)[1]+"-"+o.split("/",1)[0],a=a.split("/",3)[2]+"-"+a.split("/",2)[1]+"-"+a.split("/",1)[0];var r=0;""!=this.bitacoraFormGroup.get("cmbGenerado").value&&(r=Number.parseInt(this.bitacoraFormGroup.get("cmbGenerado").value));var t="";if(""!=this.bitacoraFormGroup.get("cmbEstadoDocumento").value)for(var i=this.bitacoraFormGroup.get("cmbEstadoDocumento").value,e=0,c=this.estadosDocumentos;e<c.length;e++){var s=c[e];if(s.idEstadoComprobante==i){t=s.descripcion;break}}var l=0;""!=this.bitacoraFormGroup.get("cmbEstadoSincronizacion").value&&(l=Number.parseInt(this.bitacoraFormGroup.get("cmbEstadoSincronizacion").value));var d="";""!=this.bitacoraFormGroup.get("txtComprobante").value&&(d=this.bitacoraFormGroup.get("txtComprobante").value),this.parametros=(new p.e).set("numeroComprobante",null==d?"":d.toString()).set("generado",null==r?"":r.toString()).set("estado",null==t?"":t.toString()).set("estadoSincronizado",null==l?"":l.toString()).set("fechaInicio",o).set("fechaFin",a),this.tabla.setParametros(this.parametros),this.tabla.cargaData(this.urlSincronizado+this.sincronizacionService.filtro)}else this.mensajeBusqueda="La fecha inicio no puede ser mayor a la fecha fin"}},o}();m([n.i(r.ViewChild)("tablaNormal"),f("design:type","function"==typeof(v=void 0!==s.a&&s.a)&&v||Object)],b.prototype,"tabla",void 0),b=m([n.i(r.Component)({selector:"app-bitacora",template:n("./src/app/facturacion-electronica/sincronizacion/sincronizacion-bitacora/sincronizacion-bitacora.component.html"),providers:[d.a],styleUrls:[]}),f("design:paramtypes",["function"==typeof(h=void 0!==i.b&&i.b)&&h||Object,"function"==typeof(g=void 0!==u.a&&u.a)&&g||Object,"function"==typeof(z=void 0!==d.a&&d.a)&&z||Object,"function"==typeof(S=void 0!==l.a&&l.a)&&S||Object])],b);var v,h,g,z,S},"./src/app/facturacion-electronica/sincronizacion/sincronizacion-bitacora/sincronizacion-bitacora.module.ts":function(o,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=n("./node_modules/@angular/core/@angular/core.es5.js"),t=n("./node_modules/@angular/common/@angular/common.es5.js"),i=n("./node_modules/@ngx-translate/core/index.js"),e=n("./src/app/facturacion-electronica/general/services/sincronizacion/sincronizacion.service.ts"),c=n("./src/app/facturacion-electronica/sincronizacion/sincronizacion-bitacora/sincronizacion-bitacora.component.ts"),s=n("./src/app/facturacion-electronica/sincronizacion/sincronizacion-bitacora/sincronizacion-bitacora.routing.module.ts"),l=n("./src/app/facturacion-electronica/general/data-table/data-table.module.ts"),d=n("./node_modules/@angular/forms/@angular/forms.es5.js"),u=n("./src/app/directives/datepicker.module.ts"),p=n("./src/app/facturacion-electronica/general/services/documento/estadoDocumento.service.ts"),m=n("./src/app/facturacion-electronica/general/utils/tipos.service.ts");n.d(a,"BitacoraModule",function(){return b});var f=this&&this.__decorate||function(o,a,n,r){var t,i=arguments.length,e=i<3?a:null===r?r=Object.getOwnPropertyDescriptor(a,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)e=Reflect.decorate(o,a,n,r);else for(var c=o.length-1;c>=0;c--)(t=o[c])&&(e=(i<3?t(e):i>3?t(a,n,e):t(a,n))||e);return i>3&&e&&Object.defineProperty(a,n,e),e},b=function(){function o(){}return o}();b=f([n.i(r.NgModule)({imports:[t.CommonModule,i.a,s.a,l.a,d.ReactiveFormsModule,u.a],declarations:[c.a],providers:[e.a,p.a,m.a]})],b)},"./src/app/facturacion-electronica/sincronizacion/sincronizacion-bitacora/sincronizacion-bitacora.routing.module.ts":function(o,a,n){"use strict";var r=n("./node_modules/@angular/core/@angular/core.es5.js"),t=n("./node_modules/@angular/router/@angular/router.es5.js"),i=n("./src/app/facturacion-electronica/sincronizacion/sincronizacion-bitacora/sincronizacion-bitacora.component.ts");n.d(a,"a",function(){return s});var e=this&&this.__decorate||function(o,a,n,r){var t,i=arguments.length,e=i<3?a:null===r?r=Object.getOwnPropertyDescriptor(a,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)e=Reflect.decorate(o,a,n,r);else for(var c=o.length-1;c>=0;c--)(t=o[c])&&(e=(i<3?t(e):i>3?t(a,n,e):t(a,n))||e);return i>3&&e&&Object.defineProperty(a,n,e),e},c=[{path:"",children:[{path:"",pathMatch:"full",redirectTo:"sincronizar"},{path:"bitacora",component:i.a}]}],s=function(){function o(){}return o}();s=e([n.i(r.NgModule)({imports:[t.a.forChild(c)],exports:[t.a]})],s)}});