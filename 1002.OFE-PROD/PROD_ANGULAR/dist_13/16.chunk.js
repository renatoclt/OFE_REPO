webpackJsonp([16],{"./src/app/facturacion-electronica/general/services/sincronizacion/parametros.service.ts":function(e,n,t){"use strict";var o=t("./node_modules/@angular/core/@angular/core.es5.js"),r=t("./node_modules/@angular/common/@angular/common/http.es5.js"),c=t("./node_modules/rxjs/BehaviorSubject.js"),i=(t.n(c),t("./src/app/facturacion-electronica/general/services/servidores.ts")),a=t("./node_modules/angular-persistence/index.js");t.d(n,"a",function(){return u});var s=this&&this.__decorate||function(e,n,t,o){var r,c=arguments.length,i=c<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,n,t,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(c<3?r(i):c>3?r(n,t,i):r(n,t))||i);return c>3&&i&&Object.defineProperty(n,t,i),i},l=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},u=function(){function e(e,n,t){this.httpClient=e,this.persistenceService=n,this.servidores=t,this.urlParametros=t.PARMQRY,this.urlTiposCalculo="http://localhost:3000/v1/sincronizacion/tipoCalcIsc"}return e.prototype.buscarParametros=function(){var e=new c.BehaviorSubject({});return this.httpClient.get(this.urlParametros).subscribe(function(n){e.next(n)}),e},e.prototype.obtenerTipoCalculo=function(e){var n=new c.BehaviorSubject([]);return this.httpClient.get(e).map(function(e){return e._embedded.tipoCalculoIscRedises}).subscribe(function(e){n.next(e)}),n},e.prototype.guardarTipoCalculo=function(e){var n="",t=JSON.stringify(e);return this.httpClient.post(this.urlTiposCalculo,t).subscribe(function(e){console.log(e),n="se registraron los tipos de calculo obtenidos"},function(e){console.log(e),n="Error, no se pudo registrar los tipos de calculo"}),n},e}();u=s([t.i(o.Injectable)(),l("design:paramtypes",["function"==typeof(p=void 0!==r.b&&r.b)&&p||Object,"function"==typeof(d=void 0!==a.c&&a.c)&&d||Object,"function"==typeof(f=void 0!==i.a&&i.a)&&f||Object])],u);var p,d,f},"./src/app/facturacion-electronica/sincronizacion/sincronizacion.component.html":function(e,n){e.exports='<div class="main-content">\r\n    <div class="container-fluid">\r\n        <div class="row">\r\n            <div class="col-lg-12">\r\n                <div class="card">\r\n                    <div class="card-header card-header-text" data-background-color="blue">\r\n                        <h4 class="card-title">{{\'sincronizacion\' | translate}}</h4>\r\n                    </div>\r\n                    <div class="card-content">\r\n                        <div class="col-lg-12">\r\n                            <div class="card">\r\n                                <div class="card-content">\r\n                                    <table class="table">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th scope="col">codigo</th>\r\n                                                <th scope="col">{{\'documento\' | translate}}</th>\r\n                                                <th scope="col">{{\'ultimaFechaSincronizacion\' | translate}}</th>\r\n                                                <th scope="col">tipo comprobante</th>\r\n                                                <th scope="col">{{\'accion\' | translate}}</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr *ngFor="let item of listSincronizacion">\r\n                                                <th scope="col">{{item.id}}</th>\r\n                                                <th scope="col">{{item.descripcion}}</th>\r\n                                                <th scope="col">{{item.fechaSincronizacion}}</th>\r\n                                                <th scope="col">{{item.tipoComprobante}}</th>\r\n                                                <th scope="col">\r\n                                                    <button type="button" style="background: transparent; border: 0px" (click)="verBitacora(item.tipoComprobante)">\r\n                                                        <i class="material-icons">book</i>\r\n                                                    </button>\r\n                                                    <button type="button" style="background: transparent; border: 0px" (click)="sincronizar(item)">\r\n                                                        <i class="material-icons">autorenew</i>\r\n                                                    </button>\r\n                                                </th>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},"./src/app/facturacion-electronica/sincronizacion/sincronizacion.component.ts":function(e,n,t){"use strict";var o=t("./node_modules/@angular/core/@angular/core.es5.js"),r=t("./node_modules/@angular/router/@angular/router.es5.js"),c=t("./src/app/facturacion-electronica/general/services/sincronizacion/sincronizacion.service.ts"),i=t("./src/app/facturacion-electronica/general/services/sincronizacion/parametros.service.ts"),a=t("./src/app/facturacion-electronica/general/data-table/data-table.component.ts"),s=t("./src/app/facturacion-electronica/general/models/configuracionDocumento/idioma.ts");t.d(n,"a",function(){return p});var l=this&&this.__decorate||function(e,n,t,o){var r,c=arguments.length,i=c<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,n,t,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(c<3?r(i):c>3?r(n,t,i):r(n,t))||i);return c>3&&i&&Object.defineProperty(n,t,i),i},u=this&&this.__metadata||function(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)},p=function(){function e(e,n,t){this.router=e,this.sincronizacionService=n,this.parametrosService=t,this.listSincronizacion=[],this.cabecera=[],this.atributos=[],this.cabecera=["Documento","Ultima Fecha Sincronizacion","Acciones"],this.atributos=["TipoComprobante","FechaSincronizacion","Acciones"]}return e.prototype.ngOnInit=function(){this.obtenerSincronizaciones()},e.prototype.verBitacora=function(e){this.sincronizacionService.setBitacoraSincronizado(e),this.router.navigateByUrl("sincronizacion/bitacora")},e.prototype.sincronizar=function(e){var n=this,t="";if(6==e.id){var o="";this.parametrosService.buscarParametros().subscribe(function(e){void 0!=e._links&&(o=e._links.tipoCalculoIscRedises.href,n.parametrosService.obtenerTipoCalculo(o).subscribe(function(e){e.length>0&&(t=n.parametrosService.guardarTipoCalculo(e))}))})}},e.prototype.obtenerSincronizaciones=function(){var e=this,n=s.a.idIdioma;this.sincronizacionService.buscarPorIdioma(n).subscribe(function(n){e.listSincronizacion=n})},e}();l([t.i(o.ViewChild)("tablaNormal"),u("design:type","function"==typeof(d=void 0!==a.a&&a.a)&&d||Object)],p.prototype,"tabla",void 0),p=l([t.i(o.Component)({selector:"app-sincronizacion",template:t("./src/app/facturacion-electronica/sincronizacion/sincronizacion.component.html"),providers:[c.a],styleUrls:[]}),u("design:paramtypes",["function"==typeof(f=void 0!==r.b&&r.b)&&f||Object,"function"==typeof(h=void 0!==c.a&&c.a)&&h||Object,"function"==typeof(v=void 0!==i.a&&i.a)&&v||Object])],p);var d,f,h,v},"./src/app/facturacion-electronica/sincronizacion/sincronizacion.module.ts":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("./node_modules/@angular/core/@angular/core.es5.js"),r=t("./node_modules/@angular/common/@angular/common.es5.js"),c=t("./node_modules/@ngx-translate/core/index.js"),i=t("./src/app/facturacion-electronica/general/services/sincronizacion/sincronizacion.service.ts"),a=t("./src/app/facturacion-electronica/general/services/sincronizacion/parametros.service.ts"),s=t("./src/app/facturacion-electronica/sincronizacion/sincronizacion.component.ts"),l=t("./src/app/facturacion-electronica/sincronizacion/sincronizacion.routing.module.ts");t.d(n,"SincronizacionModule",function(){return p});var u=this&&this.__decorate||function(e,n,t,o){var r,c=arguments.length,i=c<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,n,t,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(c<3?r(i):c>3?r(n,t,i):r(n,t))||i);return c>3&&i&&Object.defineProperty(n,t,i),i},p=function(){function e(){}return e}();p=u([t.i(o.NgModule)({imports:[r.CommonModule,c.a,l.a],declarations:[s.a],providers:[i.a,a.a]})],p)},"./src/app/facturacion-electronica/sincronizacion/sincronizacion.routing.module.ts":function(e,n,t){"use strict";var o=t("./node_modules/@angular/core/@angular/core.es5.js"),r=t("./node_modules/@angular/router/@angular/router.es5.js"),c=t("./src/app/facturacion-electronica/sincronizacion/sincronizacion.component.ts");t.d(n,"a",function(){return s});var i=this&&this.__decorate||function(e,n,t,o){var r,c=arguments.length,i=c<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,n,t,o);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(i=(c<3?r(i):c>3?r(n,t,i):r(n,t))||i);return c>3&&i&&Object.defineProperty(n,t,i),i},a=[{path:"",children:[{path:"",pathMatch:"full",redirectTo:"sincronizar"},{path:"sincronizar",component:c.a}]}],s=function(){function e(){}return e}();s=i([t.i(o.NgModule)({imports:[r.a.forChild(a)],exports:[r.a]})],s)}});