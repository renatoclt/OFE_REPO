webpackJsonp([1],{"./node_modules/written-number/lib/i18n/en-indian.json":function(e,t){e.exports={useLongScale:!1,baseSeparator:"-",unitSeparator:"and ",base:{0:"zero",1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen",17:"seventeen",18:"eighteen",19:"nineteen",20:"twenty",30:"thirty",40:"forty",50:"fifty",60:"sixty",70:"seventy",80:"eighty",90:"ninety"},units:{2:"hundred",3:"thousand",5:"lakh",7:"crore"},unitExceptions:[]}},"./node_modules/written-number/lib/i18n/en.json":function(e,t){e.exports={useLongScale:!1,baseSeparator:"-",unitSeparator:"and ",base:{0:"zero",1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen",17:"seventeen",18:"eighteen",19:"nineteen",20:"twenty",30:"thirty",40:"forty",50:"fifty",60:"sixty",70:"seventy",80:"eighty",90:"ninety"},units:["hundred","thousand","million","billion","trillion","quadrillion","quintillion","sextillion","septillion","octillion","nonillion","decillion","undecillion","duodecillion","tredecillion","quattuordecillion","quindecillion"],unitExceptions:[]}},"./node_modules/written-number/lib/i18n/eo.json":function(e,t){e.exports={useLongScale:!1,baseSeparator:" ",unitSeparator:"",base:{0:"nulo",1:"unu",2:"du",3:"tri",4:"kvar",5:"kvin",6:"ses",7:"sep",8:"ok",9:"naŭ",10:"dek",20:"dudek",30:"tridek",40:"kvardek",50:"kvindek",60:"sesdek",70:"sepdek",80:"okdek",90:"naŭdek",100:"cent",200:"ducent",300:"tricent",400:"kvarcent",500:"kvincent",600:"sescent",700:"sepcent",800:"okcent",900:"naŭcent"},units:[{useBaseInstead:!0,useBaseException:[]},{singular:"mil",avoidPrefixException:[1]},{singular:"miliono",plural:"milionoj",avoidPrefixException:[1]},{singular:"miliardo",plural:"miliardoj",avoidPrefixException:[1]},{singular:"biliono",plural:"bilionoj",avoidPrefixException:[1]}],unitExceptions:[]}},"./node_modules/written-number/lib/i18n/es.json":function(e,t){e.exports={useLongScale:!0,baseSeparator:" y ",unitSeparator:"",base:{0:"cero",1:"uno",2:"dos",3:"tres",4:"cuatro",5:"cinco",6:"seis",7:"siete",8:"ocho",9:"nueve",10:"diez",11:"once",12:"doce",13:"trece",14:"catorce",15:"quince",16:"dieciséis",17:"diecisiete",18:"dieciocho",19:"diecinueve",20:"veinte",21:"veintiuno",22:"veintidós",23:"veintitrés",24:"veinticuatro",25:"veinticinco",26:"veintiséis",27:"veintisiete",28:"veintiocho",29:"veintinueve",30:"treinta",40:"cuarenta",50:"cincuenta",60:"sesenta",70:"setenta",80:"ochenta",90:"noventa",100:"cien",200:"doscientos",300:"trescientos",400:"cuatrocientos",500:"quinientos",600:"seiscientos",700:"setecientos",800:"ochocientos",900:"novecientos",1000:"mil"},unitExceptions:{1:"un"},units:[{singular:"ciento",useBaseInstead:!0,useBaseException:[1]},{singular:"mil",avoidPrefixException:[1]},{singular:"millón",plural:"millones"},{singular:"billón",plural:"billones"},{singular:"trillón",plural:"trillones"},{singular:"cuatrillón",plural:"cuatrillones"},{singular:"quintillón",plural:"quintillones"},{singular:"sextillón",plural:"sextillones"},{singular:"septillón",plural:"septillones"},{singular:"octillón",plural:"octillones"},{singular:"nonillón",plural:"nonillones"},{singular:"decillón",plural:"decillones"},{singular:"undecillón",plural:"undecillones"},{singular:"duodecillón",plural:"duodecillones"},{singular:"tredecillón",plural:"tredecillones"},{singular:"cuatrodecillón",plural:"cuatrodecillones"},{singular:"quindecillón",plural:"quindecillones"}]}},"./node_modules/written-number/lib/i18n/fr.json":function(e,t){e.exports={useLongScale:!1,baseSeparator:"-",unitSeparator:"",base:{0:"zéro",1:"un",2:"deux",3:"trois",4:"quatre",5:"cinq",6:"six",7:"sept",8:"huit",9:"neuf",10:"dix",11:"onze",12:"douze",13:"treize",14:"quatorze",15:"quinze",16:"seize",17:"dix-sept",18:"dix-huit",19:"dix-neuf",20:"vingt",30:"trente",40:"quarante",50:"cinquante",60:"soixante",70:"soixante-dix",80:"quatre-vingt",90:"quatre-vingt-dix"},units:[{singular:"cent",plural:"cents",avoidInNumberPlural:!0,avoidPrefixException:[1]},{singular:"mille",avoidPrefixException:[1]},{singular:"million",plural:"millions"},{singular:"milliard",plural:"milliards"},{singular:"billion",plural:"billions"},{singular:"billiard",plural:"billiards"},{singular:"trillion",plural:"trillions"},{singular:"trilliard",plural:"trilliards"},{singular:"quadrillion",plural:"quadrillions"},{singular:"quadrilliard",plural:"quadrilliards"},{singular:"quintillion",plural:"quintillions"},{singular:"quintilliard",plural:"quintilliards"},{singular:"sextillion",plural:"sextillions"},{singular:"sextilliard",plural:"sextilliards"},{singular:"septillion",plural:"septillions"},{singular:"septilliard",plural:"septilliards"},{singular:"octillion",plural:"octillions"}],unitExceptions:{71:"soixante et onze",72:"soixante-douze",73:"soixante-treize",74:"soixante-quatorze",75:"soixante-quinze",76:"soixante-seize",77:"soixante-dix-sept",78:"soixante-dix-huit",79:"soixante-dix-neuf",80:"quatre-vingts",91:"quatre-vingt-onze",92:"quatre-vingt-douze",93:"quatre-vingt-treize",94:"quatre-vingt-quatorze",95:"quatre-vingt-quinze",96:"quatre-vingt-seize",97:"quatre-vingt-dix-sept",98:"quatre-vingt-dix-huit",99:"quatre-vingt-dix-neuf"}}},"./node_modules/written-number/lib/i18n/hu.json":function(e,t){e.exports={useLongScale:!0,baseSeparator:"",unitSeparator:"és ",base:{0:"nulla",1:"egy",2:"kettő",3:"három",4:"négy",5:"öt",6:"hat",7:"hét",8:"nyolc",9:"kilenc",10:"tíz",11:"tizenegy",12:"tizenkettő",13:"tizenhárom",14:"tizennégy",15:"tizenöt",16:"tizenhat",17:"tizenhét",18:"tizennyolc",19:"tizenkilenc",20:"húsz",21:"huszonegy",22:"huszonkettő",23:"huszonhárom",24:"huszonnégy",25:"huszonöt",26:"huszonhat",27:"huszonhét",28:"huszonnyolc",29:"huszonkilenc",30:"harminc",40:"negyven",50:"ötven",60:"hatvan",70:"hetven",80:"nyolcvan",90:"kilencven",100:"száz",200:"kétszáz",300:"háromszáz",400:"négyszáz",500:"ötszáz",600:"hatszáz",700:"hétszáz",800:"nyolcszáz",900:"kilencszáz",1000:"ezer"},unitExceptions:{1:"egy"},units:[{singular:"száz",useBaseInstead:!0,useBaseException:[1]},{singular:"ezer",avoidPrefixException:[1]},{singular:"millió",avoidPrefixException:[1]},{singular:"milliárd",avoidPrefixException:[1]},{singular:"-billió",avoidPrefixException:[1]},{singular:"billiárd",avoidPrefixException:[1]},{singular:"trillió",avoidPrefixException:[1]},{singular:"trilliárd",avoidPrefixException:[1]},{singular:"kvadrillió",avoidPrefixException:[1]},{singular:"kvadrilliárd",avoidPrefixException:[1]},{singular:"kvintillió",avoidPrefixException:[1]},{singular:"kvintilliárd",avoidPrefixException:[1]},{singular:"szextillió",avoidPrefixException:[1]},{singular:"szeptillió",avoidPrefixException:[1]},{singular:"oktillió",avoidPrefixException:[1]},{singular:"nonillió",avoidPrefixException:[1]}]}},"./node_modules/written-number/lib/i18n/it.json":function(e,t){e.exports={useLongScale:!1,baseSeparator:"",unitSeparator:"",generalSeparator:"",wordSeparator:"",base:{0:"zero",1:"uno",2:"due",3:"tre",4:"quattro",5:"cinque",6:"sei",7:"sette",8:"otto",9:"nove",10:"dieci",11:"undici",12:"dodici",13:"tredici",14:"quattordici",15:"quindici",16:"sedici",17:"diciassette",18:"diciotto",19:"diciannove",20:"venti",21:"ventuno",23:"ventitré",28:"ventotto",30:"trenta",31:"trentuno",33:"trentatré",38:"trentotto",40:"quaranta",41:"quarantuno",43:"quaranta­tré",48:"quarantotto",50:"cinquanta",51:"cinquantuno",53:"cinquantatré",58:"cinquantotto",60:"sessanta",61:"sessantuno",63:"sessanta­tré",68:"sessantotto",70:"settanta",71:"settantuno",73:"settantatré",78:"settantotto",80:"ottanta",81:"ottantuno",83:"ottantatré",88:"ottantotto",90:"novanta",91:"novantuno",93:"novantatré",98:"novantotto",100:"cento",101:"centuno",108:"centootto",180:"centottanta",201:"duecentuno",301:"tre­cent­uno",401:"quattro­cent­uno",501:"cinque­cent­uno",601:"sei­cent­uno",701:"sette­cent­uno",801:"otto­cent­uno",901:"nove­cent­uno"},unitExceptions:{1:"un"},units:[{singular:"cento",avoidPrefixException:[1]},{singular:"mille",plural:"mila",avoidPrefixException:[1]},{singular:"milione",plural:"milioni"},{singular:"miliardo",plural:"miliardi"},{singular:"bilione",plural:"bilioni"},{singular:"biliardo",plural:"biliardi"},{singular:"trilione",plural:"trilioni"},{singular:"triliardo",plural:"triliardi"},{singular:"quadrilione",plural:"quadrilioni"},{singular:"quadriliardo",plural:"quadriliardi"}]}},"./node_modules/written-number/lib/i18n/pt-PT.json":function(e,t){e.exports={useLongScale:!0,baseSeparator:" e ",unitSeparator:"e ",andWhenTrailing:!0,base:{0:"zero",1:"um",2:"dois",3:"três",4:"quatro",5:"cinco",6:"seis",7:"sete",8:"oito",9:"nove",10:"dez",11:"onze",12:"doze",13:"treze",14:"catorze",15:"quinze",16:"dezasseis",17:"dezassete",18:"dezoito",19:"dezanove",20:"vinte",30:"trinta",40:"quarenta",50:"cinquenta",60:"sessenta",70:"setenta",80:"oitenta",90:"noventa",100:"cem",200:"duzentos",300:"trezentos",400:"quatrocentos",500:"quinhentos",600:"seiscentos",700:"setecentos",800:"oitocentos",900:"novecentos",1000:"mil"},unitExceptions:{1:"um"},units:[{singular:"cento",useBaseInstead:!0,useBaseException:[1],useBaseExceptionWhenNoTrailingNumbers:!0,andException:!0},{singular:"mil",avoidPrefixException:[1],andException:!0},{singular:"milhão",plural:"milhões"},{singular:"bilião",plural:"biliões"},{singular:"trilião",plural:"triliões"},{singular:"quadrilião",plural:"quadriliões"},{singular:"quintilião",plural:"quintiliões"},{singular:"sextilião",plural:"sextiliões"},{singular:"septilião",plural:"septiliões"},{singular:"octilião",plural:"octiliões"},{singular:"nonilião",plural:"noniliões"},{singular:"decilião",plural:"deciliões"}]}},"./node_modules/written-number/lib/i18n/pt.json":function(e,t){e.exports={useLongScale:!1,baseSeparator:" e ",unitSeparator:"e ",andWhenTrailing:!0,base:{0:"zero",1:"um",2:"dois",3:"três",4:"quatro",5:"cinco",6:"seis",7:"sete",8:"oito",9:"nove",10:"dez",11:"onze",12:"doze",13:"treze",14:"catorze",15:"quinze",16:"dezesseis",17:"dezessete",18:"dezoito",19:"dezenove",20:"vinte",30:"trinta",40:"quarenta",50:"cinquenta",60:"sessenta",70:"setenta",80:"oitenta",90:"noventa",100:"cem",200:"duzentos",300:"trezentos",400:"quatrocentos",500:"quinhentos",600:"seiscentos",700:"setecentos",800:"oitocentos",900:"novecentos",1000:"mil"},unitExceptions:{1:"um"},units:[{singular:"cento",useBaseInstead:!0,useBaseException:[1],useBaseExceptionWhenNoTrailingNumbers:!0,andException:!0},{singular:"mil",avoidPrefixException:[1],andException:!0},{singular:"milhão",plural:"milhões"},{singular:"bilhão",plural:"bilhões"},{singular:"trilhão",plural:"trilhões"},{singular:"quadrilhão",plural:"quadrilhão"},{singular:"quintilhão",plural:"quintilhões"},{singular:"sextilhão",plural:"sextilhões"},{singular:"septilhão",plural:"septilhões"},{singular:"octilhão",plural:"octilhões"},{singular:"nonilhão",plural:"nonilhões"},{singular:"decilhão",plural:"decilhões"},{singular:"undecilhão",plural:"undecilhões"},{singular:"doudecilhão",plural:"doudecilhões"},{singular:"tredecilhão",plural:"tredecilhões"}]}},"./node_modules/written-number/lib/i18n/tr.json":function(e,t){e.exports={useLongScale:!1,baseSeparator:" ",unitSeparator:"",base:{0:"sıfır",1:"bir",2:"iki",3:"üç",4:"dört",5:"beş",6:"altı",7:"yedi",8:"sekiz",9:"dokuz",10:"on",20:"yirmi",30:"otuz",40:"kırk",50:"elli",60:"altmış",70:"yetmiş",80:"seksen",90:"doksan"},units:[{singular:"yüz",avoidPrefixException:[1]},{singular:"bin",avoidPrefixException:[1]},"milyon","milyar","trilyon","katrilyon","kentilyon","sekstilyon","septilyon","oktilyon","nonilyon","desilyon","andesilyon","dodesilyon","tredesilyon","katordesilyon","kendesilyon"],unitExceptions:[]}},"./node_modules/written-number/lib/i18n/vi.json":function(e,t){e.exports={useLongScale:!1,baseSeparator:" ",unitSeparator:"và ",base:{0:"không",1:"một",2:"hai",3:"ba",4:"bốn",5:"năm",6:"sáu",7:"bảy",8:"tám",9:"chín",10:"mười",15:"mười lăm",20:"hai mươi",21:"hai mươi mốt",25:"hai mươi lăm",30:"ba mươi",31:"ba mươi mốt",40:"bốn mươi",41:"bốn mươi mốt",45:"bốn mươi lăm",50:"năm mươi",51:"năm mươi mốt",55:"năm mươi lăm",60:"sáu mươi",61:"sáu mươi mốt",65:"sáu mươi lăm",70:"bảy mươi",71:"bảy mươi mốt",75:"bảy mươi lăm",80:"tám mươi",81:"tám mươi mốt",85:"tám mươi lăm",90:"chín mươi",91:"chín mươi mốt",95:"chín mươi lăm"},units:["trăm","ngàn","triệu","tỷ","nghìn tỷ"],unitExceptions:[]}},"./node_modules/written-number/lib/index.js":function(e,t,i){"use strict";function r(e,t){if(t=t||{},t=o.defaults(t,r.defaults),e<0)return"";e=Math.round(+e);var i,l="string"==typeof t.lang?c[t.lang]:t.lang,d=l.useLongScale?p:s,u=l.units;if(!(u instanceof Array)){var m=u;u=[],d=Object.keys(m);for(var v in d)u.push(m[d[v]]),d[v]=Math.pow(10,parseInt(d[v]))}l||(a.indexOf(r.defaults.lang)<0&&(r.defaults.lang="en"),l=c[r.defaults.lang]);var h=l.base;if(l.unitExceptions[e])return l.unitExceptions[e];if(h[e])return h[e];if(e<100)return n(e,l,i,h,t);var b=e%100,f=[];b&&(!t.noAnd||l.andException&&l.andException[10]?f.push(l.unitSeparator+r(b,t)):f.push(r(b,t)));for(var g,v=0,x=u.length;v<x;v++){var y,_=Math.floor(e/d[v]);if(y=v===x-1?1e6:d[v+1]/d[v],_%=y,i=u[v],_)if(g=d[v],i.useBaseInstead){var E=i.useBaseException.indexOf(_)>-1&&(!i.useBaseExceptionWhenNoTrailingNumbers||0===v&&f.length);E?f.push(_>1&&i.plural?i.plural:i.singular):f.push(h[_*d[v]])}else{var w;if(w="string"==typeof i?i:!(_>1&&i.plural)||i.avoidInNumberPlural&&b?i.singular:i.plural,i.avoidPrefixException&&i.avoidPrefixException.indexOf(_)>-1)f.push(w);else{var C=l.unitExceptions[_],D=C||r(_,o.defaults({noAnd:!(l.andException&&l.andException[_]||i.andException)},t));e-=_*d[v],f.push(D+" "+w)}}}var O=g*Math.floor(e/g),S=e-O;return l.andWhenTrailing&&g&&0<S&&0!==f[0].indexOf(l.unitSeparator)&&(f=[f[0],l.unitSeparator.replace(/\s+$/,"")].concat(f.slice(1))),f.reverse().join(" ")}function n(e,t,i,n,o){var a=10*Math.floor(e/10);return i=e-a,i?n[a]+t.baseSeparator+r(i,o):n[a]}t=e.exports=r;var o=i("./node_modules/written-number/lib/util.js"),a=["en","es","pt","fr","eo","it","vi","tr"],c={en:i("./node_modules/written-number/lib/i18n/en.json"),es:i("./node_modules/written-number/lib/i18n/es.json"),pt:i("./node_modules/written-number/lib/i18n/pt.json"),ptPT:i("./node_modules/written-number/lib/i18n/pt-PT.json"),fr:i("./node_modules/written-number/lib/i18n/fr.json"),eo:i("./node_modules/written-number/lib/i18n/eo.json"),it:i("./node_modules/written-number/lib/i18n/it.json"),vi:i("./node_modules/written-number/lib/i18n/vi.json"),tr:i("./node_modules/written-number/lib/i18n/tr.json"),hu:i("./node_modules/written-number/lib/i18n/hu.json"),enIndian:i("./node_modules/written-number/lib/i18n/en-indian.json")};t.i18n=c;for(var s=[100],l=1;l<=16;l++)s.push(Math.pow(10,3*l));var p=[100,1e3];for(l=1;l<=15;l++)p.push(Math.pow(10,6*l));r.defaults={noAnd:!1,lang:"en"}},"./node_modules/written-number/lib/util.js":function(e,t,i){"use strict";function r(e,t){null==e&&(e={});for(var i={},r=Object.keys(t),n=0,o=r.length;n<o;n++){var a=r[n];i[a]=e[a]||t[a]}return i}t.defaults=r},"./src/app/facturacion-electronica/general/services/comprobantes/retenciones.service.ts":function(e,t,i){"use strict";var r=i("./node_modules/@angular/core/@angular/core.es5.js"),n=i("./node_modules/@angular/common/@angular/common/http.es5.js"),o=i("./src/app/facturacion-electronica/general/services/servidores.ts"),a=i("./node_modules/rxjs/Rx.js");i.n(a);i.d(t,"a",function(){return l});var c=this&&this.__decorate||function(e,t,i,r){var n,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(o<3?n(a):o>3?n(t,i,a):n(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t){this.httpClient=e,this.servidores=t,this.url="fe/ms-documentos-query/v1/documento",this.url=this.servidores.DOCUQRY+this.url}return e.prototype.buscar=function(e){var t=new a.BehaviorSubject([]);return this.httpClient.get(this.url,{params:e}).map(function(e){return e.content}).subscribe(function(e){t.next(e),console.log(t.getValue())}),t},e.prototype.buscarComprobante=function(e){var t=(new n.c).set("id",e);return this.buscar(t)},e}();l=c([i.i(r.Injectable)(),s("design:paramtypes",["function"==typeof(p=void 0!==n.b&&n.b)&&p||Object,"function"==typeof(d=void 0!==o.a&&o.a)&&d||Object])],l);var p,d},"./src/app/facturacion-electronica/general/services/documento/nuevoDocumento.ts":function(e,t,i){"use strict";var r=i("./node_modules/@angular/core/@angular/core.es5.js"),n=i("./node_modules/@angular/common/@angular/common/http.es5.js"),o=i("./src/app/facturacion-electronica/general/services/servidores.ts"),a=i("./src/app/facturacion-electronica/percepcion-retencion/models/post_retencion.ts"),c=i("./src/app/facturacion-electronica/percepcion-retencion/services/persistencia-post.ts");i.d(t,"a",function(){return p});var s=this&&this.__decorate||function(e,t,i,r){var n,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(o<3?n(a):o>3?n(t,i,a):n(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,i){this.httpClient=e,this.servidores=t,this._postpersisservice=i,this.url="/documentos",this.url=this.servidores.DOCUCMD+this.url}return e.prototype.subir=function(e){var t=this;console.log(JSON.stringify(e)),this.httpClient.post(this.url,JSON.stringify(e)).subscribe(function(e){var i=new a.a;i.id=e.id,i.fechaEmision=e.fechaEmision,i.numerocomprobante=e.numeroComprobante,i.tipocomprobante=e.tipoComprobante,t._postpersisservice.setPostRetencion(i)},function(e){console.log("error"),console.log(e)})},e}();p=s([i.i(r.Injectable)(),l("design:paramtypes",["function"==typeof(d=void 0!==n.b&&n.b)&&d||Object,"function"==typeof(u=void 0!==o.a&&o.a)&&u||Object,"function"==typeof(m=void 0!==c.a&&c.a)&&m||Object])],p);var d,u,m},"./src/app/facturacion-electronica/general/utils/estadoArchivo.service.ts":function(e,t,i){"use strict";var r=i("./node_modules/@angular/core/@angular/core.es5.js");i.d(t,"a",function(){return o});var n=this&&this.__decorate||function(e,t,i,r){var n,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(o<3?n(a):o>3?n(t,i,a):n(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},o=function(){function e(){this.TIPO_ESTADO_ARCHIVO_CON_ERROR=1,this.TIPO_ESTADO_ARCHIVO_CON_ERROR_NOMBRE="Con Error",this.TIPO_ESTADO_ARCHIVO_EN_PROCESO=2,this.TIPO_ESTADO_ARCHIVO_EN_PROCESO_NOMBRE="En Proceso",this.TIPO_ESTADO_ARCHIVO_PROCESADO=3,this.TIPO_ESTADO_ARCHIVO_PROCESADO_NOMBRE="Procesado"}return e}();o=n([i.i(r.Injectable)()],o)},"./src/app/facturacion-electronica/percepcion-retencion/models/archivoMasiva.ts":function(e,t,i){"use strict";i.d(t,"a",function(){return r}),i.d(t,"b",function(){return n});var r=function(){function e(){}return e.prototype.crearArchivoMasivaEntrada=function(e,t,i,r,n,o,a,c,s,l,p){this.idEntidad=e,this.tipoEntidad=t,this.correoEntidad=i,this.rucComprador=r,this.idTipoDocumento=n,this.usuario=o,this.fecha=a,this.ubigeo=c,this.nombreArchivo=s,this.tamanhoArchivo=l,this.data=p},e}(),n=function(){function e(){}return e}();!function(){function e(){}}()},"./src/app/facturacion-electronica/percepcion-retencion/models/post_retencion.ts":function(e,t,i){"use strict";i.d(t,"a",function(){return r});var r=function(){function e(){this.id="",this.numerocomprobante="",this.fechaEmision="",this.tipocomprobante=""}return e}()},"./src/app/facturacion-electronica/percepcion-retencion/models/principal-retencion.ts":function(e,t,i){"use strict";i.d(t,"a",function(){return r});var r=function(){function e(){this.documentoReferencia=[],this.documentoEntidad=[]}return e}()},"./src/app/facturacion-electronica/percepcion-retencion/models/rdetalle.ts":function(e,t,i){"use strict";i.d(t,"a",function(){return r});var r=function(){function e(){}return e}()},"./src/app/facturacion-electronica/percepcion-retencion/models/retencion-cabecera.ts":function(e,t,i){"use strict";i.d(t,"a",function(){return r});var r=function(){function e(){this.serie="",this.idserie="",this.rucProveedor=0,this.rucComprador=0,this.estadoComprobante="PENDIENTE",this.idUsuarioCreacion="GMENDEZ",this.idUsuarioModificacion="GMENDEZ",this.razonSocialProveedor="",this.direccion="",this.razonSocialComprador="",this.moneda="",this.observacionComprobante="",this.total=0,this.totalimporte=0,this.tipocomprobanteproveedor="",this.idtipocomprobanteproveedor="",this.idTablaTipoComprobante="",this.idTipoComprobante=""}return e}()},"./src/app/facturacion-electronica/percepcion-retencion/models/retencionebiz.ts":function(e,t,i){"use strict";i.d(t,"a",function(){return r});var r=function(){function e(){this.idDocumentoOrigen="",this.idDocumentoDestino="",this.tipoDocumentoOrigen="",this.tipoDocumentoDestino="",this.serieDocumentoDestino="",this.correlativoDocumentoDestino="",this.totalImporteDestino="",this.totalImporteAuxiliarDestino="",this.totalPorcentajeAuxiliarDestino=0,this.deTotMoneDes="",this.tipoDocumentoOrigenDescripcion="RETENCION",this.tipoDocumentoDestinoDescripcion="",this.monedaDestino="",this.totalMonedaDestino=0,this.auxiliar1=0,this.polizaFactura="",this.anticipo=0,this.fechaEmisionDestino="",this.observaciones="",this.vcPolizaFactura=""}return e}()},"./src/app/facturacion-electronica/percepcion-retencion/models/retencionmasivaebiz.ts":function(e,t,i){"use strict";i.d(t,"a",function(){return r});var r=function(){function e(){this.usuario="",this.fecha=Date.prototype,this.hora=Date.prototype,this.nombrearchivo="",this.tamañoarchivo="",this.ticket="",this.estado="",this.estadoId=-1}return e}()},"./src/app/facturacion-electronica/percepcion-retencion/models/tipo-rp.ts":function(e,t,i){"use strict";var r=i("./src/app/facturacion-electronica/general/models/documento/tablaMaestra.ts");i.d(t,"a",function(){return o});var n=function(){function e(e,t,i,r,n){this.codigo=e,this.descripcion=t,this.ruta=i,this.codigosunat=r,this.tablamaestra=n}return e}(),o=function(){function e(){this.TipoRPs=[new n("01","Retencion","crear-retencion","RT",r.a.toString())]}return e.prototype.get=function(e){return this.TipoRPs.find(function(t){return t.codigo===e})},e.prototype.getRetencion=function(){return this.get("01")},e}()},"./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/emision-percepcion-retencion/emision-percepcion-retencion.component.html":function(e,t){e.exports='<div class="main-content">\r\n  <div class="container-fluid">\r\n    <div class="row col-md-12">\r\n      <div class="card">\r\n        <div class="card-header card-header-text" data-background-color="blue">\r\n          <h4 class="card-title">{{\'retencionEmitida\' | translate}}</h4>\r\n        </div>\r\n        <div class="card-content">\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="center-block">\r\n                <pdf-viewer [src]="pdfSrc | async"\r\n                            [render-text]="true"\r\n                            [external-link-target]="\'blank\'"\r\n                            [stick-to-page]="true"\r\n                            style="display: block;"\r\n                ></pdf-viewer>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n              <div class="col-md-7" align="right"></div>\r\n              <div class="col-md-5 row">\r\n                <div class="dropdown col-md-4" style="padding-right: 2px;">\r\n                  <button class="dropdown-toggle btn btn-default btn-block" data-toggle="dropdown" style="padding-left: 17px;">{{\'descargar\' | translate}} <b class="caret" ></b>\r\n                    <ul class="dropdown-menu">\r\n                      <li *ngFor="let archivo of tiposArchivos">\r\n                        <a (click)="guardarArchivo(archivo)">{{archivo.descripcion}}</a>\r\n                      </li>\r\n                    </ul>\r\n                  </button>\r\n                </div>\r\n                <button type="submit" class="btn btn-default col-md-5" (click)="showSwal()" > {{\'enviarCorreo\' | translate}}</button>\r\n                <button type="submit" class="btn btn-default col-md-3" (click)="emitir()"style="padding-left: 20px;"> {{\'imprimir\' | translate}}</button>\r\n              </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n'},"./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/emision-percepcion-retencion/emision-percepcion-retencion.component.ts":function(e,t,i){"use strict";var r=i("./node_modules/@angular/core/@angular/core.es5.js"),n=i("./node_modules/@angular/router/@angular/router.es5.js"),o=i("./src/app/facturacion-electronica/general/services/correo/correo.service.ts"),a=i("./src/app/facturacion-electronica/general/services/archivos/archivo.service.ts"),c=i("./node_modules/rxjs/Rx.js"),s=(i.n(c),i("./src/app/facturacion-electronica/general/models/archivos/tipoArchivo.ts")),l=i("./src/app/facturacion-electronica/percepcion-retencion/services/persistencia-post.ts"),p=i("./src/app/facturacion-electronica/percepcion-retencion/models/post_retencion.ts"),d=i("./src/app/facturacion-electronica/general/services/servidores.ts");i.d(t,"a",function(){return v});var u=this&&this.__decorate||function(e,t,i,r){var n,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(o<3?n(a):o>3?n(t,i,a):n(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},m=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(){function e(e,t,i,r,n,o){this.route=e,this.router=t,this.correoService=i,this.archivoServicio=r,this._postPersistenciaService=n,this._servidores=o,this.pdfSrc=new c.BehaviorSubject({data:[]}),this.tiposArchivos=s.b,this.retencionPersistencia=new p.a}return e.prototype.ngOnInit=function(){this.getDataComprobante()},e.prototype.getDataComprobante=function(){this.retencionPersistencia=this._postPersistenciaService.getPostRetencion(),console.log("PERSISTENCIA RETENCION"),console.log(this.retencionPersistencia),this.idComprobante=this.retencionPersistencia.id,this.obtenerArchivoParaMostrar()},e.prototype.emitir=function(){this.archivoServicio.retornarArchivoRetencionPercepcionbase(this.idComprobante).subscribe(function(e){if(console.log(e),e){var t='<embed width=100% height=100% type="application/pdf" src="data:application/pdf;base64,'+e+'"> </embed>';window.open("","PDF","dependent = yes, locationbar = no, menubar = yes, resizable, screenX = 50, screenY = 50, width = 800, height = 800").document.write(t)}}),console.log(this.data)},e.prototype.showSwal=function(){var e=this;swal({title:"Agregar Correos Electrónicos",html:'<div class="form-group label-floating" xmlns="http://www.w3.org/1999/html"><label class="control-label">Correos Electrónicos<span class="star">*</span> </label><textarea id="correos" type="text" class="form-control"/></textarea> <label>Para separar correos se deberan separar por comas(,).</label></div>',allowOutsideClick:!1,preConfirm:function(){return new Promise(function(e,t){setTimeout(function(){var i=!0,r=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,n=$("#correos").val();n=n.split(",");var o=n.filter(function(e){return!r.test(e)&&(i=!1,!0)});i?e(n):(swal.showValidationError(),t(new Error(o)))},500)})},showCancelButton:!0,confirmButtonClass:"btn btn-success",cancelButtonClass:"btn btn-danger",confirmButtonText:"SÍ",cancelButtonText:"NO",buttonsStyling:!1}).then(function(t){var i=e.retencionPersistencia.numerocomprobante,r="",n="",o=i.split("-");o[0]&&(r=o[0]),o[1]&&(n=o[1]);var a=e.retencionPersistencia.tipocomprobante,c=new Date(e.retencionPersistencia.fechaEmision).toISOString(),s=e.retencionPersistencia.id+"-1.pdf",l=e.retencionPersistencia.id+"-2.xml";e.correoService.enviarNotificacion(t,a,r,n,c,s,l),swal({type:"success",html:'<div class="text-center"> Se envio el correo a el/los destinatario(s). </div> ',confirmButtonClass:"btn btn-success",buttonsStyling:!1})})},e.prototype.obtenerArchivoParaMostrar=function(){var e=this,t=this;this.archivoServicio.retornarArchivoRetencionPercepcion(this.idComprobante),this.archivoServicio.base.subscribe(function(i){t.pdfSrc.next(i),console.log("PDF"),console.log(e.pdfSrc.value)})},e.prototype.regresar=function(){},e.prototype.guardarArchivo=function(e){switch(e.descripcion){case"PDF":window.open(this._servidores.FILEQRY+"/download?nombre="+this.idComprobante+"-1.pdf","_blank");break;case"XML":window.open(this._servidores.FILEQRY+"/download?nombre="+this.idComprobante+"-2.xml","_blank");break;case"CDR":window.open(this._servidores.FILEQRY+"/download?nombre="+this.idComprobante+"-3.zip","_blank")}},e}();v=u([i.i(r.Component)({selector:"app-item-crear-editar",template:i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/emision-percepcion-retencion/emision-percepcion-retencion.component.html"),styles:[i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/emision-percepcion-retencion/emision-percepcion-retencion.css")]}),m("design:paramtypes",["function"==typeof(h=void 0!==n.c&&n.c)&&h||Object,"function"==typeof(b=void 0!==n.b&&n.b)&&b||Object,"function"==typeof(f=void 0!==o.a&&o.a)&&f||Object,"function"==typeof(g=void 0!==a.a&&a.a)&&g||Object,"function"==typeof(x=void 0!==l.a&&l.a)&&x||Object,"function"==typeof(y=void 0!==d.a&&d.a)&&y||Object])],v);var h,b,f,g,x,y},"./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/emision-percepcion-retencion/emision-percepcion-retencion.css":function(e,t,i){t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1),t.push([e.i,"input.ng-invalid.ng-touched,mat-select.ng-invalid.ng-touched{border-bottom:1px solid red}mat-select{border-bottom:1px solid #aaa}div.row{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}",""]),e.exports=e.exports.toString()},"./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/item-crear-editar/item-crear-editar.component.html":function(e,t){e.exports='<div class="row col-md-12">\r\n  <div class="card">\r\n    <div class="card-header card-header-text" data-background-color="blue">\r\n      <h4 class="card-title">{{titulo | translate}}</h4>\r\n    </div>\r\n    <div class="card-content">\r\n      <form [formGroup]="itemFormGroup" (ngSubmit)="agregaritem()">\r\n        <div class="row">\r\n          <div class="col-md-4">\r\n            <div class="form-group label-floating">\r\n              <label class="control-label">{{\'tipoDocumento\' | translate}} <span class="star">*</span></label>\r\n              <select name="cmbtipodocrp" formControlName="cmbtipodocrp" class="form-control">\r\n                <option *ngFor="let tiposComprobante of tiposComprobantes | async" [value]="tiposComprobante.codigo"> {{tiposComprobante.descripcionLarga}}</option>\r\n              </select>\r\n              <span *ngIf="!itemFormGroup.get(\'cmbtipodocrp\').valid && itemFormGroup.get(\'cmbtipodocrp\').touched">\r\n                                            <span *ngIf="itemFormGroup.controls[\'cmbtipodocrp\'].hasError(\'required\')"\r\n                                                  class="text-danger">{{\'campoRequerido\' | translate}}</span>\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div class="col-md-2">\r\n            <div class="form-group label-floating">\r\n              <label class="control-label"> {{\'serie\' | translate}} <span class="star">*</span></label>\r\n              <input id="txtserie" formControlName="txtserie" class="form-control" type="text" minlength="4" min="4" maxlength="4" max="4">\r\n              <span *ngIf="!itemFormGroup.get(\'txtserie\').valid && itemFormGroup.get(\'txtserie\').touched">\r\n                                            <span *ngIf="itemFormGroup.controls[\'txtserie\'].hasError(\'required\')"\r\n                                                  class="text-danger">{{\'campoRequerido\' | translate}}</span>\r\n                                            <span *ngIf="itemFormGroup.controls[\'txtserie\'].hasError(\'pattern\')"\r\n                                                  class="text-danger">{{\'formatoInvalido\' | translate}}</span>\r\n                                            <span *ngIf="itemFormGroup.controls[\'txtserie\'].hasError(\'minlength\')"\r\n                                                  class="text-danger">{{\'minimoDigitos\' | translate:{digito:\'4\'} }}</span>\r\n                                            <span *ngIf="itemFormGroup.controls[\'txtserie\'].hasError(\'maxlength\')"\r\n                                                  class="text-danger">{{\'maximoDigitos\' | translate:{digito:\'4\'} }}</span>\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div class="col-md-2">\r\n            <div class="form-group label-floating">\r\n              <label class="control-label">{{\'correlativo\' | translate}}<span class="star">*</span></label>\r\n              <input correlativoDirective id="txtcorrelativo" formControlName="txtcorrelativo" class="form-control" type="text" minlength="2" min="2" maxlength="12" max="12">\r\n              <span *ngIf="!itemFormGroup.get(\'txtcorrelativo\').valid && itemFormGroup.get(\'txtcorrelativo\').touched">\r\n                                            <span *ngIf="itemFormGroup.controls[\'txtcorrelativo\'].hasError(\'required\')"\r\n                                                  class="text-danger">{{\'campoRequerido\' | translate}}</span>\r\n                                            <span *ngIf="itemFormGroup.controls[\'txtcorrelativo\'].hasError(\'pattern\')"\r\n                                                  class="text-danger">{{\'formatoInvalido\' | translate}}</span>\r\n                                            <span *ngIf="itemFormGroup.controls[\'txtcorrelativo\'].hasError(\'minlength\')"\r\n                                                  class="text-danger">{{\'minimoDigitos\' | translate:{digito:\'2\'} }}</span>\r\n                                            <span *ngIf="itemFormGroup.controls[\'txtcorrelativo\'].hasError(\'maxlength\')"\r\n                                                  class="text-danger">{{\'maximoDigitos\' | translate:{digito:\'12\'} }}</span>\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div class="col-md-4">\r\n            <div class="form-group label-floating">\r\n              <label class="control-label">{{\'fechaEmision\' | translate}}<span class="star">*</span> </label>\r\n              <input id="datefechaemision" formControlName="datefechaemision" type="text" class="form-control" datepicker/>\r\n              <span *ngIf="!itemFormGroup.get(\'datefechaemision\').valid && itemFormGroup.get(\'datefechaemision\').touched">\r\n                                            <span *ngIf="itemFormGroup.controls[\'datefechaemision\'].hasError(\'required\')"\r\n                                                  class="text-danger">{{\'campoRequerido\' | translate}}</span>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="row">\r\n          <div class="col-md-4">\r\n            <div class="form-group label-floating">\r\n              <label class="control-label">{{\'tipoMoneda\' | translate}} <span class="star">*</span></label>\r\n              <select name="cmbMoneda" formControlName="cmbMoneda" class="form-control" (change)="seleccionarMoneda()">\r\n                <option *ngFor="let moneda of todosTiposMonedas | async" [value]="moneda.codigo"> {{moneda.descripcionCorta}}</option>\r\n              </select>\r\n              <span *ngIf="!itemFormGroup.get(\'cmbMoneda\').valid && itemFormGroup.get(\'cmbMoneda\').touched">\r\n                                            <span *ngIf="itemFormGroup.controls[\'cmbMoneda\'].hasError(\'required\')"\r\n                                                  class="text-danger">{{\'campoRequerido\' | translate}}</span>\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div class="col-md-4">\r\n            <div class="form-group label-floating">\r\n              <label class="control-label">{{\'importeTotal\' | translate}} <span class="star">*</span></label>\r\n              <input precioDirectiva id="txtmonto" formControlName="txtmonto" class="form-control" type="text">\r\n              <span *ngIf="!itemFormGroup.get(\'txtmonto\').valid && itemFormGroup.get(\'txtmonto\').touched">\r\n                                            <span *ngIf="itemFormGroup.controls[\'txtmonto\'].hasError(\'required\')"\r\n                                                  class="text-danger">{{\'campoRequerido\' | translate}}</span>\r\n                                            <span *ngIf="itemFormGroup.controls[\'txtmonto\'].hasError(\'pattern\')"\r\n                                                  class="text-danger">{{\'formatoInvalido\' | translate}}</span>\r\n                                            <span *ngIf="itemFormGroup.controls[\'txtmonto\'].hasError(\'minlength\')"\r\n                                                  class="text-danger">{{\'minimoDigitos\' | translate:{digito:\'4\'} }}</span>\r\n                                            <span *ngIf="itemFormGroup.controls[\'txtmonto\'].hasError(\'maxlength\')"\r\n                                                  class="text-danger">{{\'maximoDigitos\' | translate:{digito:\'16\'} }}</span>\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div class="col-md-4">\r\n            <div class="form-group label-floating">\r\n              <label class="control-label">{{\'importeSoles\' | translate}}</label>\r\n              <input precioDirectiva id="txtImporteSoles" formControlName="txtImporteSoles" class="form-control" type="text">\r\n              <span *ngIf="!itemFormGroup.get(\'txtImporteSoles\').valid && itemFormGroup.get(\'txtImporteSoles\').touched">\r\n                                            <span *ngIf="itemFormGroup.controls[\'txtImporteSoles\'].hasError(\'required\')"\r\n                                                  class="text-danger">{{\'campoRequerido\' | translate}}</span>\r\n                                            <span *ngIf="itemFormGroup.controls[\'txtImporteSoles\'].hasError(\'pattern\')"\r\n                                                  class="text-danger">Ej. 10.00</span>\r\n                                            <span *ngIf="itemFormGroup.controls[\'txtImporteSoles\'].hasError(\'minlength\')"\r\n                                                  class="text-danger">{{\'minimoDigitos\' | translate:{digito:\'4\'} }}</span>\r\n                                            <span *ngIf="itemFormGroup.controls[\'txtImporteSoles\'].hasError(\'maxlength\')"\r\n                                                  class="text-danger">{{\'maximoDigitos\' | translate:{digito:\'16\'} }}</span>\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="row">\r\n          <div class="col-md-4">\r\n            <div class="form-group label-floating">\r\n              <label  class="control-label">{{\'tipoCambio\' | translate}}</label>\r\n              <input precioDirectiva id="txtTipoCambio" formControlName="txtTipoCambio" class="form-control" type="text">\r\n              <span *ngIf="!itemFormGroup.get(\'txtTipoCambio\').valid && itemFormGroup.get(\'txtTipoCambio\').touched">\r\n                                            <span *ngIf="itemFormGroup.controls[\'txtTipoCambio\'].hasError(\'required\')"\r\n                                                  class="text-danger">{{\'campoRequerido\' | translate}}</span>\r\n                                            <span *ngIf="itemFormGroup.controls[\'txtTipoCambio\'].hasError(\'pattern\')"\r\n                                                  class="text-danger">{{\'formatoInvalido\' | translate}}</span>\r\n                                            <span *ngIf="itemFormGroup.controls[\'txtTipoCambio\'].hasError(\'minlength\')"\r\n                                                  class="text-danger">{{\'minimoDigitos\' | translate:{digito:\'4\'} }}</span>\r\n                                            <span *ngIf="itemFormGroup.controls[\'txtTipoCambio\'].hasError(\'maxlength\')"\r\n                                                  class="text-danger">{{\'maximoDigitos\' | translate:{digito:\'16\'} }}</span>\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div class="col-md-4">\r\n              <div class="form-group label-floating">\r\n                <label class="control-label">{{\'porcentajeRetencion\' | translate}} <span class="star">*</span> </label>\r\n                <input precioDirectiva id="txtretencionxciento" formControlName="txtretencionxciento" class="form-control" type="text">\r\n                <span *ngIf="!itemFormGroup.get(\'txtretencionxciento\').valid && itemFormGroup.get(\'txtretencionxciento\').touched">\r\n                                              <span *ngIf="itemFormGroup.controls[\'txtretencionxciento\'].hasError(\'required\')"\r\n                                                    class="text-danger">{{\'campoRequerido\' | translate}}</span>\r\n                                              <span *ngIf="itemFormGroup.controls[\'txtretencionxciento\'].hasError(\'pattern\')"\r\n                                                    class="text-danger">{{\'formatoInvalido\' | translate}}</span>\r\n                                              <span *ngIf="itemFormGroup.controls[\'txtretencionxciento\'].hasError(\'minlength\')"\r\n                                                    class="text-danger">{{\'minimoDigitos\' | translate:{digito:\'4\'} }}</span>\r\n                                              <span *ngIf="itemFormGroup.controls[\'txtretencionxciento\'].hasError(\'maxlength\')"\r\n                                                    class="text-danger">{{\'maximoDigitos\' | translate:{digito:\'16\'} }}</span>\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div class="col-md-4">\r\n              <div class="form-group label-floating">\r\n                <label class="control-label">{{\'retencion\' | translate}} <span class="star">*</span></label>\r\n                <input precioDirectiva id="txtretencion" formControlName="txtretencion" class="form-control" type="text">\r\n                <span *ngIf="!itemFormGroup.get(\'txtretencion\').valid && itemFormGroup.get(\'txtretencion\').touched">\r\n                                              <span *ngIf="itemFormGroup.controls[\'txtretencion\'].hasError(\'required\')"\r\n                                                    class="text-danger">{{\'campoRequerido\' | translate}}</span>\r\n                                              <span *ngIf="itemFormGroup.controls[\'txtretencion\'].hasError(\'pattern\')"\r\n                                                    class="text-danger">Ej. 10.00</span>\r\n                                              <span *ngIf="itemFormGroup.controls[\'txtretencion\'].hasError(\'minlength\')"\r\n                                                    class="text-danger">{{\'minimoDigitos\' | translate:{digito:\'4\'} }}</span>\r\n                                              <span *ngIf="itemFormGroup.controls[\'txtretencion\'].hasError(\'maxlength\')"\r\n                                                    class="text-danger">{{\'maximoDigitos\' | translate:{digito:\'16\'} }}</span>\r\n                </span>\r\n              </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="row">\r\n          <div class="col-md-12" align="right">\r\n            <button *ngIf="editable" id="btnGuardar" name="btnGuardar" type="button" class="btn btn-default" (click)="editaritem()"> {{buttonguardar}}\r\n            </button>\r\n            <button *ngIf="editableaceptar" id="btnAceptar" name="btnAceptar" type="submit" class="btn btn-default"\r\n                    [disabled]="!itemFormGroup.valid"> {{\'aceptar\' | translate}}\r\n            </button>\r\n            <button type="button" id="btnCancelar" name="btnCancelar" class="btn btn-default" (click)="cancelaritem()"> {{\'cancelar\' | translate}}</button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n'},"./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/item-crear-editar/item-crear-editar.component.ts":function(e,t,i){"use strict";var r=i("./node_modules/@angular/core/@angular/core.es5.js"),n=i("./node_modules/@angular/forms/@angular/forms.es5.js"),o=i("./node_modules/@angular/router/@angular/router.es5.js"),a=i("./src/app/facturacion-electronica/percepcion-retencion/models/retencionebiz.ts"),c=i("./src/app/facturacion-electronica/percepcion-retencion/services/persistencia.service.ts"),s=i("./src/app/facturacion-electronica/general/utils/tipos.service.ts"),l=i("./node_modules/rxjs/BehaviorSubject.js"),p=(i.n(l),i("./src/app/facturacion-electronica/general/services/documento/tablaMaestra.service.ts")),d=i("./src/app/facturacion-electronica/general/models/documento/tablaMaestra.ts"),u=i("./src/app/facturacion-electronica/percepcion-retencion/services/retencionpersiscabecera.service.ts");i.d(t,"a",function(){return h});var m=this&&this.__decorate||function(e,t,i,r){var n,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(o<3?n(a):o>3?n(t,i,a):n(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},v=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(){function e(e,t,i,r,n,o){this.route=e,this.router=t,this.persistenciaService=i,this._tipos=r,this._tablaMaestraService=n,this.RetencionCabecerapersistenciaService=o,this.buttonguardar="Editar",this.monedas=[],this.fechaedicion=!0,this.tiposComprobantes=new l.BehaviorSubject([]),this.todosTiposMonedas=new l.BehaviorSubject([]),this.todosTiposComprobantes=new l.BehaviorSubject([]),this.cargarServiciosArranque(),this.retencionEbiz=new a.a}return e.prototype.deshabilitar=function(){this.itemFormGroup.disable(),$("#datefechaemision").prop("disabled",!0),this.fechaedicion=!1,console.log("FECHA DE EDICION"),console.log(this.fechaedicion)},e.prototype.deshabilitardate=function(){return this.fechaedicion=!1,this.fechaedicion},e.prototype.cargarServiciosArranque=function(){this.todosTiposComprobantes=this._tablaMaestraService.obtenerPorIdTabla(d.a),this.todosTiposMonedas=this._tablaMaestraService.obtenerPorIdTabla(d.b)},e.prototype.setTipoComprobante=function(){var e=[];e=[this._tipos.TIPO_DOCUMENTO_FACTURA,this._tipos.TIPO_DOCUMENTO_NOTA_CREDITO,this._tipos.TIPO_DOCUMENTO_NOTA_DEBITO],this.tiposComprobantes=this._tablaMaestraService.obtenerPorCodigoDeTablaMaestra(this.todosTiposComprobantes,e)},e.prototype.setTipoItem=function(){switch(this.tipoaccion){case 1:this.editable=!1,this.editableaceptar=!0;break;case 2:this.editable=!0,this.editableaceptar=!1,this.cargarProductoEditar()}},e.prototype.obtenerParametros=function(){var e=this;this.tipoAccion=this.route.snapshot.data.tipoAccion,this.tipoDocumento=this.route.snapshot.data.tipoDocumento;this.route.params.subscribe(function(t){e.idPosicion=+t.id});this.setTipoItem()},e.prototype.ngOnInit=function(){console.log("FECHA DE EDICION"),console.log(this.fechaedicion),this.obtenerParametros(),this.initForm(),this.titulo=this.route.snapshot.data.titulo,this.tipoaccion=this.route.snapshot.data.tipoaccion,this.setTipoItem()},e.prototype.seleccionarMoneda=function(){var e;switch(e=this.itemFormGroup.controls.cmbMoneda.value,console.log(e),e){case this._tipos.TIPO_MONEDA_SOL:this.itemFormGroup.controls.txtTipoCambio.disable(),this.itemFormGroup.controls.txtImporteSoles.disable();break;default:this.itemFormGroup.controls.txtTipoCambio.enable(),this.itemFormGroup.controls.txtImporteSoles.enable()}},e.prototype.editaritem=function(){var e=this.persistenciaService.getItemProducto(this.idPosicion);this.itemFormGroup.enable(),this.fechaedicion=!1,console.log("FECHA DE EDICION"),console.log(this.fechaedicion),"Editar"===this.buttonguardar?(this.buttonguardar=this.route.snapshot.data.button,"PEN"==e.monedaDestino&&this.itemFormGroup.controls.txtImporteSoles.setValue("")):(this.editaritemproducto(),swal({type:"success",title:"CORRECTO",html:'<div class="text-center"> El item fue editado correctamente. </div>',buttonsStyling:!1,confirmButtonClass:"btn btn-success",confirmButtonText:"SI"}),this.router.navigateByUrl("percepcion-retencion/crear-retencion"))},e.prototype.editaritemproducto=function(){this.fillProducto(),console.log("EDITANDO"),this.persistenciaService.editarProducto(this.retencionEbiz,this.idPosicion),console.log(this.retencionEbiz),console.log(this.idPosicion),console.log(this.persistenciaService.editarProducto(this.retencionEbiz,this.idPosicion))},e.prototype.agregaritem=function(){this.validarMontoMinimoRetencion()?(swal({type:"success",title:"CORRECTO",html:'<div class="text-center"> El/los item(s) fueron agregado(s) correctamente. </div>',buttonsStyling:!1,confirmButtonColor:"#ffc107",confirmButtonText:"SI"}),this.grabar(),this.router.navigateByUrl("percepcion-retencion/crear-retencion")):swal({title:"Alerta",html:'<div class="text-center"> El Importe Total mínimo debe ser de 700.00 soles.</div>',type:"warning",confirmButtonText:"Ok",confirmButtonClass:"btn btn-warning"})},e.prototype.validarMontoMinimoRetencion=function(){return Number(this.itemFormGroup.controls.txtmonto.value)>700},e.prototype.cancelaritem=function(){this.router.navigateByUrl("percepcion-retencion/crear-retencion")},e.prototype.initForm=function(){var e=new Date;e.getFullYear().toString(),e.getMonth().toString(),e.getDate().toString();this.itemFormGroup=new n.c({cmbtipodocrp:new n.d("",[n.e.required]),txtserie:new n.d("",[n.e.required,n.e.pattern("[A-Z0-9]{4}"),n.e.minLength(4),n.e.maxLength(4)]),txtcorrelativo:new n.d("",[n.e.required,n.e.pattern("[0-9]+"),n.e.minLength(8),n.e.maxLength(8)]),txtmonto:new n.d("",[n.e.required,n.e.pattern("[0-9]+[.][0-9]{2}"),n.e.minLength(4),n.e.maxLength(15)]),txtretencion:new n.d("",[n.e.required,n.e.pattern("[0-9]+[.][0-9]{2}"),n.e.minLength(4),n.e.maxLength(15)]),txtretencionxciento:new n.d("",[n.e.required,n.e.pattern("[0-9]+[.][0-9]{2}"),n.e.minLength(4),n.e.maxLength(15)]),datefechaemision:new n.d({value:"Nancy",disabled:!0},[n.e.required]),cmbMoneda:new n.d("",[n.e.required]),txtTipoCambio:new n.d("",[n.e.required,n.e.pattern("[0-9]+[.][0-9]{2}"),n.e.minLength(4),n.e.maxLength(15)]),txtImporteSoles:new n.d("",[n.e.required,n.e.pattern("[0-9]+[.][0-9]{2}"),n.e.minLength(4),n.e.maxLength(15)])}),this.setTipoComprobante()},e.prototype.cargarProductoEditar=function(){this.retencionEbizedit=this.persistenciaService.getItemProducto(this.idPosicion),null!=this.retencionEbizedit?(console.log("Cargar Productos"),console.log(this.retencionEbizedit),this.itemFormGroup.controls.cmbtipodocrp.setValue(this.retencionEbizedit.tipoDocumentoDestino),this.itemFormGroup.controls.txtserie.setValue(this.retencionEbizedit.serieDocumentoDestino),this.itemFormGroup.controls.txtcorrelativo.setValue(this.retencionEbizedit.correlativoDocumentoDestino),this.itemFormGroup.controls.txtmonto.setValue(this.retencionEbizedit.totalImporteDestino),this.itemFormGroup.controls.txtretencion.setValue(this.retencionEbizedit.totalImporteAuxiliarDestino),this.itemFormGroup.controls.txtretencionxciento.setValue(this.retencionEbizedit.totalPorcentajeAuxiliarDestino),this.itemFormGroup.controls.datefechaemision.setValue(new Date(this.retencionEbizedit.fechaEmisionDestino)),this.itemFormGroup.controls.cmbMoneda.setValue(this.retencionEbizedit.idMoneda),this.itemFormGroup.controls.txtImporteSoles.setValue(this.retencionEbizedit.totalMonedaDestino),this.itemFormGroup.controls.txtTipoCambio.setValue(this.retencionEbizedit.auxiliar1),console.log(this.itemFormGroup.value),setTimeout(function(){$("select").each(function(){$(this.parentElement).removeClass("is-empty")})},200),this.deshabilitar()):this.router.navigateByUrl("percepcion-retencion/crear-retencion")},e.prototype.limpiar=function(e){this.itemFormGroup.reset()},e.prototype.filtro=function(e){this.fillProducto()},e.prototype.fillProducto=function(){var e=this,t=this.itemFormGroup.get("datefechaemision").value.toString().split("/"),i=t[0],r=t[1],n=t[2],o=this.tiposComprobantes.getValue().findIndex(function(t){return t.codigo==e.itemFormGroup.get("cmbtipodocrp").value});this.retencionEbiz.tipoDocumentoDestino=this.itemFormGroup.get("cmbtipodocrp").value,this.retencionEbiz.tipoDocumentoDestinoDescripcion=-1==o?"":this.tiposComprobantes.getValue()[o].descripcionLarga,this.retencionEbiz.tipoDocumentoOrigen="20",this.retencionEbiz.tipoDocumentoOrigenDescripcion="RETENCION",this.retencionEbiz.correlativoDocumentoDestino=this.itemFormGroup.get("txtcorrelativo").value,this.retencionEbiz.serieDocumentoDestino=this.itemFormGroup.get("txtserie").value,this.retencionEbiz.fechaEmisionDestino=n+"-"+r+"-"+i,this.retencionEbiz.totalImporteDestino=this.itemFormGroup.get("txtmonto").value,this.retencionEbiz.totalImporteAuxiliarDestino=this.itemFormGroup.get("txtretencion").value,this.retencionEbiz.totalPorcentajeAuxiliarDestino=this.itemFormGroup.get("txtretencionxciento").value,this.retencionEbiz.idMoneda=this.itemFormGroup.get("cmbMoneda").value;var a=this.todosTiposMonedas.getValue().findIndex(function(t){return t.codigo==e.itemFormGroup.get("cmbMoneda").value});this.retencionEbiz.monedaDestino=-1==o?"":this.todosTiposMonedas.getValue()[a].descripcionCorta,this.retencionEbiz.auxiliar1=this.itemFormGroup.get("txtTipoCambio").value,"PEN"==this.retencionEbiz.monedaDestino?this.retencionEbiz.totalMonedaDestino=this.itemFormGroup.get("txtmonto").value:this.retencionEbiz.totalMonedaDestino=this.itemFormGroup.get("txtImporteSoles").value},e.prototype.grabar=function(){this.fillProducto(),this.persistenciaService.agregarProducto(this.retencionEbiz)},e}();h=m([i.i(r.Component)({selector:"app-item-crear-editar",template:i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/item-crear-editar/item-crear-editar.component.html"),styles:[i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/item-crear-editar/item-crear-editar.css")]}),v("design:paramtypes",["function"==typeof(b=void 0!==o.c&&o.c)&&b||Object,"function"==typeof(f=void 0!==o.b&&o.b)&&f||Object,"function"==typeof(g=void 0!==c.a&&c.a)&&g||Object,"function"==typeof(x=void 0!==s.a&&s.a)&&x||Object,"function"==typeof(y=void 0!==p.a&&p.a)&&y||Object,"function"==typeof(_=void 0!==u.a&&u.a)&&_||Object])],h);var b,f,g,x,y,_},"./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/item-crear-editar/item-crear-editar.css":function(e,t,i){t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1),t.push([e.i,"input.ng-invalid.ng-touched,mat-select.ng-invalid.ng-touched{border-bottom:1px solid red}mat-select{border-bottom:1px solid #aaa}div.row{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.text-danger{font-size:11px;font-weight:700}",""]),e.exports=e.exports.toString()},"./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/percepcion-retencion-crear.component.html":function(e,t){e.exports='<div class="row col-md-12">\r\n  <div class="card">\r\n    <div class="card-header card-header-text" data-background-color="blue">\r\n      <h4 class="card-title">{{\'crearRetenciontitle\' | translate}}</h4>\r\n    </div>\r\n    <div class="card-content">\r\n      <ul class="nav nav-pills nav-pills-circle nav-pills-warning">\r\n        <li class="active">\r\n          <a href="#retencionunitaria" data-toggle="tab">\r\n            {{\'retencionUnitaria\' | translate}}\r\n          </a>\r\n        </li>\r\n        <li>\r\n          <a href="#retencionmasiva" data-toggle="tab">\r\n            {{\'retencionMasiva\' | translate}}\r\n          </a>\r\n        </li>\r\n      </ul>\r\n      <div class="tab-content">\r\n        <div class="tab-pane active" id="retencionunitaria">\r\n          <div class="card">\r\n            <div class="card-content">\r\n              <form [formGroup]="productFormGroup">\r\n                <div class="row">\r\n                  <div class="col-md-3">\r\n                    <div class="form-group label-floating">\r\n                      <label class="control-label">{{\'serie\' | translate}}<span class="star">*</span></label>\r\n                      <select name="cmbserie" formControlName="cmbserie" class="form-control">\r\n                        <option *ngFor="let serie of series" [value]="serie.idSerie"> {{serie.serie}}</option>\r\n                      </select>\r\n                      <span *ngIf="!productFormGroup.get(\'cmbserie\').valid && productFormGroup.get(\'cmbserie\').touched">\r\n                                            <span *ngIf="productFormGroup.controls[\'cmbserie\'].hasError(\'required\')"\r\n                                                  class="text-danger">{{\'formato\' | translate}}</span>\r\n                          </span>\r\n                    </div>\r\n                  </div>\r\n                  <div class="col-md-3">\r\n                    <div class="form-group label-floating">\r\n                      <label class="control-label"> <i class="material-icons" style="font-size: 1.5rem;\r\n                  margin-right: 0.5rem;">search</i> {{\'ruc\' | translate}} <span class="star">*</span></label>\r\n                      <input rucDirective id="txtruc" formControlName="txtruc" class="form-control" type="text" (keydown)="busquedaruc($event)">\r\n                    </div>\r\n                  </div>\r\n                  <div class="col-md-6">\r\n                    <div class="form-group label-floating">\r\n                      <label class="control-label"> <i class="material-icons" style="font-size: 1.5rem;\r\n                  margin-right: 0.5rem;">search</i>{{\'razonSocial\' | translate}}<span class="star">*</span></label>\r\n                      <input id="txtrazonsocial" formControlName="txtrazonsocial" class="form-control" type="text">\r\n                      <span\r\n                        *ngIf="!productFormGroup.get(\'txtrazonsocial\').valid && productFormGroup.get(\'txtrazonsocial\').touched">\r\n                            <span *ngIf="productFormGroup.controls[\'txtrazonsocial\'].hasError(\'required\')"\r\n                                  class="text-danger">{{\'campoRequerido\' | translate}}</span>\r\n                          </span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class="row">\r\n                  <div class="col-md-3">\r\n                    <div class="form-group label-floating">\r\n                      <label class="control-label">{{\'fechaPago\' | translate}} <span class="star">*</span> </label>\r\n                      <input id="datefechapago" formControlName="datefechapago" type="text" class="form-control"\r\n                             name="fechadepago"\r\n                             datepicker/>\r\n                      <span\r\n                        *ngIf="!productFormGroup.get(\'datefechapago\').valid && productFormGroup.get(\'datefechapago\').touched">\r\n                            <span *ngIf="productFormGroup.controls[\'datefechapago\'].hasError(\'required\')"\r\n                                  class="text-danger">{{\'campoRequerido\' | translate}}</span>\r\n                          </span>\r\n                    </div>\r\n                  </div>\r\n                  <div class="col-md-3">\r\n                    <div class="form-group label-floating">\r\n                      <label class="control-label">{{\'tipoMoneda\' | translate}} <span class="star">*</span> </label>\r\n                      <input id="txttipomoneda" formControlName="txttipomoneda" class="form-control" value="SOLES"\r\n                             type="text"\r\n                             [disabled]="true">\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n              <div class="card">\r\n                <div class="card-header card-header-icon" data-background-color="blue">\r\n                  <i class="material-icons">list</i>\r\n                </div>\r\n                <div class="row"><h3>{{\'listaItems\' | translate}}</h3></div>\r\n                <div class="row"><p>&nbsp;</p></div>\r\n                <nav class="navbar navbar-info" role="navigation"></nav>\r\n\r\n                <div class="row">\r\n                  <div class="col-md-12">\r\n                    <app-data-table (iniciarData)="iniciarData($event)"\r\n                                    (accion)="ejecutarAccion($event)"\r\n                                    (eliminar)="eliminar($event)"\r\n                                    (agregar)="agregarItem($event)"\r\n                                    #tablaNormal [idTabla]="\'tabla1\'"\r\n                                    [cabecera]="cabecera"\r\n                                    [atributos]="atributos"\r\n                                    [acciones]="AccionesPrueba"\r\n                                    [tipoAccion]="tipo"\r\n                                    [habilitarAcciones]="true"\r\n                                    [habilitarCheckBox]="true"\r\n                                    [habilitarAgregar]="true"\r\n                                    [habilitarEliminar]="true" ></app-data-table>\r\n\r\n                    <form [formGroup]="productFormGroup">\r\n                      <div class="row">\r\n                        <div class="col-md-12">\r\n                          <div class="col-md-9">&nbsp;</div>\r\n                          <div class="col-md-3">\r\n                            <div class="form-group label-floating">\r\n                              <label class="control-label">{{\'total\' | translate}}</label>\r\n                              <input type="text" id="txttotal" formControlName="txttotal" disabled class="form-control">\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </form>\r\n\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="row"><p> &nbsp;</p></div>\r\n              <div class="row">\r\n                <div class="col-md-12">\r\n                  <form [formGroup]="productFormGroup">\r\n                    <div class="label-floating">\r\n                      <label class="control-label">{{\'observaciones\' | translate}}</label>\r\n                      <input id="txtobservacion" formControlName="txtobservacion" class="form-control" type="text">\r\n                      <span\r\n                        *ngIf="!productFormGroup.get(\'txtobservacion\').valid && productFormGroup.get(\'txtobservacion\').touched">\r\n                            <span *ngIf="productFormGroup.controls[\'txtobservacion\'].hasError(\'maxLength\')"\r\n                                  class="text-danger">{{\'maximoCaracteres\' | translate: {digito: 500} }}</span>\r\n                          </span>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n              <div class="row"><p> &nbsp;</p></div>\r\n              <div class="row">\r\n                <div class="col-md-12" align="right">\r\n                  <button type="submit" class="btn btn-default" (click)=" vistaprevia()"\r\n                          [disabled]="!productFormGroup.valid">{{\'vistaPrevia\' | translate}}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="tab-pane" id="retencionmasiva">\r\n          <div class="card">\r\n            <div class="card-content">\r\n              <div class="row">\r\n                <div class="col-md-8">\r\n                  <div class="col-md-1"></div>\r\n                  <div class="col-md-11">\r\n                    <div class="row"><label><h3><b>{{\'instrucciones\' | translate}}</b></h3></label></div>\r\n                    <div class="row">\r\n                      <label>{{\'instruccionesRetencion\' | translate}}</label>\r\n                    </div>\r\n                    <div class="row">\r\n                      <label><i class="material-icons" style="font-size: 10px">play_arrow</i>\r\n                        &nbsp; {{\'regla1Retencion\' | translate}}\r\n                      </label>\r\n                    </div>\r\n                    <div class="row">\r\n                      <label><i class="material-icons" style="font-size: 10px">play_arrow</i>\r\n                        &nbsp; {{\'regla2Retencion\' | translate}}\r\n                      </label>\r\n                    </div>\r\n                    <div class="row">\r\n                      <label><i class="material-icons" style="font-size: 10px">play_arrow</i>\r\n                        &nbsp; {{\'regla3Retencion\' | translate}}\r\n                      </label>\r\n                    </div>\r\n                    <div class="row">\r\n                      <label><i class="material-icons" style="font-size: 10px">play_arrow</i>\r\n                        &nbsp; {{\'regla4Retencion\' | translate}}\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class="col-md-4">\r\n                  <div class="row" style="text-align: center">\r\n                    <div class="center-block">\r\n                      <label><h3><b>{{\'formato\' | translate}}</b></h3></label>\r\n                    </div>\r\n                  </div>\r\n                  <div class="row" style="text-align: center">\r\n                    <div class="center-block">\r\n                      <button class="btn btn-default btn-simple" title="{{\'descargarFormatoArchivo\' | translate}}" (click)="descargarFormatoMasiva()"><i class="material-icons"\r\n                                                                               style="font-size: 75px">file_download</i>\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="row">\r\n                <div class="col-md-1"></div>\r\n                <div class="col-md-11">\r\n                  <div class="row">\r\n                    <div class="col-md-3"><label><h4><b>{{\'seleccioneArchivo\' | translate}}</b></h4></label></div>\r\n                    <form #formArchivo>\r\n                      <div class="fileinput fileinput-new text-center" data-provides="fileinput">\r\n                        <div class="row">\r\n                          <div>\r\n                                    <span class="btn btn-file btn-default blue">\r\n                                        <span class="fileinput-new">{{\'seleccioneArchivo\' | translate}}</span>\r\n                                        <span class="fileinput-exists">{{\'cambiar\' | translate}}</span>\r\n                                        <input type="file" name="..."\r\n                                               [(ngModel)] = "archivo"\r\n                                               archivoDirectiva\r\n                                               #archivo1 = "ngModel"\r\n                                               (change)="cambioArchivo($event)"\r\n                                               #inputArchivo\r\n                                        />\r\n                                    </span>\r\n                            <a class="btn btn-danger fileinput-exists" data-dismiss="fileinput" (click)="clickEliminarArchivo()"><i\r\n                              class="fa fa-times" ></i> {{\'eliminar\' | translate}}</a>\r\n                          </div>\r\n                          <div class="fileinput-preview fileinput-exists"></div>\r\n                          <div class="fileinput-new">\r\n                            <label>{{\'ningunArchivoSeleccionado\' | translate}}</label>\r\n                          </div>\r\n                        </div>\r\n                        <div class="row" *ngIf="!desahibilitarEliminarArchivo">\r\n                          <span style="color: red" *ngIf="archivo1.errors">\r\n                            <strong *ngIf="archivo1.errors.tipo">\r\n                              {{archivo1.errors.tipo | translate}}\r\n                            </strong>\r\n                            <br>\r\n                            <strong *ngIf="archivo1.errors.tamanio">\r\n                              {{archivo1.errors.tamanio | translate}}\r\n                            </strong>\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class="row">\r\n                <div class="col-md-12" align="right">\r\n                  <button type="submit" class="btn btn-default" (click)="cargarmasiva()" [disabled]="(archivo1.errors || desahibilitarEliminarArchivo || desahibilitarEliminarArchivoAux)">{{\'cargar\' | translate}}</button>\r\n                </div>\r\n              </div>\r\n              <div class="row">\r\n                <div class="card">\r\n                  <div class="card-header card-header-icon" data-background-color="blue">\r\n                    <i class="material-icons">list</i>\r\n                  </div>\r\n                  <div class="row"><h3>{{\'listaArchivos\' | translate}}</h3></div>\r\n                  <div class="row"><p>&nbsp;</p></div>\r\n                  <nav class="navbar navbar-info" role="navigation"></nav>\r\n                  <div class="card-content">\r\n                    <app-data-table #tablamasiva\r\n                                    [idTabla]="\'tablaMasiva\'"\r\n                                    [cabecera]="cabeceramasiva"\r\n                                    [atributos]="atributosmasiva"\r\n\r\n                                    [usaServicio]="true"\r\n                                    [servicio]="_archivoMasivaService"\r\n                                    [parametros]="parametrosMasiva"\r\n                                    [tipoMetodoServicio]="tipoMetodoMasiva"\r\n                                    [urlServicio]="urlArchivoMasivaService"\r\n\r\n                                    [acciones]="AccionesMasiva"\r\n                                    [tipoAccion]="tipomasiva"\r\n                                    [habilitarAcciones]="true"\r\n                                    (iniciarData)="iniciarDataMasiva($event)"\r\n                                    (accion)="ejecutarAccionMasiva($event)">\r\n                    </app-data-table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},"./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/percepcion-retencion-crear.component.ts":function(e,t,i){"use strict";var r=i("./node_modules/@angular/core/@angular/core.es5.js"),n=i("./node_modules/@angular/forms/@angular/forms.es5.js"),o=i("./node_modules/@angular/router/@angular/router.es5.js"),a=i("./src/app/facturacion-electronica/general/data-table/utils/accion.ts"),c=i("./src/app/facturacion-electronica/general/data-table/utils/tipo-accion.ts"),s=i("./src/app/facturacion-electronica/general/data-table/data-table.component.ts"),l=i("./src/app/facturacion-electronica/percepcion-retencion/models/retencionebiz.ts"),p=i("./src/app/facturacion-electronica/general/data-table/utils/modo-vista-accion.ts"),d=i("./src/app/facturacion-electronica/percepcion-retencion/services/persistencia.service.ts"),u=i("./src/app/facturacion-electronica/percepcion-retencion/models/retencionmasivaebiz.ts"),m=i("./src/app/facturacion-electronica/percepcion-retencion/models/retencion-cabecera.ts"),v=i("./src/app/facturacion-electronica/percepcion-retencion/services/retencionpersiscabecera.service.ts"),h=i("./src/app/facturacion-electronica/percepcion-retencion/models/principal-retencion.ts"),b=i("./src/app/facturacion-electronica/general/utils/estadoArchivo.service.ts"),f=i("./src/app/facturacion-electronica/general/services/organizacion/entidad.service.ts"),g=i("./src/app/facturacion-electronica/general/models/organizacion/entidad.ts"),x=i("./src/app/facturacion-electronica/percepcion-retencion/services/archivoMasiva.service.ts"),y=i("./src/app/facturacion-electronica/percepcion-retencion/models/archivoMasiva.ts"),_=i("./node_modules/@angular/common/@angular/common/http.es5.js"),E=i("./src/app/facturacion-electronica/percepcion-retencion/services/persistencia.entidad.service.ts"),w=i("./src/app/facturacion-electronica/general/services/configuracionDocumento/series.service.ts"),C=i("./src/app/facturacion-electronica/general/services/archivos/archivo.service.ts"),D=i("./node_modules/@ngx-translate/core/index.js"),O=i("./node_modules/rxjs/BehaviorSubject.js"),S=(i.n(O),i("./src/app/facturacion-electronica/general/models/documento/tablaMaestra.ts")),R=i("./src/app/facturacion-electronica/general/services/documento/tablaMaestra.service.ts"),j=i("./src/app/facturacion-electronica/general/utils/tipos.service.ts");i.d(t,"a",function(){return P});var A=this&&this.__decorate||function(e,t,i,r){var n,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(o<3?n(a):o>3?n(t,i,a):n(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},I=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},P=function(){function e(e,t,i,r,n,o,s,l,d,u,v,b,f,x,y){this.httpClient=e,this.httpClient1=t,this.route=i,this.router=r,this.persistenciaService=n,this.RetencionCabecerapersistenciaService=o,this._estadoArchivo=s,this._entidadServices=l,this._entidadPersistenciaService=d,this.serieService=u,this._archivoMasivaService=v,this._archivoService=b,this._translateService=f,this._tipos=x,this._tablaMaestraService=y,this.desahibilitarEliminarArchivo=!1,this.desahibilitarEliminarArchivoAux=!0,this.series=[],this.entidad=new g.a,this.tiposComprobantes=new O.BehaviorSubject([]),this.todosTiposComprobantes=new O.BehaviorSubject([]),this.cabecera=[],this.atributos=[],this.tipo=p.a.ICONOS,this.AccionesPrueba=[new a.a("editar",new a.b("visibility","btn-info"),c.a.EDITAR)],this.cabeceramasiva=[],this.atributosmasiva=[],this.tipomasiva=p.a.ICONOS,this.AccionesMasiva=[new a.a("visualizar",new a.b("visibility","btn-info"),c.a.VISUALIZAR),new a.a("descargar",new a.b("file_download","btn-info"),c.a.DESCARGAR)],this.retencioncab=new m.a,this.retencion_principal=new h.a,this.total_retencion=0,this.listaitems=[],this.cabecera=["tipo","serie","numeroCorrelativo","fechaEmision","Moneda Origen","importeTotal","importeTotalsoles","importeRetencionsoles"],this.atributos=["tipoDocumentoDestinoDescripcion","serieDocumentoDestino","correlativoDocumentoDestino","fechaEmisionDestino","monedaDestino","totalImporteDestino","totalMonedaDestino","totalImporteAuxiliarDestino"],this.listaitemsmasiva=[],this.cabeceramasiva=["usuario","fecha","nombreArchivo","tamañoArchivo","ticket","estado"],this.atributosmasiva=["usuario","fecha","nombreArchivo","tamanhoArchivo","ticket","estado"],this.tipoMetodoMasiva=this._archivoMasivaService.TIPO_METODO_DOCUMENTO_MASIVO,this.parametrosMasiva=(new _.c).set("id_entidad","1"),this.urlArchivoMasivaService=this._archivoMasivaService.urlQry,this.pathFormatoArchivoMasivo=this._archivoService.pathFormatoArchivoMasivo}return e.prototype.ngOnInit=function(){var e=this;this.initForm(),this.cargarProductoEditarLleno(),this.cargarServiciosArranque(),this.setTipoComprobante(),this.serieService.obtenerTodo().subscribe(function(t){e.series=t})},e.prototype.cargarServiciosArranque=function(){this.todosTiposComprobantes=this._tablaMaestraService.obtenerPorIdTabla(S.a),console.log(this.todosTiposComprobantes)},e.prototype.setTipoComprobante=function(){var e=[];e=[this._tipos.TIPO_DOCUMENTO_RETENCION],this.tiposComprobantes=this._tablaMaestraService.obtenerPorCodigoDeTablaMaestra(this.todosTiposComprobantes,e),console.log(this.tiposComprobantes),console.log(this.todosTiposComprobantes)},e.prototype.cambioArchivo=function(e){this.desahibilitarEliminarArchivo=!1,this.desahibilitarEliminarArchivoAux=!1},e.prototype.clickEliminarArchivo=function(){this.desahibilitarEliminarArchivo=!0,this.desahibilitarEliminarArchivoAux=!1},e.prototype.busquedaruc=function(e){var t=this;if(13==e.keyCode&&11==this.productFormGroup.get("txtruc").value.length){var i=this._entidadServices.buscarPorRuc(this.productFormGroup.get("txtruc").value);console.log(i),null!=i?i.subscribe(function(e){t.entidad=e||new g.a,t.productFormGroup.controls.txtrazonsocial.setValue(t.entidad.denominacion),t._entidadPersistenciaService.setEntidad(t.entidad),setTimeout(function(){$("input").each(function(){$(this.parentElement).removeClass("is-empty")})},200)}):swal("Oops...","Something went wrong!","error")}},e.prototype.iniciarDataMasiva=function(){},e.prototype.iniciarData=function(e){this.total_retencion=0,this.total_importe=0,this.listaitems=this.persistenciaService.getListaProductos(),this.tabla.insertarData(this.listaitems);for(var t=0;t<this.listaitems.length;t++)this.total_retencion+=Number(this.listaitems[t].totalImporteAuxiliarDestino),this.total_importe+=Number(this.listaitems[t].totalImporteDestino);this.productFormGroup.get("txttotal").setValue(parseFloat(this.total_retencion.toString()).toFixed(2)),this.retencioncab.totalimporte=Number(parseFloat(this.total_importe.toString()).toFixed(2))},e.prototype.cargarmasiva=function(){var e=this,t=this,i="";t._translateService.get("deseaCargarArchivo").take(1).subscribe(function(e){return i=e});var r="";t._translateService.get("deseaCargarArchivos").take(1).subscribe(function(e){return r=e});var n="";t._translateService.get("si").take(1).subscribe(function(e){return n=e});var o="";t._translateService.get("no").take(1).subscribe(function(e){return o=e}),swal({title:i,padding:"20",type:"warning",showCancelButton:!0,confirmButtonText:n,cancelButtonText:o,confirmButtonClass:"btn btn-success",cancelButtonClass:"btn btn-danger",buttonsStyling:!1}).catch(function(e){return console.log("CANCEL")}).then(function(t){e.cargarMasivaArchivo()})},e.prototype.cargarMasivaArchivo=function(){this.listaitemsmasiva=[new u.a];var e=(new Blob,new FileReader),t=this.inputArchivo.nativeElement.files[0];e.readAsDataURL(t);var i="",r=this;e.onload=function(n){i=e.result.split(",")[1];var o=new Date,a=o.getFullYear().toString()+"-"+(o.getMonth()+1).toString()+"-"+o.getDate().toString(),c=t.name,s=(t.size/1024).toFixed(2).toString()+"KB",l=i,p=new y.a;p.crearArchivoMasivaEntrada("1","1","lrosador@gmail.com","20600445212","1","rzevallos",a,"150131",c,s,l),r._archivoMasivaService.crearArchivoMasiva(p).subscribe(function(e){var t="";r._translateService.get("accionExitosa").take(1).subscribe(function(e){return t=e});var i="";r._translateService.get("mensajeCorrectoArchivosMasivos").take(1).subscribe(function(e){return i=e}),e&&(swal({title:t,type:"success",confirmButtonClass:"btn btn-success",buttonsStyling:!1}),r.formArchivo.nativeElement.reset(),r.tablamasiva.cargarData())})}},e.prototype.setEstadoTicketRetencionMasiva=function(e){switch(this.listaitemsmasiva[e].estadoId){case this._estadoArchivo.TIPO_ESTADO_ARCHIVO_PROCESADO:return this._estadoArchivo.TIPO_ESTADO_ARCHIVO_PROCESADO_NOMBRE;case this._estadoArchivo.TIPO_ESTADO_ARCHIVO_CON_ERROR:return this.listaitemsmasiva[e].ticket="-",this._estadoArchivo.TIPO_ESTADO_ARCHIVO_CON_ERROR_NOMBRE;case this._estadoArchivo.TIPO_ESTADO_ARCHIVO_EN_PROCESO:return this._estadoArchivo.TIPO_ESTADO_ARCHIVO_EN_PROCESO_NOMBRE}},e.prototype.vistaprevia=function(){this.fillProducto(),this.RetencionCabecerapersistenciaService.setCabeceraRetencion(this.retencioncab),this.router.navigateByUrl("percepcion-retencion/crear/vista-previa")},e.prototype.initForm=function(){var e=new Date,t=e.getDate().toString()+"/"+e.getMonth().toString()+"/"+e.getFullYear().toString();this.productFormGroup=new n.c({cmbserie:new n.d("",[n.e.required]),txtruc:new n.d("",[n.e.required,n.e.pattern("[0-9]{11}"),n.e.minLength(11),n.e.maxLength(11)]),txtrazonsocial:new n.d("",[n.e.required]),txttipomoneda:new n.d({value:"PEN",disabled:!0}),txtobservacion:new n.d("",[n.e.maxLength(500)]),datefechapago:new n.d(t,[n.e.required]),txttotal:new n.d({value:this.total_retencion,disabled:!1},[n.e.required,n.e.min(.01),n.e.minLength(3)])})},e.prototype.limpiar=function(e){this.productFormGroup.reset()},e.prototype.filtro=function(e){this.fillProducto()},e.prototype.cargarProductoEditarLleno=function(){var e=new m.a;(e=this.RetencionCabecerapersistenciaService.getCabeceraRetencion())&&(this.retencioncabedit=this.RetencionCabecerapersistenciaService.getCabeceraRetencion(),this.productFormGroup.controls.cmbserie.setValue(this.retencioncabedit.idserie),this.productFormGroup.controls.txtruc.setValue(this.retencioncabedit.rucComprador),this.productFormGroup.controls.txtrazonsocial.setValue(this.retencioncabedit.razonSocialComprador),this.productFormGroup.controls.txtobservacion.setValue(this.retencioncabedit.observacionComprobante),this.productFormGroup.controls.datefechapago.setValue(this.retencioncabedit.fecPago),setTimeout(function(){$("select").each(function(){$(this.parentElement).removeClass("is-empty")})},200))},e.prototype.fillProducto=function(){var e=this;this.retencioncab.idserie=this.productFormGroup.get("cmbserie").value;var t=this.series.findIndex(function(t){return t.idSerie==e.productFormGroup.get("cmbserie").value});this.retencioncab.serie=-1==t?"":this.series[t].serie,this.retencioncab.rucComprador=this.productFormGroup.get("txtruc").value,this.retencioncab.razonSocialComprador=this.productFormGroup.get("txtrazonsocial").value,this.retencioncab.razonSocialProveedor="SMART REASONS SRL",this.retencioncab.rucProveedor=20539622031,this.retencioncab.direccion="PJ. JORGE BASADRE NRO. 158 URB. POP LA UNIVERSAL 2DA ET. LIMA - LIMA - SANTA ANITA",this.retencioncab.fecPago=this.productFormGroup.get("datefechapago").value,this.retencioncab.moneda=this.productFormGroup.get("txttipomoneda").value,this.retencioncab.observacionComprobante=this.productFormGroup.get("txtobservacion").value,this.retencioncab.total=this.productFormGroup.get("txttotal").value,this.retencioncab.idtipocomprobanteproveedor=this.tiposComprobantes.getValue()[0].codigo,this.retencioncab.tipocomprobanteproveedor=this.tiposComprobantes.getValue()[0].descripcionCorta,this.retencioncab.idTablaTipoComprobante=this.tiposComprobantes.getValue()[0].tabla.toString(),this.retencioncab.idTipoComprobante="3",console.log(this.retencioncab)},e.prototype.eliminar=function(e){var t=this;swal({title:"¿Está Seguro?",html:'<div class="text-center"> Desea eliminar el/los item(s).  </div>',padding:"20",type:"warning",showCancelButton:!0,confirmButtonText:"SÍ",cancelButtonText:"NO",confirmButtonClass:"btn btn-success",cancelButtonClass:"btn btn-danger",buttonsStyling:!1}).catch(function(e){}).then(function(i){i?(t.persistenciaService.setListaProductos(e),swal({title:"Acción Exitosa",html:'<div class="text-center">Item(s) eliminado(s) correctamente.  </div>',type:"success",confirmButtonClass:"btn btn-success",buttonsStyling:!1})):(console.log("CANCELADOP"),swal({title:"Cancelado",html:'<div class="text-center">Item(s) no fue eliminado(s) correctamente.  </div>',type:"error",confirmButtonClass:"btn btn-success",buttonsStyling:!1}))}),this.total_retencion=0,this.listaitems=this.persistenciaService.getListaProductos();for(var i=0;i<this.listaitems.length;i++)this.total_retencion+=Number(this.listaitems[i].totalImporteAuxiliarDestino),this.total_importe+=Number(this.listaitems[i].totalImporteDestino);this.productFormGroup.get("txttotal").setValue(parseFloat(this.total_retencion.toString()).toFixed(2)),this.retencioncab.totalimporte=Number(parseFloat(this.total_importe.toString()).toFixed(2))},e.prototype.agregarItem=function(e){this.fillProducto(),this.RetencionCabecerapersistenciaService.setCabeceraRetencion(this.retencioncab),this.router.navigateByUrl("percepcion-retencion/crear/agregar-item")},e.prototype.ejecutarAccion=function(e){var t=e[0],i=new l.a;switch(i=e[1],t){case c.a.ELIMINAR:break;case c.a.EDITAR:this.router.navigate(["percepcion-retencion/crear/editar-item",i.id]),this.fillProducto(),this.RetencionCabecerapersistenciaService.setCabeceraRetencion(this.retencioncab)}},e.prototype.ejecutarAccionMasiva=function(e){var t=e[0],i=new y.b;switch(i=e[1],t){case c.a.VISUALIZAR:this.router.navigate(["percepcion-retencion/retencion-masiva/detalle/",i.idDocumentoMasivo],{queryParams:{idDocumentoMasivo:i.idDocumentoMasivo,totalRegistros:i.totalRegistros,nombreArchivo:i.nombreArchivo,totalErrores:i.totalRegistrosErroneos},skipLocationChange:!0});break;case c.a.DESCARGAR:this._archivoService.descargarArchivoCsv(i.nombreArchivo)}},e.prototype.descargarFormatoMasiva=function(){this._archivoService.descargarFormatoArchivoMasiva()},e}();A([i.i(r.ViewChild)("tablaNormal"),I("design:type","function"==typeof(z=void 0!==s.a&&s.a)&&z||Object)],P.prototype,"tabla",void 0),A([i.i(r.ViewChild)("tablamasiva"),I("design:type","function"==typeof(M=void 0!==s.a&&s.a)&&M||Object)],P.prototype,"tablamasiva",void 0),A([i.i(r.ViewChild)("inputArchivo"),I("design:type","function"==typeof(T=void 0!==r.ElementRef&&r.ElementRef)&&T||Object)],P.prototype,"inputArchivo",void 0),A([i.i(r.ViewChild)("formArchivo"),I("design:type","function"==typeof(F=void 0!==r.ElementRef&&r.ElementRef)&&F||Object)],P.prototype,"formArchivo",void 0),P=A([i.i(r.Component)({selector:"app-percepcion-retencion-crear",template:i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/percepcion-retencion-crear.component.html"),styles:[i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/percepcion-retencion-crear.css")],providers:[w.a]}),I("design:paramtypes",["function"==typeof(k=void 0!==_.b&&_.b)&&k||Object,"function"==typeof(G=void 0!==_.b&&_.b)&&G||Object,"function"==typeof(N=void 0!==o.c&&o.c)&&N||Object,"function"==typeof(q=void 0!==o.b&&o.b)&&q||Object,"function"==typeof(L=void 0!==d.a&&d.a)&&L||Object,"function"==typeof(B=void 0!==v.a&&v.a)&&B||Object,"function"==typeof(V=void 0!==b.a&&b.a)&&V||Object,"function"==typeof(U=void 0!==f.a&&f.a)&&U||Object,"function"==typeof(Q=void 0!==E.a&&E.a)&&Q||Object,"function"==typeof(Y=void 0!==w.a&&w.a)&&Y||Object,"function"==typeof(H=void 0!==x.a&&x.a)&&H||Object,"function"==typeof(J=void 0!==C.a&&C.a)&&J||Object,"function"==typeof(Z=void 0!==D.c&&D.c)&&Z||Object,"function"==typeof(W=void 0!==j.a&&j.a)&&W||Object,"function"==typeof(X=void 0!==R.a&&R.a)&&X||Object])],P);var z,M,T,F,k,G,N,q,L,B,V,U,Q,Y,H,J,Z,W,X},"./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/percepcion-retencion-crear.css":function(e,t,i){t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1),t.push([e.i,"input.ng-invalid.ng-touched,mat-select.ng-invalid.ng-touched{border-bottom:1px solid red}mat-select{border-bottom:1px solid #aaa}.control-label,div.row{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.text-danger{font-size:11px;font-weight:700}.navbar.navbar-info{margin:0 15px 15px}.btn.btn-default.btn-simple{color:#0079bf}",""]),e.exports=e.exports.toString()},"./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/retencion-masiva-detalle/retencion-masiva-detalle.component.html":function(e,t){e.exports='\r\n  <div class="container-fluid">\r\n    <div class="row col-md-12">\r\n      <div class="card">\r\n        <div class="card-header card-header-text" data-background-color="blue">\r\n          <h4 class="card-title">{{\'detalleRetencionMasiva\' | translate}}</h4>\r\n        </div>\r\n        <div class="card-content">\r\n          <div class="row">\r\n            <div class="col-md-4">\r\n              <h6><b>{{\'nombreArchivo\' | translate}}:</b></h6>\r\n            </div>\r\n            <div class="col-md-8">\r\n              {{nombreArchivo}}\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-4">\r\n              <h6><p class="text-info"><b>{{\'total\' | translate}}: </b></p></h6>\r\n            </div>\r\n            <div class="col-md-8">\r\n              {{totalRegistros}}\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-4">\r\n              <h6><b><p class="text-danger"><b>{{\'errores\' | translate}}:</b></p></b></h6>\r\n            </div>\r\n            <div class="col-md-8">\r\n              {{totalErrores}}\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="card">\r\n                <div class="card-header card-header-text"  data-background-color="blue">\r\n                  <h4 class="card-title">{{\'listaErrores\' | translate}}</h4>\r\n                </div>\r\n                <div class="card-content">\r\n                  <div class="row">\r\n                    <div class="col-md-12">\r\n                      <app-data-table #tablaDetalleMasiva\r\n                                      [idTabla]="idTablaDetalleMasiva"\r\n                                      [cabecera]="cabeceraDetalleMasiva"\r\n                                      [atributos]="atributosDetalleMasiva"\r\n\r\n                                      [usaServicio]="true"\r\n                                      [servicio]="_archivosMasivaService"\r\n                                      [parametros]="parametrosDetalleMasiva"\r\n                                      [tipoMetodoServicio]="tipoMetodoMasiva"\r\n                                      [urlServicio]="urlDetalleArchivoMasivaService"\r\n\r\n                                      (iniciarData)="iniciarDataDetalleMasiva($event)">\r\n                      </app-data-table>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-12" align="right">\r\n              <button type="submit" class="btn btn-default" (click)="regresar()"> {{\'regresar\' | translate}}  </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n'},"./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/retencion-masiva-detalle/retencion-masiva-detalle.component.ts":function(e,t,i){"use strict";var r=i("./node_modules/@angular/core/@angular/core.es5.js"),n=i("./node_modules/@angular/router/@angular/router.es5.js"),o=i("./src/app/facturacion-electronica/general/utils/rutas.service.ts"),a=i("./src/app/facturacion-electronica/percepcion-retencion/services/archivoMasiva.service.ts"),c=i("./src/app/facturacion-electronica/general/data-table/data-table.component.ts"),s=i("./node_modules/@angular/common/@angular/common/http.es5.js");i.d(t,"a",function(){return d});var l=this&&this.__decorate||function(e,t,i,r){var n,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(o<3?n(a):o>3?n(t,i,a):n(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t,i,r){this.route=e,this.router=t,this._rutas=i,this._archivosMasivaService=r,this.cabeceraDetalleMasiva=["fila","serie","numeroCorrelativo","descripcionError"],this.atributosDetalleMasiva=["fila","serie","correlativo","error"],this.idTablaDetalleMasiva="tablaDetalleMasiva",this.tipoMetodoMasiva=this._archivosMasivaService.TIPO_METODO_DETALLE_DOCUMENTO_MASIVO,this.urlDetalleArchivoMasivaService=this._archivosMasivaService.urlQryDetalleMasivo,this.totalRegistros=0,this.totalErrores=0,this.nombreArchivo=""}return e.prototype.ngOnInit=function(){var e=this;this.route.queryParams.subscribe(function(t){e.parametrosDetalleMasiva=(new s.c).set("id_archivo",t.idDocumentoMasivo),e.nombreArchivo=t.nombreArchivo,e.totalRegistros=+t.totalRegistros,e.totalErrores=+t.totalErrores})},e.prototype.iniciarDataDetalleMasiva=function(e){},e.prototype.regresar=function(){this.router.navigateByUrl(this._rutas.URL_RETENCION_CREAR)},e.prototype.emitir=function(){this.router.navigateByUrl("percepcion-retencion/crear/emision")},e}();l([i.i(r.ViewChild)("tablaDetalleMasiva"),p("design:type","function"==typeof(u=void 0!==c.a&&c.a)&&u||Object)],d.prototype,"tablaDetalleMasiva",void 0),d=l([i.i(r.Component)({selector:"app-vistaprevia",template:i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/retencion-masiva-detalle/retencion-masiva-detalle.component.html"),styles:[i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/retencion-masiva-detalle/retencion-masiva-detalle.css")]}),p("design:paramtypes",["function"==typeof(m=void 0!==n.c&&n.c)&&m||Object,"function"==typeof(v=void 0!==n.b&&n.b)&&v||Object,"function"==typeof(h=void 0!==o.a&&o.a)&&h||Object,"function"==typeof(b=void 0!==a.a&&a.a)&&b||Object])],d);var u,m,v,h,b;!function(){function e(){}}()},"./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/retencion-masiva-detalle/retencion-masiva-detalle.css":function(e,t,i){t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1),t.push([e.i,"input.ng-invalid.ng-touched,mat-select.ng-invalid.ng-touched{border-bottom:1px solid red}mat-select{border-bottom:1px solid #aaa}div.row{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}",""]),e.exports=e.exports.toString()},"./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/vistaprevia-percepcion-retencion/vistaprevia-percepcion-retencion.component.html":function(e,t){e.exports='<div class="row col-md-12">\r\n  <div class="card">\r\n    <div class="card-header card-header-text" data-background-color="blue">\r\n      <h4 class="card-title">{{\'vistaPrevia\' | translate}}</h4>\r\n    </div>\r\n    <div class="card-content">\r\n      <div class="row">\r\n        <div class="col-md-4">\r\n          <label><h5><b>{{razonsocialemisor}}</b></h5></label>\r\n        </div>\r\n        <div class="col-md-4 col-md-offset-4">\r\n          <div class="row">\r\n            <div class="col-md-3">\r\n              <label><h4><b>RUC N°:</b></h4></label>\r\n            </div>\r\n            <div class="col-md-6">\r\n              <label><h5>{{rucemisor}}</h5></label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="row">\r\n        <div class="col-md-4">\r\n          <label><h5><b>{{domiciliofiscalemisor}}</b></h5></label>\r\n        </div>\r\n        <div class="col-md-4 col-md-offset-4">\r\n          <label><h3><b>RETENCIÓN ELECTRÓNICA</b></h3></label>\r\n        </div>\r\n      </div>\r\n      <br>\r\n      <div class="row">\r\n        <div class="col-md-3 col-md-offset-8">\r\n          <div class="row">\r\n            <div class="col-md-offset-4">\r\n              <label><h3><b>Serie: </b>{{series}}</h3></label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <br>\r\n      <div class="row">\r\n        <div class="col-md-6">\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <label><b>Señor(es):</b></label>\r\n            </div>\r\n            <div class="col-md-6">\r\n              <label>{{razonsocialreceptor}}</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="col-md-4 col-md-offset-2">\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <label><b>Tipo de Cambio:</b></label>\r\n            </div>\r\n            <div class="col-md-6">\r\n              <label>{{tipocambio}}</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="row">\r\n        <div class="col-md-6">\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <label><b>RUC:</b></label>\r\n            </div>\r\n            <div class="col-md-6">\r\n              <label>{{rucreceptor}}</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="col-md-4 col-md-offset-2">\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <label><b>Banco</b></label>\r\n            </div>\r\n            <div class="col-md-6">\r\n              <label>{{banco}}</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="row">\r\n        <div class="col-md-6">\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <label><b>Domicilio Fiscal:</b></label>\r\n            </div>\r\n            <div class="col-md-6">\r\n              <label>{{domiciliofiscalreceptor}}</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="row">\r\n        <div class="col-md-6">\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <label><b>Fecha de Emisión:</b></label>\r\n            </div>\r\n            <div class="col-md-6">\r\n              <label>{{fechaemisiones}}</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="row">\r\n        <div class="col-md-6">\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <label><b>Tipo de Moneda:</b></label>\r\n            </div>\r\n            <div class="col-md-6">\r\n              <label>{{tipo_moneda}}</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <br>\r\n      <app-data-table (iniciarData)="iniciarData($event)"\r\n                      #tablaNormal [idTabla]="\'tabla1\'"\r\n                      [cabecera]="cabecera"\r\n                      [atributos]="atributos"></app-data-table>\r\n      <br>\r\n      <br>\r\n      <div class="row">\r\n        <div class="col-md-2 col-md-offset-5">\r\n          <label><b>Total Importe:</b></label>\r\n        </div>\r\n        <div class="col-md-5">\r\n          <label>{{total_importe}}</label>\r\n        </div>\r\n      </div>\r\n      <div class="row">\r\n        <div class="col-md-2 col-md-offset-5">\r\n          <label><b>Total Importe Retención:</b></label>\r\n        </div>\r\n        <div class="col-md-5">\r\n          <label>{{totales}}</label>\r\n        </div>\r\n      </div>\r\n      <div class="row">\r\n        <div class="col-md-2 col-md-offset-5">\r\n          <label><b>Son:</b></label>\r\n        </div>\r\n        <div class="col-md-5">\r\n          <label>{{totalespalabaras | uppercase}}</label>\r\n        </div>\r\n      </div>\r\n      <br>\r\n      <br>\r\n    </div>\r\n    <div class="row">\r\n      <div class="col-md-12" align="right">\r\n        <button name="btnregresar" type="button" class="btn btn-default" style="right: 15px;" (click)="regresar()">Regresar </button>\r\n        <button name="btnemitir" type="button" class="btn btn-default" style="right: 15px;" (click)="emitir()">Emitir </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n'},"./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/vistaprevia-percepcion-retencion/vistaprevia-percepcion-retencion.component.ts":function(e,t,i){"use strict";var r=i("./node_modules/@angular/core/@angular/core.es5.js"),n=i("./node_modules/@angular/router/@angular/router.es5.js"),o=i("./src/app/facturacion-electronica/general/data-table/data-table.component.ts"),a=i("./src/app/facturacion-electronica/percepcion-retencion/services/persistencia.service.ts"),c=i("./src/app/facturacion-electronica/percepcion-retencion/services/retencionpersiscabecera.service.ts"),s=i("./node_modules/written-number/lib/index.js"),l=(i.n(s),i("./src/app/facturacion-electronica/percepcion-retencion/models/principal-retencion.ts")),p=i("./src/app/facturacion-electronica/general/services/documento/nuevoDocumento.ts"),d=i("./src/app/facturacion-electronica/percepcion-retencion/services/persistencia.entidad.service.ts"),u=i("./src/app/facturacion-electronica/general/models/organizacion/entidad.ts"),m=i("./node_modules/@angular/common/@angular/common/http.es5.js"),v=i("./src/app/facturacion-electronica/percepcion-retencion/services/persistencia-post.ts"),h=i("./src/app/facturacion-electronica/percepcion-retencion/models/rdetalle.ts");i.d(t,"a",function(){return g});var b=this&&this.__decorate||function(e,t,i,r){var n,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(o<3?n(a):o>3?n(t,i,a):n(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=function(){function e(e,t,i,r,n,o,a,c){this.route=e,this.router=t,this.persistenciaService=i,this.RetencionCabecerapersistenciaService=r,this._nuevodocumento=n,this._entidadPersistenciaService=o,this.httpClient=a,this._postpersisservice=c,this.documentoreferenciaunit=new h.a,this.cabecera=[],this.atributos=[],this.retencion_principal=new l.a,this.entidadlogueo=new u.a,this.entidadreceptora=new u.a,this.listaitems=[],this.cabecera=["tipo","serie","numeroCorrelativo","fechaEmision","Moneda Origen","importeTotal","importeTotalsoles","importeRetencionsoles","Nro Doc ERP"],this.atributos=["tipoDocumentoDestinoDescripcion","serieDocumentoDestino","correlativoDocumentoDestino","fechaEmisionDestino","monedaDestino","totalImporteDestino","totalMonedaDestino","totalImporteAuxiliarDestino","numdocerp"]}return e.prototype.ngOnInit=function(){if(this.retencioncab=this.RetencionCabecerapersistenciaService.getCabeceraRetencion(),null!=this.retencioncab){this.total_importe=0,this.listaitems=this.persistenciaService.getListaProductos();for(var e=0;e<this.listaitems.length;e++)this.total_importe+=Number(this.listaitems[e].totalImporteDestino);var t=this.retencioncab.total.toString().split("."),i=t[0],r=t[1];this.rucemisor=this.retencioncab.rucProveedor,this.razonsocialemisor=this.retencioncab.razonSocialProveedor,this.domiciliofiscalemisor=this.retencioncab.direccion,this.rucreceptor=this.retencioncab.rucComprador,this.razonsocialreceptor=this.retencioncab.razonSocialComprador,this.domiciliofiscalreceptor=this.retencioncab.direccion,this.fechaemisiones=this.retencioncab.fecPago,this.totales=this.retencioncab.total,this.total_importe=Number(parseFloat(this.total_importe.toString()).toFixed(2)),this.tipo_moneda=this.retencioncab.moneda.toString(),this.totalespalabaras=s(Number(i),{lang:"es"})+" "+this.tipo_moneda+" CON "+s(Number(r),{lang:"es"})+" CENTÍMOS.",this.tipocambio="",this.banco="",this.series=this.retencioncab.serie}else this.router.navigateByUrl("percepcion-retencion/crear-retencion");this.entidadlogueo.usuarioCreacion="YISUS",this.entidadlogueo.usuarioModificacion="YISUS",this.entidadlogueo.fechaCreacion="2017-12-12",this.entidadlogueo.fechaModificacion="2017-12-12",this.entidadlogueo.estado="1",this.entidadlogueo.id="",this.entidadlogueo.idTipoEntidad="1",this.entidadlogueo.descripcionTipoEntidad="EMISOR",this.entidadlogueo.idEntidad="1",this.entidadlogueo.tipoDocumento="6",this.entidadlogueo.ubigeo="040101",this.entidadlogueo.departamento=null,this.entidadlogueo.provincia=null,this.entidadlogueo.distrito=null,this.entidadlogueo.documento="20539622031",this.entidadlogueo.denominacion="SMART REASONS S.R.L.",this.entidadlogueo.nombreComercial="SMART REASONS S.R.L.",this.entidadlogueo.direccionFiscal="CAL.JORGE CHAVEZ NRO. 502 (1 CDRA ARRIBA DEL PQUE MAYTA CAPAC) AREQUIPA - AREQUIPA - MIRAFLORES",this.entidadlogueo.correo="fvilca@ulasalle.edu.pe",this.entidadlogueo.idComprobante="",this.entidadreceptora.usuarioCreacion="YISUSG",this.entidadreceptora.usuarioModificacion="YISUSG",this.entidadreceptora.fechaCreacion="2017-12-12",this.entidadreceptora.fechaModificacion="2017-12-12",this.entidadreceptora.estado="1",this.entidadreceptora.id="",this.entidadreceptora.idTipoEntidad="2",this.entidadreceptora.descripcionTipoEntidad="RECEPTOR",this.entidadreceptora.idEntidad="2",this.entidadreceptora.tipoDocumento="6",this.entidadreceptora.ubigeo="040101",this.entidadreceptora.departamento=null,this.entidadreceptora.provincia=null,this.entidadreceptora.distrito=null,this.entidadreceptora.documento="20600411021",this.entidadreceptora.denominacion="TEXAO AREQUIPA SAC",this.entidadreceptora.direccionFiscal="CAL.JORGE CHAVEZ NRO. 502 (1 CDRA ARRIBA DEL PQUE MAYTA CAPAC)",this.entidadreceptora.correo="fvilca@ulasalle.edu.pe",this.entidadreceptora.idComprobante=""},e.prototype.regresar=function(){this.router.navigateByUrl("percepcion-retencion/crear-retencion")},e.prototype.regresardd=function(){this.router.navigateByUrl("percepcion-retencion/crear/emision")},e.prototype.armarjson=function(){var e=this.retencioncab.fecPago.toString().split("/"),t=e[0],i=e[1],r=e[2],n=r+"-"+i+"-"+t;this.retencion_principal.id="",this.retencion_principal.idTipoComprobante=this.retencioncab.idTipoComprobante,this.retencion_principal.numeroComprobante=this.retencioncab.serie,this.retencion_principal.idSerie=this.retencioncab.idserie,this.retencion_principal.idProveedor="",this.retencion_principal.idOrganizacionCompradora="",this.retencion_principal.rucProveedor="PE"+this.retencioncab.rucProveedor,this.retencion_principal.rucComprador="PE"+this.retencioncab.rucComprador,this.retencion_principal.estadoComprobante=this.retencioncab.estadoComprobante,this.retencion_principal.usuarioCreacion="gmendez",this.retencion_principal.usuarioModificacion="gmendez",this.retencion_principal.razonSocialComprador=this.retencioncab.razonSocialComprador,this.retencion_principal.razonSocialProveedor=this.retencioncab.razonSocialProveedor,this.retencion_principal.moneda=this.retencioncab.moneda,this.retencion_principal.fechaCreacion=n,this.retencion_principal.fechaRegistro=n,this.retencion_principal.fechaEmision=n,this.retencion_principal.idTablaTipoComprobante=this.retencioncab.idTablaTipoComprobante,this.retencion_principal.observacionComprobante=this.retencioncab.observacionComprobante,this.retencion_principal.idRegistroTipoComprobante=this.retencioncab.idtipocomprobanteproveedor,this.retencion_principal.tipoComprobante=this.retencioncab.tipocomprobanteproveedor,this.retencion_principal.version="1",this.retencion_principal.montoComprobante=0,this.retencion_principal.montoPagado=0,this.retencion_principal.montoDescuento=this.retencioncab.total,this.retencion_principal.fechaDocumentoRetencion=n,this.retencion_principal.totalComprobante=this.retencioncab.totalimporte,this.retencion_principal.detalleEbiz=[],this.retencion_principal.observacionComprobante=this.retencioncab.observacionComprobante,this.retencion_principal.documentoConcepto=[],this.retencion_principal.documentoParametro=[],this.retencion_principal.documentoEntidad.push(this.entidadreceptora),this.retencion_principal.documentoEntidad.push(this.entidadlogueo);for(var o=this.persistenciaService.getListaProductos(),a=0;a<o.length;a++)this.documentoreferenciaunit.idDocumentoOrigen=o[a].idDocumentoOrigen,this.documentoreferenciaunit.idDocumentoDestino=o[a].idDocumentoDestino,this.documentoreferenciaunit.tipoDocumentoOrigen=o[a].tipoDocumentoOrigen,this.documentoreferenciaunit.tipoDocumentoDestino=o[a].tipoDocumentoDestino,this.documentoreferenciaunit.serieDocumentoDestino=o[a].serieDocumentoDestino,this.documentoreferenciaunit.correlativoDocumentoDestino=o[a].correlativoDocumentoDestino,this.documentoreferenciaunit.totalImporteDestino=o[a].totalImporteDestino,this.documentoreferenciaunit.totalImporteAuxiliarDestino=o[a].totalImporteAuxiliarDestino,this.documentoreferenciaunit.totalPorcentajeAuxiliarDestino=o[a].totalPorcentajeAuxiliarDestino,this.documentoreferenciaunit.tipoDocumentoOrigenDescripcion=o[a].tipoDocumentoOrigenDescripcion,this.documentoreferenciaunit.tipoDocumentoDestinoDescripcion=o[a].tipoDocumentoDestinoDescripcion,this.documentoreferenciaunit.monedaDestino=o[a].monedaDestino,this.documentoreferenciaunit.totalMonedaDestino=o[a].totalMonedaDestino,this.documentoreferenciaunit.auxiliar1=o[a].auxiliar1,this.documentoreferenciaunit.polizaFactura=o[a].polizaFactura,this.documentoreferenciaunit.anticipo=o[a].anticipo,this.documentoreferenciaunit.fechaEmisionDestino=o[a].fechaEmisionDestino,this.documentoreferenciaunit.observaciones=o[a].observaciones,this.documentoreferenciaunit.idMoneda=o[a].idMoneda,this.retencion_principal.documentoReferencia.push(this.documentoreferenciaunit);console.log(this.retencion_principal.documentoReferencia)},e.prototype.emitir=function(){this.armarjson(),this._nuevodocumento.subir(this.retencion_principal),this.regresardd()},e.prototype.iniciarData=function(e){this.listaitems=this.persistenciaService.getListaProductos(),this.tabla.insertarData(this.listaitems)},e}();b([i.i(r.ViewChild)("tablaNormal"),f("design:type","function"==typeof(x=void 0!==o.a&&o.a)&&x||Object)],g.prototype,"tabla",void 0),g=b([i.i(r.Component)({selector:"app-vistaprevia",template:i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/vistaprevia-percepcion-retencion/vistaprevia-percepcion-retencion.component.html"),styles:[i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/vistaprevia-percepcion-retencion/vistaprevia-percepcion-retencion.css")]}),f("design:paramtypes",["function"==typeof(y=void 0!==n.c&&n.c)&&y||Object,"function"==typeof(_=void 0!==n.b&&n.b)&&_||Object,"function"==typeof(E=void 0!==a.a&&a.a)&&E||Object,"function"==typeof(w=void 0!==c.a&&c.a)&&w||Object,"function"==typeof(C=void 0!==p.a&&p.a)&&C||Object,"function"==typeof(D=void 0!==d.a&&d.a)&&D||Object,"function"==typeof(O=void 0!==m.b&&m.b)&&O||Object,"function"==typeof(S=void 0!==v.a&&v.a)&&S||Object])],g);var x,y,_,E,w,C,D,O,S},"./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/vistaprevia-percepcion-retencion/vistaprevia-percepcion-retencion.css":function(e,t,i){t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},"./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-visualizar/percepcion-retencion-visualizar.component.css":function(e,t,i){t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},"./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-visualizar/percepcion-retencion-visualizar.component.html":function(e,t){e.exports='<div class="row col-md-12">\r\n  <div class="card">\r\n    <div class="card-header card-header-text" data-background-color="blue">\r\n      <h4 class="card-title">{{\'visualizar\' | translate}}</h4>\r\n    </div>\r\n    <div class="card-content">\r\n      <div class="row">\r\n        <div class="col-md-4">\r\n          <label>\r\n            <h5>\r\n              <b>{{razonsocialemisor}}</b>\r\n            </h5>\r\n          </label>\r\n        </div>\r\n        <div class="col-md-4 col-md-offset-4">\r\n          <div class="row">\r\n            <div class="col-md-3">\r\n              <label>\r\n                <h4>\r\n                  <b>RUC N°:</b>\r\n                </h4>\r\n              </label>\r\n            </div>\r\n            <div class="col-md-6">\r\n              <label>\r\n                <h5>{{rucemisor}}</h5>\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="row">\r\n        <div class="col-md-4">\r\n          <label>\r\n            <h5>\r\n              <b>{{domiciliofiscalemisor}}</b>\r\n            </h5>\r\n          </label>\r\n        </div>\r\n        <div class="col-md-4 col-md-offset-4">\r\n          <label>\r\n            <h3>\r\n              <b>RETENCIÓN ELECTRÓNICA</b>\r\n            </h3>\r\n          </label>\r\n        </div>\r\n      </div>\r\n      <br>\r\n      <div class="row">\r\n        <div class="col-md-3 col-md-offset-8">\r\n          <div class="row">\r\n            <div class="col-md-offset-4">\r\n              <label>\r\n                <h3>{{series}} - {{correlativo}}</h3>\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <br>\r\n      <div class="row">\r\n        <div class="col-md-6">\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <label>\r\n                <b>Señor(es):</b>\r\n              </label>\r\n            </div>\r\n            <div class="col-md-6">\r\n              <label>{{razonsocialreceptor}}</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="col-md-4 col-md-offset-2">\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <label>\r\n                <b>Tipo de Cambio:</b>\r\n              </label>\r\n            </div>\r\n            <div class="col-md-6">\r\n              <label>{{tipocambio}}</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="row">\r\n        <div class="col-md-6">\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <label>\r\n                <b>RUC:</b>\r\n              </label>\r\n            </div>\r\n            <div class="col-md-6">\r\n              <label>{{rucreceptor}}</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="col-md-4 col-md-offset-2">\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <label>\r\n                <b>Banco</b>\r\n              </label>\r\n            </div>\r\n            <div class="col-md-6">\r\n              <label>{{banco}}</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="row">\r\n        <div class="col-md-6">\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <label>\r\n                <b>Domicilio Fiscal:</b>\r\n              </label>\r\n            </div>\r\n            <div class="col-md-6">\r\n              <label>{{domiciliofiscalreceptor}}</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="row">\r\n        <div class="col-md-6">\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <label>\r\n                <b>Fecha de Emisión:</b>\r\n              </label>\r\n            </div>\r\n            <div class="col-md-6">\r\n              <label>{{fechaemisiones}}</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="row">\r\n        <div class="col-md-6">\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <label>\r\n                <b>Tipo de Moneda:</b>\r\n              </label>\r\n            </div>\r\n            <div class="col-md-6">\r\n              <label>{{monedacabe}}</label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <br>\r\n      <app-data-table\r\n        (iniciarData)="iniciarData($event)"\r\n        #tablaNormal\r\n        [idTabla]="\'tabla1\'"\r\n        [cabecera]="cabecera"\r\n        [atributos]="atributos"></app-data-table>\r\n      <br>\r\n      <br>\r\n      <div class="row">\r\n        <div class="col-md-2 col-md-offset-5">\r\n          <label>\r\n            <b>Total Importe:</b>\r\n          </label>\r\n        </div>\r\n        <div class="col-md-5">\r\n          <label>{{totalImporte}}</label>\r\n        </div>\r\n      </div>\r\n      <div class="row">\r\n        <div class="col-md-2 col-md-offset-5">\r\n          <label>\r\n            <b>Total Importe Retención:</b>\r\n          </label>\r\n        </div>\r\n        <div class="col-md-5">\r\n          <label>{{totalRetencion}}</label>\r\n        </div>\r\n      </div>\r\n      <div class="row">\r\n        <div class="col-md-2 col-md-offset-5">\r\n          <label>\r\n            <b>Son:</b>\r\n          </label>\r\n        </div>\r\n        <div class="col-md-5">\r\n          <label>{{totalespalabaras | uppercase}}</label>\r\n        </div>\r\n      </div>\r\n      <br>\r\n      <br>\r\n    </div>\r\n    <div>\r\n      <div class="col-md-6"></div>\r\n      <div class="col-md-6">\r\n        <div class="col-xs-12 col-md-3" style="float: right;">\r\n          <button name="btnregresar" type="button" class="btn btn-default col-xs-12" (click)="regresar()">Regresar\r\n          </button>\r\n        </div>\r\n        \r\n        \r\n        <div class="col-xs-12 col-md-3" style="float: right;">\r\n          <button type="btnEnviarCorreo" class="btn btn-default col-xs-12" (click)="showSwal()" > {{\'enviarCorreo\' | translate}}</button>    \r\n        </div>\r\n        \r\n        <div class="dropdown col-md-3" style="float: right;">\r\n          <button class="dropdown-toggle btn btn-default btn-block col-xs-12" data-toggle="dropdown" style="padding-left: 17px;">{{\'descargar\' | translate}}\r\n            <b class="caret"></b>\r\n            <ul class="dropdown-menu">\r\n              <li *ngFor="let archivo of tiposArchivos">\r\n                <a (click)="guardarArchivo(archivo)">{{archivo.descripcion}}</a>\r\n              </li>\r\n            </ul>\r\n          </button>\r\n        </div>\r\n\r\n        <div class="col-xs-12 col-md-3" style="float: right;">\r\n          <button type="btnimprimir" class="btn btn-default col-xs-12" (click)="imprimir()"> Imprimir</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    \x3c!--\r\n    <div class="row">\r\n        <div class="col-md-7" align="right"></div>\r\n        <div class="col-md-5 row">\r\n          <div class="dropdown col-md-3" style="padding-right: 2px;">\r\n            <button class="dropdown-toggle btn btn-default btn-block" data-toggle="dropdown" style="padding-left: 17px;">{{\'descargar\' | translate}} <b class="caret" ></b>\r\n              <ul class="dropdown-menu">\r\n                <li *ngFor="let archivo of tiposArchivos">\r\n                  <a (click)="guardarArchivo(archivo)">{{archivo.descripcion}}</a>\r\n                </li>\r\n              </ul>\r\n            </button>\r\n          </div>\r\n          <button type="submit" class="btn btn-default col-xs-12 col-sm-6 col-md-2" (click)="showSwal()" > {{\'enviarCorreo\' | translate}}</button>\r\n          <button type="submit" class="btn btn-default col-xs-12 col-sm-6 col-md-2" (click)="emitir()"style="padding-left: 20px;"> {{\'imprimir\' | translate}}</button>\r\n        </div>\r\n    </div>\r\n  --\x3e\r\n\r\n  </div>\r\n</div>\r\n'},"./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-visualizar/percepcion-retencion-visualizar.component.ts":function(e,t,i){"use strict";var r=i("./node_modules/@angular/core/@angular/core.es5.js"),n=i("./node_modules/@angular/router/@angular/router.es5.js"),o=i("./node_modules/written-number/lib/index.js"),a=(i.n(o),i("./node_modules/@angular/common/@angular/common/http.es5.js")),c=i("./src/app/facturacion-electronica/general/data-table/data-table.component.ts"),s=i("./src/app/facturacion-electronica/percepcion-retencion/models/retencionebiz.ts"),l=i("./src/app/facturacion-electronica/general/models/organizacion/entidad.ts"),p=i("./src/app/facturacion-electronica/percepcion-retencion/models/rdetalle.ts"),d=i("./src/app/facturacion-electronica/percepcion-retencion/models/principal-retencion.ts"),u=i("./src/app/facturacion-electronica/percepcion-retencion/services/persistencia.service.ts"),m=i("./src/app/facturacion-electronica/percepcion-retencion/services/persistencia.entidad.service.ts"),v=i("./src/app/facturacion-electronica/percepcion-retencion/services/retencionpersiscabecera.service.ts"),h=i("./src/app/facturacion-electronica/general/services/documento/nuevoDocumento.ts"),b=i("./src/app/facturacion-electronica/percepcion-retencion/services/persistencia-post.ts"),f=i("./src/app/facturacion-electronica/general/services/comprobantes/comprobantes.service.ts"),g=i("./src/app/facturacion-electronica/general/models/archivos/tipoArchivo.ts"),x=i("./src/app/facturacion-electronica/general/services/servidores.ts"),y=i("./src/app/facturacion-electronica/general/services/correo/correo.service.ts"),_=i("./src/app/facturacion-electronica/general/services/archivos/archivo.service.ts");i.d(t,"a",function(){return C});var E=this&&this.__decorate||function(e,t,i,r){var n,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(o<3?n(a):o>3?n(t,i,a):n(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},w=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},C=function(){function e(e,t,i,r,n,o,a,c,s,u,m,v){this.route=e,this.router=t,this.persistenciaService=i,this.RetencionCabecerapersistenciaService=r,this._nuevodocumento=n,this._entidadPersistenciaService=o,this.httpClient=a,this._postpersisservice=c,this._comprobantesService=s,this._servidores=u,this.correoService=m,this.archivoServicio=v,this.comprobantes_query=[],this.tiposArchivos=g.b,this.documentoreferenciaunit=new p.a,this.cabecera=[],this.atributos=[],this.retencion_principal=new d.a,this.entidadlogueo=new l.a,this.entidadreceptora=new l.a,this.listaitems=[],this.cabecera=["tipo","serie","numeroCorrelativo","fechaEmision","Moneda Origen","importeTotal","importeTotalsoles","importeRetencionsoles","Nro Doc ERP"],this.atributos=["tipoDocumentoDestinoDescripcion","serieDocumentoDestino","correlativoDocumentoDestino","fechaEmisionDestino","monedaDestino","totalImporteDestino","totalImporteDestino","totalImporteAuxiliarDestino","vcPolizaFactura"]}return e.prototype.ngOnInit=function(){var e=this;this.uuid=this.persistenciaService.getUUIDConsultaRetenecion(),this._comprobantesService.buscarPorUuid(this.uuid);var t=this._servidores.DOCUQRY+"/documento?id="+this.uuid;this.httpClient.get(t,{responseType:"text"}).subscribe(function(t){e.documentos_query=JSON.parse(t),e.cargarData(t)},function(e){console.log("ERROR")})},e.prototype.cargarData=function(e){e=JSON.parse(e),console.log("REFERENCIAS DETALLE"),console.log(e.referencias),console.log(e),this.razonsocialemisor=e.entidadproveedora.vcNomComercia,this.rucemisor=e.entidadproveedora.vcDocumento,this.domiciliofiscalemisor=e.entidadproveedora.vcDirFiscal,this.series=e.vcSerie,this.correlativo=e.vcCorrelativo,this.razonsocialreceptor=e.entidadcompradora.vcNomComercia,this.rucreceptor=e.entidadcompradora.vcDocumento,this.banco=e.vcPagobanco,this.monedacabe=e.chMonedacomprobantepago,this.domiciliofiscalreceptor=e.entidadcompradora.vcDirFiscal,this.uuid_pdf=e.inIdcomprobantepago,this.fechaemisiones=e.tsFechaenvio,this.tipocambio="";for(var t=0;t<e.referencias.length;t++){this.tipocambio=e.referencias[t].vcAuxiliar1;var i=new s.a;i.id=t,i.tipoDocumentoDestinoDescripcion=e.referencias[t].vcTdocDesDesc,i.serieDocumentoDestino=e.referencias[t].chSerieDest,i.correlativoDocumentoDestino=e.referencias[t].chCorrDest,i.fechaEmisionDestino=e.referencias[t].daFecEmiDest,i.monedaDestino=e.referencias[t].vcMonedaDestino,i.vcPolizaFactura=e.referencias[t].vcPolizaFactura,this.listaitems.push(i)}this.tabla.insertarData(this.listaitems),this.calcularTotales()},e.prototype.formatearNumeroFormatoMoneda=function(e){return e.toFixed(2)},e.prototype.calcularTotales=function(){this.totalImporte=0,this.totalRetencion=0;for(var e=0;e<this.listaitems.length;e++)this.totalImporte+=Number(this.listaitems[e].totalImporteAuxiliarDestino),this.totalRetencion=Number(this.listaitems[e].totalImporteDestino);this.totalespalabaras=this.formatearNumeroFormatoMoneda(this.totalImporte);var t=this.totalespalabaras.split("."),i=t[0],r=t[1];this.totalespalabaras=o(Number(i),{lang:"es"})+"  SOLES CON "+o(Number(r),{lang:"es"})+" CENTÍMOS."},e.prototype.guardarArchivo=function(e){switch(e.descripcion){case"PDF":window.open(this._servidores.FILEQRY+"/download?nombre="+this.uuid+"-1.pdf","_blank");break;case"XML":window.open(this._servidores.FILEQRY+"/download?nombre="+this.uuid+"-2.xml","_blank");break;case"CDR":window.open(this._servidores.FILEQRY+"/download?nombre="+this.uuid+"-3.zip","_blank")}},e.prototype.regresar=function(){this.router.navigateByUrl("percepcion-retencion/consultar")},e.prototype.emitir=function(){window.open(this._servidores.FILEQRY+"/download?nombre="+this.uuid_pdf+"-1.pdf","_blank")},e.prototype.imprimir=function(){this.archivoServicio.retornarArchivoRetencionPercepcionbase(this.uuid).subscribe(function(e){if(console.log(e),e){var t='<embed width=100% height=100% type="application/pdf" src="data:application/pdf;base64,'+e+'"> </embed>';window.open("","PDF","dependent = yes, locationbar = no, menubar = yes, resizable, screenX = 50, screenY = 50, width = 800, height = 800").document.write(t)}}),console.log(this.uuid)},e.prototype.iniciarData=function(e){this.tabla.insertarData(this.listaitems)},e.prototype.showSwal=function(){var e=this;swal({title:"Agregar Correos Electrónicos",html:'<div class="form-group label-floating" xmlns="http://www.w3.org/1999/html"><label class="control-label">Correos Electrónicos<span class="star">*</span> </label><textarea id="correos" type="text" class="form-control"/></textarea> <label>Para separar correos se deberan separar por comas(,).</label></div>',allowOutsideClick:!1,preConfirm:function(){return new Promise(function(e,t){setTimeout(function(){var i=!0,r=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i,n=$("#correos").val();n=n.split(",");var o=n.filter(function(e){return!r.test(e)&&(i=!1,!0)});i?e(n):(swal.showValidationError(),t(new Error(o)))},500)})},showCancelButton:!0,confirmButtonClass:"btn btn-success",cancelButtonClass:"btn btn-danger",confirmButtonText:"SÍ",cancelButtonText:"NO",buttonsStyling:!1}).then(function(t){var i=(e.uuid,e.series),r=e.correlativo,n=new Date(e.fechaemisiones).toISOString(),o=e.uuid+"-1.pdf",a=e.uuid+"-2.xml";console.log(t,"Retencion",i,r,n,o,a),e.correoService.enviarNotificacion(t,"Retencion",i,r,n,o,a),swal({type:"success",html:'<div class="text-center"> Se envio el correo a el/los destinatario(s). </div> ',confirmButtonClass:"btn btn-success",buttonsStyling:!1})})},e}();E([i.i(r.ViewChild)("tablaNormal"),w("design:type","function"==typeof(D=void 0!==c.a&&c.a)&&D||Object)],C.prototype,"tabla",void 0),C=E([i.i(r.Component)({selector:"visualizar-retencion",template:i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-visualizar/percepcion-retencion-visualizar.component.html"),styles:[i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-visualizar/percepcion-retencion-visualizar.component.css")]}),w("design:paramtypes",["function"==typeof(O=void 0!==n.c&&n.c)&&O||Object,"function"==typeof(S=void 0!==n.b&&n.b)&&S||Object,"function"==typeof(R=void 0!==u.a&&u.a)&&R||Object,"function"==typeof(j=void 0!==v.a&&v.a)&&j||Object,"function"==typeof(A=void 0!==h.a&&h.a)&&A||Object,"function"==typeof(I=void 0!==m.a&&m.a)&&I||Object,"function"==typeof(P=void 0!==a.b&&a.b)&&P||Object,"function"==typeof(z=void 0!==b.a&&b.a)&&z||Object,"function"==typeof(M=void 0!==f.a&&f.a)&&M||Object,"function"==typeof(T=void 0!==x.a&&x.a)&&T||Object,"function"==typeof(F=void 0!==y.a&&y.a)&&F||Object,"function"==typeof(k=void 0!==_.a&&_.a)&&k||Object])],C);var D,O,S,R,j,A,I,P,z,M,T,F,k},"./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion.component.css":function(e,t,i){t=e.exports=i("./node_modules/css-loader/lib/css-base.js")(!1),t.push([e.i,"",""]),e.exports=e.exports.toString()},"./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion.component.html":function(e,t){e.exports='<div class="main-content">\r\n  <div class="container-fluid">\r\n    <div class="row">\r\n      <div class="col-sm-12">\r\n        <div class="card">\r\n          <div class="card-header card-header-text" data-background-color="blue">\r\n            <h4 class="card-title">{{titulo | translate}}</h4>\r\n          </div>\r\n          <div class="card-content">\r\n            <div class="row">\r\n              <div class="col-xs-12 col-sm-3 col-md-3 col-lg-2">\r\n                <select name="cmbTiposComprobante" class="form-control" (change)="cargarComprobante()"\r\n                        [(ngModel)]="RPSeleccionado"\r\n                        [disabled]="!mostrarCombo">\r\n                  <option *ngFor="let tipoRp of tiposRP.TipoRPs" [ngValue]="tipoRp"> {{tipoRp.descripcion | translate}} </option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n              <router-outlet></router-outlet>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},"./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion.component.ts":function(e,t,i){"use strict";var r=i("./node_modules/@angular/core/@angular/core.es5.js"),n=i("./src/app/facturacion-electronica/percepcion-retencion/models/tipo-rp.ts"),o=i("./node_modules/@angular/router/@angular/router.es5.js");i.d(t,"a",function(){return s});var a=this&&this.__decorate||function(e,t,i,r){var n,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(o<3?n(a):o>3?n(t,i,a):n(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e,t){this.router=e,this.route=t,this.titulo="crearComprobantes",this.tiposRP=new n.a,this.mostrarCombo=!0,this.RPSeleccionado=this.tiposRP.getRetencion()}return e.prototype.ngOnInit=function(){this.cargarDataRutaComponente()},e.prototype.ngDoCheck=function(){this.cargarDataRutaComponente()},e.prototype.cargarDataRutaComponente=function(){this.route.snapshot&&this.route.snapshot.children[0]&&(this.active=this.route.snapshot.children[0],this.active.data.codigo&&(this.RPSeleccionado=this.tiposRP.get(this.active.data.codigo)),this.mostrarCombo=this.active.data.mostrarCombo)},e.prototype.cargarComprobante=function(){this.navegarHacia(this.RPSeleccionado)},e.prototype.navegarHacia=function(e){var t=e.ruta;this.router.navigate([t],{relativeTo:this.route})},e}();s=a([i.i(r.Component)({selector:"app-percepcion-retencion",template:i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion.component.html"),styles:[i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion.component.css")]}),c("design:paramtypes",["function"==typeof(l=void 0!==o.b&&o.b)&&l||Object,"function"==typeof(p=void 0!==o.c&&o.c)&&p||Object])],s);var l,p},"./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion.module.ts":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i("./node_modules/@angular/core/@angular/core.es5.js"),n=i("./node_modules/@angular/common/@angular/common.es5.js"),o=i("./node_modules/@angular/forms/@angular/forms.es5.js"),a=i("./node_modules/@angular/http/@angular/http.es5.js"),c=i("./node_modules/@angular/common/@angular/common/http.es5.js"),s=i("./src/app/directives/datepicker.module.ts"),l=i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion.component.ts"),p=i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/percepcion-retencion-crear.component.ts"),d=i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion.routing.module.ts"),u=i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/item-crear-editar/item-crear-editar.component.ts"),m=i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/vistaprevia-percepcion-retencion/vistaprevia-percepcion-retencion.component.ts"),v=i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/emision-percepcion-retencion/emision-percepcion-retencion.component.ts"),h=i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/retencion-masiva-detalle/retencion-masiva-detalle.component.ts"),b=i("./src/app/facturacion-electronica/general/data-table/data-table.module.ts"),f=i("./src/app/facturacion-electronica/percepcion-retencion/services/persistencia.service.ts"),g=i("./src/app/facturacion-electronica/general/pdf-viewer/pdf-viewer.module.ts"),x=i("./src/app/facturacion-electronica/general/consulta/consulta.module.ts"),y=i("./node_modules/@ngx-translate/core/index.js"),_=i("./src/app/facturacion-electronica/percepcion-retencion/services/retencionpersiscabecera.service.ts"),E=i("./src/app/facturacion-electronica/general/directivas/directivas.module.ts"),w=i("./src/app/facturacion-electronica/general/utils/estadoArchivo.service.ts"),C=i("./src/app/facturacion-electronica/percepcion-retencion/services/archivoMasiva.service.ts"),D=i("./src/app/facturacion-electronica/general/services/documento/nuevoDocumento.ts"),O=i("./src/app/facturacion-electronica/percepcion-retencion/services/persistencia.entidad.service.ts"),S=i("./src/app/facturacion-electronica/general/services/comprobantes/retenciones.service.ts"),R=i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-visualizar/percepcion-retencion-visualizar.component.ts"),j=i("./src/app/facturacion-electronica/percepcion-retencion/services/persistencia-post.ts"),A=i("./src/app/facturacion-electronica/general/services/archivos/archivo.service.ts"),I=i("./src/app/facturacion-electronica/general/services/comprobantes/comprobantes.service.ts");i.d(t,"PercepcionRetencionModule",function(){return z});var P=this&&this.__decorate||function(e,t,i,r){var n,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(o<3?n(a):o>3?n(t,i,a):n(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},z=function(){function e(){}return e}();z=P([i.i(r.NgModule)({imports:[d.a,n.CommonModule,o.a,a.a,o.b,c.a,s.a,g.a,b.a,x.a,y.a,E.a],declarations:[l.a,p.a,u.a,m.a,v.a,h.a,h.a,R.a],providers:[f.a,_.a,w.a,C.a,D.a,O.a,S.a,S.a,A.a,j.a,I.a],exports:[l.a]})],z)},"./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion.routing.module.ts":function(e,t,i){"use strict";var r=i("./node_modules/@angular/core/@angular/core.es5.js"),n=i("./node_modules/@angular/router/@angular/router.es5.js"),o=i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/percepcion-retencion-crear.component.ts"),a=i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion.component.ts"),c=i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/item-crear-editar/item-crear-editar.component.ts"),s=i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/vistaprevia-percepcion-retencion/vistaprevia-percepcion-retencion.component.ts"),l=i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/emision-percepcion-retencion/emision-percepcion-retencion.component.ts"),p=i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-crear/retencion-masiva-detalle/retencion-masiva-detalle.component.ts"),d=i("./src/app/facturacion-electronica/general/consulta/consulta.component.ts"),u=i("./src/app/facturacion-electronica/percepcion-retencion/percepcion-retencion-visualizar/percepcion-retencion-visualizar.component.ts");i.d(t,"a",function(){return h});var m=this&&this.__decorate||function(e,t,i,r){var n,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(o<3?n(a):o>3?n(t,i,a):n(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},v=[{path:"",component:a.a,children:[{path:"",pathMatch:"full",redirectTo:"retencion"},{path:"crear-retencion",component:o.a,data:{codigo:"01",mostrarCombo:!0}},{path:"crear-percepcion",component:o.a,data:{codigo:"02",mostrarCombo:!0}},{path:"crear/vista-previa",component:s.a},{path:"crear/emision",component:l.a},{path:"crear/agregar-item",component:c.a,data:{mostrarCombo:!1,tipoaccion:1,titulo:"agregarItem"}},{path:"retencion-masiva/detalle/:id",component:p.a,data:{tipoaccion:1,titulo:"detalleRetencionMasiva"}},{path:"crear/editar-item/:id",component:c.a,data:{tipoaccion:2,titulo:"editarItem",button:"guardar"}},{path:"consultar",component:d.a,data:{titulo:"consultaPercepcionRetencion",tipoConsulta:2}},{path:"consultar/visualizar",component:u.a,data:{titulo:"visualizarConsultaRetencion"}}]}],h=function(){function e(){}return e}();h=m([i.i(r.NgModule)({imports:[n.a.forChild(v)],exports:[n.a]})],h)},"./src/app/facturacion-electronica/percepcion-retencion/services/archivoMasiva.service.ts":function(e,t,i){"use strict";var r=i("./node_modules/@angular/core/@angular/core.es5.js"),n=i("./node_modules/@angular/common/@angular/common/http.es5.js"),o=i("./src/app/facturacion-electronica/general/services/servidores.ts"),a=i("./node_modules/rxjs/BehaviorSubject.js"),c=(i.n(a),i("./src/app/facturacion-electronica/general/services/base.paginacion.ts"));i.d(t,"a",function(){return p});var s=this&&this.__decorate||function(e,t,i,r){var n,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(o<3?n(a):o>3?n(t,i,a):n(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t){this.httpClient=e,this.servidores=t,this.urlCmd="/retenciones-masivas",this.urlQry="/archivosmasivos/search/filtros",this.urlQryDetalleMasivo="/detallearchivosmasivos/search/filtros",this.TIPO_METODO_DOCUMENTO_MASIVO="documentoMasivoes",this.TIPO_METODO_DETALLE_DOCUMENTO_MASIVO="detalleMasivoes",this.urlCmd=this.servidores.DOCUCMD+this.urlCmd,this.urlQry=this.servidores.DOCUQRY+this.urlQry,this.urlQryDetalleMasivo=this.servidores.DOCUQRY+this.urlQryDetalleMasivo}return e.prototype.crearArchivoMasiva=function(e){var t=new a.BehaviorSubject(!1);return this.httpClient.post(this.urlCmd,e).subscribe(function(e){t.next(!0)},function(e){t.next(!1)}),t},e.prototype.get=function(e,t,i){void 0===t&&(t=this.urlQry),void 0===i&&(i=this.TIPO_METODO_DOCUMENTO_MASIVO);var r=new c.a,n=new a.BehaviorSubject([r,[]]);return this.httpClient.get(t,{params:e}).take(1).subscribe(function(e){r.pagina.next(e.page.number),r.totalItems.next(e.page.totalElements),r.totalPaginas.next(e.page.totalPages-1),e._links.next?r.next.next(e._links.next.href):r.next.next(""),e._links.last?r.last.next(e._links.last.href):r.last.next(""),e._links.first?r.first.next(e._links.first.href):r.first.next(""),e._links.prev?r.previous.next(e._links.prev.href):r.previous.next(""),n.next([r,e._embedded[i]])}),n},e}();p=s([i.i(r.Injectable)(),l("design:paramtypes",["function"==typeof(d=void 0!==n.b&&n.b)&&d||Object,"function"==typeof(u=void 0!==o.a&&o.a)&&u||Object])],p);var d,u},"./src/app/facturacion-electronica/percepcion-retencion/services/persistencia-post.ts":function(e,t,i){"use strict";var r=i("./node_modules/@angular/core/@angular/core.es5.js"),n=i("./node_modules/angular-persistence/index.js"),o=i("./src/app/facturacion-electronica/percepcion-retencion/models/post_retencion.ts");i.d(t,"a",function(){return s});var a=this&&this.__decorate||function(e,t,i,r){var n,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(o<3?n(a):o>3?n(t,i,a):n(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e){this.persistenceService=e,this.postpersistencia=new o.a}return e.prototype.setPostRetencion=function(e){console.log("nueva uiid del servicio"),console.log(e.id),this.persistenceService.remove("post_retencion",n.b.LOCAL),this.persistenceService.set("post_retencion",e,{type:n.b.LOCAL,timeout:36e5})},e.prototype.getPostRetencion=function(){var e;return e=this.persistenceService.get("post_retencion",n.b.LOCAL),console.log(e),void 0==e?null:e},e.prototype.removePostRetencion=function(){this.persistenceService.remove("post_retencion",n.b.LOCAL)},e}();s=a([i.i(r.Injectable)(),c("design:paramtypes",["function"==typeof(l=void 0!==n.c&&n.c)&&l||Object])],s);var l},"./src/app/facturacion-electronica/percepcion-retencion/services/persistencia.entidad.service.ts":function(e,t,i){"use strict";var r=i("./node_modules/@angular/core/@angular/core.es5.js"),n=i("./node_modules/angular-persistence/index.js"),o=i("./src/app/facturacion-electronica/general/models/organizacion/entidad.ts");i.d(t,"a",function(){return s});var a=this&&this.__decorate||function(e,t,i,r){var n,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(o<3?n(a):o>3?n(t,i,a):n(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e){this.persistenceService=e,this.documentoEntidad=new o.a}return e.prototype.setEntidad=function(e){this.persistenceService.remove("entidad",n.b.LOCAL),this.persistenceService.set("entidad",e,{type:n.b.LOCAL,timeout:36e5})},e.prototype.getEntidad=function(){var e;return e=this.persistenceService.get("entidad",n.b.LOCAL),console.log(e),void 0==e?null:e},e}();s=a([i.i(r.Injectable)(),c("design:paramtypes",["function"==typeof(l=void 0!==n.c&&n.c)&&l||Object])],s);var l},"./src/app/facturacion-electronica/percepcion-retencion/services/retencionpersiscabecera.service.ts":function(e,t,i){"use strict";var r=i("./node_modules/@angular/core/@angular/core.es5.js"),n=i("./node_modules/angular-persistence/index.js"),o=i("./src/app/facturacion-electronica/percepcion-retencion/models/retencion-cabecera.ts");i.d(t,"a",function(){return s});var a=this&&this.__decorate||function(e,t,i,r){var n,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(o<3?n(a):o>3?n(t,i,a):n(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e){this.persistenceService=e,this.listacabecera=new o.a}return e.prototype.setCabeceraRetencion=function(e){this.persistenceService.remove("retencioncabecera",n.b.LOCAL),this.persistenceService.set("retencioncabecera",e,{type:n.b.LOCAL,timeout:36e5})},e.prototype.getCabeceraRetencion=function(){var e;return e=this.persistenceService.get("retencioncabecera",n.b.LOCAL),console.log(e),void 0==e?null:e},e.prototype.vaciar_data=function(){this.persistenceService.remove("retencioncabecera",n.b.LOCAL)},e}();s=a([i.i(r.Injectable)(),c("design:paramtypes",["function"==typeof(l=void 0!==n.c&&n.c)&&l||Object])],s);var l}});