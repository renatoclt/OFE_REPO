webpackJsonp([1],{"./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/detalleDetalleNotaDebito.ts":function(t,o,e){"use strict";e.d(o,"a",function(){return a});var a=function(){function t(){this.idTipoIgv="",this.codigoTipoIgv="",this.descripcionTipoIgv="",this.idTipoIsc="",this.codigoTipoIsc="",this.descripcionTipoIsc="",this.idTipoPrecio="",this.codigoTipoPrecio="",this.descripcionTipoPrecio="",this.idProducto="",this.numeroItem="0.00",this.precioUnitarioVenta="0.00",this.unidadMedida="",this.subtotalVenta="0.00",this.subtotalIgv="0.00",this.subtotalIsc="0.00",this.descuento="0.00"}return t.prototype.copiar=function(){var o=new t;return o.idTipoIgv=this.idTipoIgv,o.codigoTipoIgv=this.codigoTipoIgv,o.descripcionTipoIgv=this.descripcionTipoIgv,o.idTipoIsc=this.idTipoIsc,o.codigoTipoIsc=this.codigoTipoIsc,o.descripcionTipoIsc=this.descripcionTipoIsc,o.idTipoPrecio=this.idTipoPrecio,o.codigoTipoPrecio=this.codigoTipoPrecio,o.descripcionTipoPrecio=this.descripcionTipoPrecio,o.idProducto=this.idProducto,o.numeroItem=this.numeroItem,o.precioUnitarioVenta=this.precioUnitarioVenta,o.unidadMedida=this.unidadMedida,o.subtotalVenta=this.subtotalVenta,o.subtotalIgv=this.subtotalIgv,o.subtotalIsc=this.subtotalIsc,o.descuento=this.descuento,o},t.prototype.copiarDetalle=function(t){this.idTipoIgv=t.idTipoIgv,this.codigoTipoIgv=t.codigoTipoIgv,this.descripcionTipoIgv=t.descripcionTipoIgv,this.idTipoIsc=t.idTipoIsc,this.codigoTipoIsc=t.codigoTipoIsc,this.descripcionTipoIsc=t.descripcionTipoIsc,this.idTipoPrecio=t.idTipoPrecio,this.codigoTipoPrecio=t.codigoTipoPrecio,this.descripcionTipoPrecio=t.descripcionTipoPrecio,this.idProducto=t.idProducto,this.numeroItem=t.numeroItem,this.precioUnitarioVenta=t.precioUnitarioVenta,this.unidadMedida=t.unidadMedida,this.subtotalVenta=t.subtotalVenta,this.subtotalIgv=t.subtotalIgv,this.subtotalIsc=t.subtotalIsc,this.descuento=t.descuento},t}()},"./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/detalleNotaDebito.ts":function(t,o,e){"use strict";var a=e("./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/detalleDetalleNotaDebito.ts");e.d(o,"a",function(){return i});var i=function(){function t(){this.descripcionItem="",this.idRegistroUnidad="",this.idTablaUnidad="",this.codigoUnidadMedida="",this.posicion="",this.codigoItem="",this.precioUnitario="",this.precioTotal="",this.cantidad="",this.montoImpuesto="",this.cambioDetalle=!1,this.detalle=new a.a}return t.prototype.copiar=function(){var o=new t;return o.descripcionItem=this.descripcionItem,o.idRegistroUnidad=this.idRegistroUnidad,o.idTablaUnidad=this.idTablaUnidad,o.codigoUnidadMedida=this.codigoUnidadMedida,o.posicion=this.posicion,o.codigoItem=this.codigoItem,o.precioUnitario=this.precioUnitario,o.precioTotal=this.precioTotal,o.cantidad=this.cantidad,o.montoImpuesto=this.montoImpuesto,o.cambioDetalle=this.cambioDetalle,o.detalle=this.detalle.copiar(),o},t.prototype.copiarDetalle=function(t){this.descripcionItem=t.descripcionItem,this.idRegistroUnidad=t.idRegistroUnidad,this.idTablaUnidad=t.idTablaUnidad,this.codigoUnidadMedida=t.codigoUnidadMedida,this.posicion=t.posicion,this.codigoItem=t.codigoItem,this.precioUnitario=t.precioUnitario,this.precioTotal=t.precioTotal,this.cantidad=t.cantidad,this.montoImpuesto=t.montoImpuesto,this.cambioDetalle=t.cambioDetalle,this.detalle.copiarDetalle(t.detalle)},t}()},"./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/documentoConceptoNotaDebito.ts":function(t,o,e){"use strict";var a=e("./src/app/facturacion-electronica/general/models/comprobantes/documentoConceptoGeneral.ts");e.d(o,"a",function(){return r});var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])};return function(o,e){function a(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}}(),r=function(t){function o(){var o=t.call(this)||this;return o.idConcepto="",o.codigoConcepto="",o.descripcionConcepto="",o.importe="0.00",o}return i(o,t),o}(a.a)},"./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/documentoParametroNotaDebito.ts":function(t,o,e){"use strict";var a=e("./src/app/facturacion-electronica/general/models/comprobantes/documentoParametroGeneral.ts");e.d(o,"a",function(){return r});var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])};return function(o,e){function a(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}}(),r=function(t){function o(){var o=t.call(this)||this;return o.idParametro="",o.descripcionParametro="",o.json="",o}return i(o,t),o}(a.a)},"./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/documentoReferenciaNotaDebito.ts":function(t,o,e){"use strict";var a=e("./src/app/facturacion-electronica/general/models/comprobantes/documentoReferenciaGeneral.ts");e.d(o,"a",function(){return r});var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])};return function(o,e){function a(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}}(),r=function(t){function o(){var o=t.call(this)||this;return o.idDocumentoDestino="",o.tipoDocumentoOrigen="",o.tipoDocumentoDestino="",o.serieDocumentoDestino="",o.correlativoDocumentoDestino="",o.fechaEmisionDestino=0,o.totalImporteDestino="0.00",o.totalImporteAuxiliarDestino="0.00",o.totalPorcentajeAuxiliarDestino="0.00",o.tipoDocumentoOrigenDescripcion="",o.tipoDocumentoDestinoDescripcion="",o.monedaDestino="",o.totalMonedaDestino="0.00",o.auxiliar1="",o.auxiliar2="",o}return i(o,t),o}(a.a)},"./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/entidadNotaDebito.ts":function(t,o,e){"use strict";var a=e("./src/app/facturacion-electronica/general/models/organizacion/entidadGeneral.ts");e.d(o,"a",function(){return r});var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])};return function(o,e){function a(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(a.prototype=e.prototype,new a)}}(),r=function(t){function o(){var o=t.call(this)||this;return o.idTipoEntidad="",o.descripcionTipoEntidad="",o.idEntidad="",o.tipoDocumento="",o.documento="",o.denominacion="",o.nombreComercial="",o.direccionFiscal="",o.ubigeo="",o.correo="",o.notifica="",o}return i(o,t),o}(a.a)},"./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/jsonDocumentoParametroNotaDebito.ts":function(t,o,e){"use strict";e.d(o,"a",function(){return a});var a=function(){function t(){this.tipo=0,this.valor="",this.auxiliarEntero=0,this.auxiliarCaracter="",this.auxiliarFecha="",this.auxiliarImporte=0}return t}()},"./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/notaDebito.ts":function(t,o,e){"use strict";e.d(o,"a",function(){return a});var a=function(){function t(){this.numeroComprobante="",this.rucProveedor="",this.rucComprador="",this.idTablaTipoComprobante="",this.idRegistroTipoComprobante="",this.idTipoComprobante="",this.razonSocialProveedor="",this.razonSocialComprador="",this.moneda="",this.fechaEmision=0,this.observacionComprobante="",this.tipoComprobante="",this.montoPagado="",this.igv="",this.isc="",this.otrosTributos="",this.descuento="",this.importeReferencial="",this.subtotalComprobante="",this.totalComprobante="",this.tipoItem="",this.idTablaMoneda="",this.idRegistroMoneda="",this.usuarioCreacion="",this.usuarioModificacion="",this.idSerie="",this.motivoComprobante="",this.detalleEbiz=new Array,this.documentoEntidad=new Array,this.documentoConcepto=new Array,this.documentoParametro=new Array,this.documentoReferencia=new Array}return t}()},"./src/app/facturacion-electronica/comprobantes/nota-debito/nota-debito.component.css":function(t,o,e){o=t.exports=e("./node_modules/css-loader/lib/css-base.js")(!1),o.push([t.i,".navbar.navbar-info{margin:0 15px 15px}",""]),t.exports=t.exports.toString()},"./src/app/facturacion-electronica/comprobantes/nota-debito/nota-debito.component.html":function(t,o){t.exports='<div class="card">\r\n  <div class="card-header card-header-text" data-background-color="blue">\r\n    <h4 class="card-title">{{titulo | translate}}</h4>\r\n  </div>\r\n  <div class="card-content">\r\n    <form [formGroup]="notaDeDebitoFormGroup" (ngSubmit)="vistaPrevia()" autocomplete="off">\r\n      <div class="row">\r\n        <div class="col-md-3">\r\n          <div class="form-group label-floating">\r\n            <label class="control-label">{{\'tipoComprobante\' | translate}}<span class="star">*</span></label>\r\n            <select id="cmbTipoComprobante"\r\n                    name="cmbTipoComprobante"\r\n                    formControlName="cmbTipoComprobante"\r\n                    class="form-control"\r\n                    (change)="cambioTipoComprobante()">\r\n              <option *ngFor="let tipoComprobante of tiposDeComprobantes | async" [value]="tipoComprobante.codigo">\r\n                {{tipoComprobante.descripcionLarga | translate}}\r\n              </option>\r\n            </select>\r\n            <div class="row" *ngIf="!notaDeDebitoFormGroup.get(\'cmbTipoComprobante\').valid && notaDeDebitoFormGroup.get(\'cmbTipoComprobante\').touched">\r\n              <div class="col-md-12">\r\n                <span *ngIf="notaDeDebitoFormGroup.get(\'cmbTipoComprobante\').hasError(\'required\')"\r\n                      class="text-danger">{{\'campoRequerido\' | translate}}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="col-md-3">\r\n          <div class="form-group label-floating">\r\n            <label id="lblCodigo" class="control-label">{{\'numeroComprobanteDescripcionLarga\' | translate}}<span class="star">*</span></label>\r\n            <input  ng2-auto-complete\r\n                    type="text"\r\n                    id="txtNumeroComprobante"\r\n                    formControlName="txtNumeroComprobante"\r\n                    [source]="listarProductosDeAutcompletado.bind(this)"\r\n                    [list-formatter]="formatoDeListaAutocompletado"\r\n                    [value-formatter] = "formatoDeValorAutocompletado"\r\n                    [no-match-found-text] = "\'noSeEncontraronResultados\' | translate"\r\n\r\n                    open-on-focus = true\r\n                    close-on-focus = true\r\n                    auto-select-first-item = false\r\n                    min-chars = 1\r\n                    [loading-text] = "\'cargando\' | translate"\r\n\r\n                    (valueChanged)="cambioLaSeleccionDelComprobante($event)"\r\n                    (change)="cambioLaBusquedaDeAutocompleteDeComprobante()"\r\n                    mayusculaDirectiva\r\n                    class="form-control">\r\n            <div class="row" *ngIf="!notaDeDebitoFormGroup.get(\'txtNumeroComprobante\').valid && notaDeDebitoFormGroup.get(\'txtNumeroComprobante\').touched">\r\n              <div class="col-md-12">\r\n                <span *ngIf="notaDeDebitoFormGroup.get(\'txtNumeroComprobante\').hasError(\'required\')"\r\n                      class="text-danger">{{\'campoRequerido\' | translate}}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="col-md-3">\r\n          <div class="form-group">\r\n            <button id="btnVisualizar" type="button" class="btn btn-xs btn-default"\r\n                    (click)="visualizarComprobanteReferencia()"\r\n                    [disabled]="!(escogioUnComprobante | async)">\r\n              <span class="btn-label ">\r\n                  <i class="material-icons">visibility</i>\r\n              </span>\r\n              {{\'verComprobante\' | translate}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div class="col-md-3">\r\n          <div class="form-group label-floating">\r\n            <label class="control-label">{{\'serie\' | translate}}<span class="star">*</span></label>\r\n            <select id="cmbSerie"\r\n                    name="cmbSerie"\r\n                    formControlName="cmbSerie"\r\n                    class="form-control">\r\n              <option [value]="-1" disabled>{{\'seleccionaUnaSerie\' | translate}}</option>\r\n              <option *ngFor="let serie of series | async" [value]="serie.idSerie">\r\n                {{serie.serie}}\r\n              </option>\r\n            </select>\r\n            <div class="row" *ngIf="!notaDeDebitoFormGroup.get(\'cmbSerie\').valid && notaDeDebitoFormGroup.get(\'cmbSerie\').touched">\r\n              <div class="col-md-12">\r\n                <span *ngIf="notaDeDebitoFormGroup.get(\'cmbSerie\').hasError(\'required\')"\r\n                      class="text-danger">{{\'campoRequerido\' | translate}}\r\n                </span>\r\n                <span *ngIf="notaDeDebitoFormGroup.get(\'cmbSerie\').hasError(\'seleccionaUnaSerie\')"\r\n                      class="text-danger">{{\'seleccionaUnaSerie\' | translate}}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="row">\r\n        <div class="col-md-3">\r\n          <div class="form-group label-floating">\r\n            <label class="control-label">{{\'tipoNotaDebito\' | translate}}<span class="star">*</span></label>\r\n            <select id="cmbTipoNotaDebito"\r\n                    name="cmbTipoNotaDebito"\r\n                    formControlName="cmbTipoNotaDebito"\r\n                    class="form-control"\r\n                    (change)="cambioTipoNotaDebito()">\r\n              <option disabled [value]="-1">{{\'seleccionaUnTipoDeNotaDeDebito\' | translate}}</option>\r\n              <option *ngFor="let tipoDeNotaDeDebito of tiposDeNotasDeDebito | async" [value]="tipoDeNotaDeDebito.codigo_dominio">\r\n                {{tipoDeNotaDeDebito.descripcion_dominio | translate}}\r\n              </option>\r\n            </select>\r\n            <div class="row" *ngIf="!notaDeDebitoFormGroup.get(\'cmbTipoNotaDebito\').valid && notaDeDebitoFormGroup.get(\'cmbTipoNotaDebito\').touched">\r\n              <div class="col-md-12">\r\n                  <span *ngIf="notaDeDebitoFormGroup.get(\'cmbTipoNotaDebito\').hasError(\'required\')"\r\n                        class="text-danger">{{\'campoRequerido\' | translate}}\r\n                  </span>\r\n                <span *ngIf="notaDeDebitoFormGroup.get(\'cmbTipoNotaDebito\').hasError(\'seleccionaUnTipoDeNotaDeDebito\')"\r\n                      class="text-danger">{{\'seleccionaUnTipoDeNotaDeDebito\' | translate}}\r\n                  </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="col-md-3">\r\n          <div class="form-group label-floating">\r\n            <label class="control-label">{{\'documento\' | translate}}</label>\r\n            <input type="text" class="form-control"\r\n                   id="txtDocumento"\r\n                   formControlName="txtDocumento">\r\n          </div>\r\n        </div>\r\n        <div class="col-md-6">\r\n          <div class="form-group label-floating">\r\n            <label class="control-label">{{\'razonSocial\' | translate}}</label>\r\n            <input type="text" class="form-control"\r\n                   id="txtRazonSocial"\r\n                   formControlName="txtRazonSocial">\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="row">\r\n        <div class="col-md-12">\r\n          <div class="form-group label-floating">\r\n            <label id="lblMotivo" class="control-label">{{\'motivoNotaDeDebito\' | translate}}<span class="star">*</span></label>\r\n            <textarea class="form-control" type="text" formControlName="txtMotivoNotaDebito" rows="3"></textarea>\r\n            <div class="row" *ngIf="!notaDeDebitoFormGroup.get(\'txtMotivoNotaDebito\').valid && notaDeDebitoFormGroup.get(\'txtMotivoNotaDebito\').touched">\r\n              <div class="col-md-12">\r\n                <span *ngIf="notaDeDebitoFormGroup.get(\'txtMotivoNotaDebito\').hasError(\'maxlength\')"\r\n                      class="text-danger">{{\'maximoCaracteres\' | translate: {digito: 250} }}\r\n                </span>\r\n                <span *ngIf="notaDeDebitoFormGroup.get(\'txtMotivoNotaDebito\').hasError(\'required\')"\r\n                      class="text-danger">{{\'campoRequerido\' | translate}}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <ng-container [ngSwitch]="habilitarPorTipoDeNotaDeDebito">\r\n        <ng-container *ngSwitchCase="TiposVistasNotaDebito.NORMAL">\r\n          <app-tipo-nota-debito-normal\r\n            #tipoVistaNormalNotaDebito\r\n            [padreFormGroup] = "notaDeDebitoFormGroup"\r\n            [nombreControl] = "controlNameVistaNormal"\r\n          >\r\n          </app-tipo-nota-debito-normal>\r\n        </ng-container>\r\n        <ng-container *ngSwitchCase="TiposVistasNotaDebito.TABLA">\r\n          <div class="card">\r\n            <div class="card-header card-header-icon" data-background-color="blue">\r\n              <i class="material-icons">list</i>\r\n            </div>\r\n            <div class="row"><h3>{{\'listaItems\' | translate}}</h3></div>\r\n            <div class="row"><p>&nbsp;</p></div>\r\n            <nav class="navbar navbar-info" role="navigation"></nav>\r\n            <div class="card-content">\r\n              <app-tipo-nota-debito-datatable\r\n                #tipoVistaTablaNotaDebito\r\n                (estaValidadoNotaDebitoDataTable)="estaValidadoNotaDebitoDataTable($event)"\r\n                (seInicio)="seInicioDataTable($event)"\r\n              >\r\n              </app-tipo-nota-debito-datatable>\r\n            </div>\r\n          </div>\r\n        </ng-container>\r\n      </ng-container>\r\n\r\n      <div class="row">\r\n        <div class="col-md-12">\r\n          <div class="label-floating">\r\n            <label class="control-label">{{\'observaciones\' | translate}}</label>\r\n            <textarea id="txtObservacion" name="txtObservacion" formControlName="txtObservacionesNotaDebito" class="form-control" rows="3"></textarea>\r\n            <div class="row" *ngIf="!notaDeDebitoFormGroup.get(\'txtObservacionesNotaDebito\').valid && notaDeDebitoFormGroup.get(\'txtObservacionesNotaDebito\').touched">\r\n              <div class="col-md-12">\r\n                <span *ngIf="notaDeDebitoFormGroup.get(\'txtObservacionesNotaDebito\').hasError(\'maxlength\')"\r\n                      class="text-danger">{{\'maximoCaracteres\' | translate: {digito: 250} }}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="row pull-right">\r\n        <button id="btnVistaPrevia" type="submit" class="btn btn-default"\r\n                [disabled]="!(notaDeDebitoFormGroup.valid && esValidadoDataTableNotaDebito)">\r\n          {{\'vistaPrevia\' | translate}}\r\n        </button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n'},"./src/app/facturacion-electronica/comprobantes/nota-debito/nota-debito.component.ts":function(t,o,e){"use strict";var a=e("./node_modules/@angular/core/@angular/core.es5.js"),i=e("./node_modules/@angular/forms/@angular/forms.es5.js"),r=e("./src/app/facturacion-electronica/general/services/comprobantes/comprobantes.service.ts"),n=e("./src/app/facturacion-electronica/general/services/configuracionDocumento/parametros.service.ts"),s=e("./src/app/facturacion-electronica/general/services/documento/tablaMaestra.service.ts"),c=e("./src/app/facturacion-electronica/general/utils/estilos.services.ts"),l=e("./node_modules/@angular/router/@angular/router.es5.js"),d=e("./src/app/facturacion-electronica/general/utils/tipos.service.ts"),p=e("./src/app/facturacion-electronica/general/services/archivos/archivo.service.ts"),u=e("./src/app/facturacion-electronica/general/services/configuracionDocumento/series.service.ts"),b=e("./src/app/facturacion-electronica/general/models/documento/tablaMaestra.ts"),m=e("./node_modules/rxjs/BehaviorSubject.js"),v=(e.n(m),e("./node_modules/rxjs/Observable.js")),f=(e.n(v),e("./src/app/facturacion-electronica/general/services/documento/conceptoDocumento.service.ts")),h=e("./src/app/facturacion-electronica/comprobantes/nota-debito/utils/tipos-vistas-nota-debito.ts"),D=e("./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/notaDebito.ts"),g=e("./src/app/facturacion-electronica/comprobantes/nota-debito/servicios/nota-debito-service.ts"),I=e("./src/app/facturacion-electronica/general/services/utils/validadorPersonalizado.ts");e.d(o,"a",function(){return x});var C=this&&this.__decorate||function(t,o,e,a){var i,r=arguments.length,n=r<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,o,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(n=(r<3?i(n):r>3?i(o,e,n):i(o,e))||n);return r>3&&n&&Object.defineProperty(o,e,n),n},_=this&&this.__metadata||function(t,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,o)},x=function(){function t(t,o,e,a,i,r,n,s,c,l,d){this._comprobantesService=t,this._tablaMaestraService=o,this._tiposService=e,this._parametrosServicie=a,this._archivoService=i,this._seriesService=r,this.router=n,this.route=s,this._estilosService=c,this._conceptoDocumentoService=l,this._notaDebitoService=d,this.titulo="notaDebito",this.TiposVistasNotaDebito=h.a,this.tiposVistasDeNotaDebito=h.a}return t.prototype.ngOnInit=function(){this._notaDebitoService.pasoAVistaPrevia.next(!1),this.inicializarVariables(),this.cargarSeries(),this.iniciarNotaDeDebitoFormGroup(),this.cargarTiposDeComprobantes(),this.cargarDatosNotaDebitoPersistencia()},t.prototype.ngOnDestroy=function(){},t.prototype.inicializarVariables=function(){this.escogioUnComprobante=new m.BehaviorSubject(!1),this.habilitarPorTipoDeNotaDeDebito=-1,this.esValidadoDataTableNotaDebito=!0,this.controlNameVistaNormal="vistaNormal",this.controlNameVistaDataTable="vistaDataTable",this.notaDebito=new D.a,this.todosTiposDeNotasDeDebito=this._parametrosServicie.obtenerParametrosPorId(this._tiposService.PARAMETRO_TIPO_NOTA_DEBITO_ELECTRONICA),this.todosTipoConceptos=this._conceptoDocumentoService.obtenerTodosConceptosDocumentos();var t=[this._tiposService.CONCEPTO_OPERACION_GRAVADA_CODIGO,this._tiposService.CONCEPTO_OPERACION_INAFECTAS_CODIGO,this._tiposService.CONCEPTO_OPERACION_EXONERADO_CODIGO,this._tiposService.CONCEPTO_OPERACION_GRATUITA_CODIGO,this._tiposService.CONCEPTO_OPERACION_SUB_TOTAL_VENTA_CODIGO,this._tiposService.CONCEPTO_OPERACION_TOTAL_DESCUENTOS_CODIGO];this.tiposConceptos=this._conceptoDocumentoService.obtenerPorCodigos(this.todosTipoConceptos,t),this.todosTiposMonedas=this._tablaMaestraService.obtenerPorIdTabla(b.c),this.todosTiposUnidades=this._tablaMaestraService.obtenerPorIdTabla(b.d)},t.prototype.cargarSeries=function(){this.todasSeries=this._seriesService.filtroSeries(localStorage.getItem("id_entidad"),this._tiposService.TIPO_DOCUMENTO_NOTA_DEBITO,this._tiposService.TIPO_SERIE_ONLINE.toString())},t.prototype.filtrarSeries=function(t){var o=this;void 0===t&&(t=!1);var e=this.notaDeDebitoFormGroup.controls.cmbTipoComprobante.value;this.notaDeDebitoFormGroup.controls.cmbSerie.reset("-1"),this.notaDeDebitoFormGroup.controls.cmbSerie.enable(),this.notaDeDebitoFormGroup.controls.cmbSerie.markAsTouched(),this._estilosService.eliminarEstiloInput("cmbSerie","is-empty"),this.series=this._seriesService.filtrarSeriesPorIdTipoComprobante(this.todasSeries,e),t&&this.series.subscribe(function(t){if(t.length>0){var e=t.find(function(t){return t.serie===o.notaDebito.numeroComprobante});o.notaDeDebitoFormGroup.controls.cmbSerie.setValue(e.idSerie)}})},t.prototype.cargarDatosNotaDebitoPersistencia=function(){this._notaDebitoService.estaUsandoPersistencia.value&&(this.notaDebito=this._notaDebitoService.notaDebito.value,this.cargarCabecera(),this.cargarDocumentoReferencia(),this.cargarDocumentoParametro(),this._notaDebitoService.eliminarNotaDebitoPersistencia())},t.prototype.cargarDocumentoReferencia=function(){void 0!==this.notaDebito.documentoReferencia[0]&&(this.notaDeDebitoFormGroup.controls.cmbTipoComprobante.setValue(this.notaDebito.documentoReferencia[0].tipoDocumentoDestino),this.filtrarSeries(!0),this.notaDeDebitoFormGroup.controls.txtNumeroComprobante.setValue(this.notaDebito.documentoReferencia[0].serieDocumentoDestino+"-"+this.notaDebito.documentoReferencia[0].correlativoDocumentoDestino),this.escogioUnComprobante.next(!0),this._estilosService.eliminarEstiloInputAutocomplete("txtNumeroComprobante","is-empty"),this._estilosService.eliminarEstiloInput("cmbTipoComprobante","is-empty"),this.notaDeDebitoFormGroup.controls.txtNumeroComprobante.enable())},t.prototype.cargarDocumentoParametro=function(){void 0!==this.notaDebito.documentoParametro[0]&&this.cargarTiposDeNotasDeDebito(!0)},t.prototype.cargarCabecera=function(){this.notaDeDebitoFormGroup.controls.txtMotivoNotaDebito.setValue(this.notaDebito.motivoComprobante),this.notaDeDebitoFormGroup.controls.txtObservacionesNotaDebito.setValue(this.notaDebito.observacionComprobante),this.notaDeDebitoFormGroup.controls.txtDocumento.setValue(this.notaDebito.rucComprador),this.notaDeDebitoFormGroup.controls.txtRazonSocial.setValue(this.notaDebito.razonSocialComprador),this._estilosService.eliminarEstiloInput("txtMotivoNotaDebito","is-empty"),this._estilosService.eliminarEstiloInput("txtObservacionesNotaDebito","is-empty"),this._estilosService.eliminarEstiloInput("txtDocumento","is-empty"),this._estilosService.eliminarEstiloInput("txtRazonSocial","is-empty")},t.prototype.cargarTiposDeNotasDeDebito=function(t){var o=this;void 0===t&&(t=!1);var e=[];switch(this.notaDeDebitoFormGroup.get("cmbTipoComprobante").value){case this._tiposService.TIPO_DOCUMENTO_FACTURA:case this._tiposService.TIPO_DOCUMENTO_BOLETA:e=[this._tiposService.TIPO_NOTA_DEBITO_INTERES_POR_MORA,this._tiposService.TIPO_NOTA_DEBITO_AUMENTO_EN_EL_VALOR]}this.notaDeDebitoFormGroup.controls.cmbTipoNotaDebito.reset("-1"),this._estilosService.eliminarEstiloInput("cmbTipoNotaDebito","is-empty"),this.escogioUnComprobante.subscribe(function(a){if(a){if(o.tiposDeNotasDeDebito=o._parametrosServicie.obtenerPorCodigoDeTipoDeComprobante(o.todosTiposDeNotasDeDebito,e),o.notaDeDebitoFormGroup.get("cmbTipoNotaDebito").enable(),o.notaDeDebitoFormGroup.controls.cmbTipoNotaDebito.enable(),o.notaDeDebitoFormGroup.controls.cmbTipoNotaDebito.markAsTouched(),t&&void 0!==o.notaDebito.documentoParametro[0]){var i=JSON.parse(o.notaDebito.documentoParametro[0].json);o.tiposDeNotasDeDebito.subscribe(function(t){t.length>0&&(o.notaDeDebitoFormGroup.controls.cmbTipoNotaDebito.setValue(i.auxiliarCaracter),o.cambioTipoNotaDebito())})}}else o.notaDeDebitoFormGroup.get("cmbTipoNotaDebito").disable()})},t.prototype.cargarTiposDeComprobantes=function(){this.todosTiposComprobantes=this._tablaMaestraService.obtenerPorIdTabla(b.a);var t=[this._tiposService.TIPO_DOCUMENTO_FACTURA,this._tiposService.TIPO_DOCUMENTO_BOLETA];this.tiposDeComprobantes=this._tablaMaestraService.obtenerPorCodigoDeTablaMaestra(this.todosTiposComprobantes,t)},t.prototype.iniciarNotaDeDebitoFormGroup=function(){this.notaDeDebitoFormGroup=new i.FormGroup({cmbSerie:new i.FormControl({value:"",disabled:!0},[i.Validators.required,I.a.validarSelectForm("seleccionaUnaSerie")]),cmbTipoComprobante:new i.FormControl("",[i.Validators.required]),txtNumeroComprobante:new i.FormControl({value:"",disabled:!0},[i.Validators.required]),cmbTipoNotaDebito:new i.FormControl({value:"",disabled:!0},[i.Validators.required,I.a.validarSelectForm("seleccionaUnTipoDeNotaDeDebito")]),txtMotivoNotaDebito:new i.FormControl("",[i.Validators.required,i.Validators.maxLength(250)]),txtObservacionesNotaDebito:new i.FormControl("",[i.Validators.maxLength(250)]),txtDocumento:new i.FormControl({value:"",disabled:!0},[i.Validators.required]),txtRazonSocial:new i.FormControl({value:"",disabled:!0},[i.Validators.required])})},t.prototype.formatoDeListaAutocompletado=function(t){return t.vcSerie+"-"+t.vcCorrelativo},t.prototype.formatoDeValorAutocompletado=function(t){return t.vcSerie+"-"+t.vcCorrelativo},t.prototype.cambioLaSeleccionDelComprobante=function(t){void 0!==t&&(this.escogioUnComprobante.next(!0),this._notaDebitoService.buscarComprobanteReferencia(t.inIdcomprobantepago,this.todosTiposUnidades),this.notaDeDebitoFormGroup.get("txtDocumento").setValue(t.entidadcompradora.vcDocumento),this.notaDeDebitoFormGroup.get("txtRazonSocial").setValue(t.entidadcompradora.vcDenominacion),this._estilosService.eliminarEstiloInput("txtDocumento","is-empty"),this._estilosService.eliminarEstiloInput("txtRazonSocial","is-empty"))},t.prototype.visualizarComprobanteReferencia=function(){this._archivoService.retornarArchivoRetencionPercepcionbase(this.notaDeDebitoFormGroup.get("txtNumeroComprobante").value.inIdcomprobantepago).subscribe(function(t){if(t){var o='<embed width=100% height=100% type="application/pdf" src="data:application/pdf;base64,'+t+'"> </embed>';window.open("","PDF","dependent = yes, locationbar = no, menubar = yes, resizable, screenX = 50, screenY = 50, width = 800, height = 800").document.write(o)}})},t.prototype.cambioLaBusquedaDeAutocompleteDeComprobante=function(){"object"==typeof this.notaDeDebitoFormGroup.get("txtNumeroComprobante").value?this.escogioUnComprobante.next(!0):(this.limpiar(),this.escogioUnComprobante.next(!1),this._notaDebitoService.comprobanteReferencia.next(null))},t.prototype.limpiar=function(){this.notaDeDebitoFormGroup.get("txtDocumento").reset(),this.notaDeDebitoFormGroup.get("txtRazonSocial").reset(),this._estilosService.agregarEstiloInput("txtDocumento","is-empty"),this._estilosService.agregarEstiloInput("txtRazonSocial","is-empty"),this.notaDebito=new D.a},t.prototype.cambioTipoNotaDebito=function(){var t=this.notaDeDebitoFormGroup.get("cmbTipoNotaDebito").value;switch(this._notaDebitoService.ponerTipoNotaDebito(t),t){case this._tiposService.TIPO_NOTA_DEBITO_INTERES_POR_MORA:this.cargarInteresPorMora();break;case this._tiposService.TIPO_NOTA_DEBITO_AUMENTO_EN_EL_VALOR:this.cargarAumentoValor()}},t.prototype.cargarInteresPorMora=function(){this.habilitarPorTipoDeNotaDeDebito=this.tiposVistasDeNotaDebito.NORMAL},t.prototype.cargarAumentoValor=function(){this.habilitarPorTipoDeNotaDeDebito=this.tiposVistasDeNotaDebito.TABLA},t.prototype.listarProductosDeAutcompletado=function(t){if(!t)return v.Observable.of([]);var o=this.notaDeDebitoFormGroup.get("cmbTipoComprobante").value;return null!=o?this._comprobantesService.buscarParaAutoComplete(o,t.toUpperCase()):void 0},t.prototype.cambioTipoComprobante=function(){this.notaDeDebitoFormGroup.get("txtDocumento").reset(),this.notaDeDebitoFormGroup.get("txtRazonSocial").reset(),this.notaDeDebitoFormGroup.get("txtNumeroComprobante").reset(),this._estilosService.agregarEstiloInput("txtDocumento","is-empty"),this._estilosService.agregarEstiloInput("txtRazonSocial","is-empty"),this._estilosService.agregarEstiloInputAutocomplete("txtNumeroComprobante","is-empty"),this.habilitarPorTipoDeNotaDeDebito=-1,this.escogioUnComprobante.next(!1),this.cargarTiposDeNotasDeDebito(),this.filtrarSeries(),this.notaDeDebitoFormGroup.get("txtNumeroComprobante").enable()},t.prototype.vistaPrevia=function(){this._notaDebitoService.notaDebito.value.motivoComprobante=this.notaDeDebitoFormGroup.controls.txtMotivoNotaDebito.value,this._notaDebitoService.notaDebito.value.observacionComprobante=this.notaDeDebitoFormGroup.controls.txtObservacionesNotaDebito.value,this._notaDebitoService.setDatosPersistencia(this.tiposConceptos,this.tiposDeNotasDeDebito,this.notaDeDebitoFormGroup.controls.cmbTipoNotaDebito.value,this.series,this.notaDeDebitoFormGroup.controls.cmbSerie.value,this.notaDeDebitoFormGroup.controls.txtMotivoNotaDebito.value,this.notaDeDebitoFormGroup.controls.txtObservacionesNotaDebito.value),this._notaDebitoService.pasoAVistaPrevia.next(!0),this.router.navigate(["./vistaPrevia"],{relativeTo:this.route})},t.prototype.estaValidadoNotaDebitoDataTable=function(t){this.esValidadoDataTableNotaDebito=t},t.prototype.seInicioDataTable=function(t){t||(this.esValidadoDataTableNotaDebito=!0)},t}();x=C([e.i(a.Component)({selector:"app-nota-debito",template:e("./src/app/facturacion-electronica/comprobantes/nota-debito/nota-debito.component.html"),styles:[e("./src/app/facturacion-electronica/comprobantes/nota-debito/nota-debito.component.css")]}),_("design:paramtypes",["function"==typeof(T=void 0!==r.a&&r.a)&&T||Object,"function"==typeof(N=void 0!==s.a&&s.a)&&N||Object,"function"==typeof(O=void 0!==d.a&&d.a)&&O||Object,"function"==typeof(y=void 0!==n.a&&n.a)&&y||Object,"function"==typeof(S=void 0!==p.a&&p.a)&&S||Object,"function"==typeof(P=void 0!==u.a&&u.a)&&P||Object,"function"==typeof(E=void 0!==l.c&&l.c)&&E||Object,"function"==typeof(F=void 0!==l.b&&l.b)&&F||Object,"function"==typeof(R=void 0!==c.a&&c.a)&&R||Object,"function"==typeof(V=void 0!==f.a&&f.a)&&V||Object,"function"==typeof(G=void 0!==g.a&&g.a)&&G||Object])],x);var T,N,O,y,S,P,E,F,R,V,G},"./src/app/facturacion-electronica/comprobantes/nota-debito/nota-debito.module.ts":function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var a=e("./node_modules/@angular/core/@angular/core.es5.js"),i=e("./node_modules/@angular/common/@angular/common.es5.js"),r=e("./node_modules/@ngx-translate/core/index.js"),n=e("./src/app/facturacion-electronica/general/services/comprobantes/comprobantes.service.ts"),s=e("./src/app/facturacion-electronica/general/services/configuracionDocumento/parametros.service.ts"),c=e("./src/app/facturacion-electronica/general/services/utils/persistenciaDatos.service.ts"),l=e("./src/app/facturacion-electronica/general/services/documento/tablaMaestra.service.ts"),d=e("./src/app/facturacion-electronica/general/services/servidores.ts"),p=e("./src/app/facturacion-electronica/general/utils/estilos.services.ts"),u=e("./src/app/facturacion-electronica/general/utils/tipos.service.ts"),b=e("./src/app/facturacion-electronica/general/services/archivos/archivo.service.ts"),m=e("./src/app/facturacion-electronica/general/services/configuracionDocumento/series.service.ts"),v=e("./node_modules/ng2-auto-complete/dist/index.js"),f=(e.n(v),e("./node_modules/@angular/forms/@angular/forms.es5.js")),h=e("./src/app/facturacion-electronica/general/services/documento/conceptoDocumento.service.ts"),D=e("./src/app/facturacion-electronica/comprobantes/nota-debito/servicios/nota-debito-service.ts"),g=e("./src/app/facturacion-electronica/comprobantes/nota-debito/nota-debito.component.ts"),I=e("./src/app/facturacion-electronica/comprobantes/nota-debito/vista-previa-nota-debito/vista-previa-nota-debito.module.ts"),C=e("./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-datatable/tipo-nota-debito-datatable.module.ts"),_=e("./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-normal/tipo-nota-debito-normal.module.ts"),x=e("./src/app/facturacion-electronica/comprobantes/nota-debito/nota-debito.routing.module.ts"),T=e("./src/app/facturacion-electronica/general/directivas/directivas.module.ts");e.d(o,"NotaDebitoModule",function(){return O});var N=this&&this.__decorate||function(t,o,e,a){var i,r=arguments.length,n=r<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,o,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(n=(r<3?i(n):r>3?i(o,e,n):i(o,e))||n);return r>3&&n&&Object.defineProperty(o,e,n),n},O=function(){function t(){}return t}();O=N([e.i(a.NgModule)({imports:[i.CommonModule,f.ReactiveFormsModule,x.a,r.a,v.Ng2AutoCompleteModule,_.a,C.a,I.a,T.a],declarations:[g.a],providers:[n.a,d.a,l.a,u.a,s.a,b.a,c.a,m.a,p.a,h.a,D.a]})],O)},"./src/app/facturacion-electronica/comprobantes/nota-debito/nota-debito.routing.module.ts":function(t,o,e){"use strict";var a=e("./node_modules/@angular/core/@angular/core.es5.js"),i=e("./node_modules/@angular/router/@angular/router.es5.js"),r=e("./src/app/facturacion-electronica/general/emision-comprobante/emision-comprobante.component.ts"),n=e("./src/app/facturacion-electronica/comprobantes/nota-debito/vista-previa-nota-debito/vista-previa-nota-debito.component.ts"),s=e("./src/app/facturacion-electronica/comprobantes/nota-debito/nota-debito.component.ts");e.d(o,"a",function(){return d});var c=this&&this.__decorate||function(t,o,e,a){var i,r=arguments.length,n=r<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,o,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(n=(r<3?i(n):r>3?i(o,e,n):i(o,e))||n);return r>3&&n&&Object.defineProperty(o,e,n),n},l=[{path:"",children:[{path:"",pathMatch:"full",redirectTo:"crear"},{path:"crear",component:s.a,data:{codigo:"08",mostrarCombo:!0}},{path:"crear/vistaPrevia",component:n.a,data:{codigo:"08",mostrarCombo:!1,titulo:"notaDebito"}},{path:"emision/:id",component:r.a,data:{codigo:"08",mostrarCombo:!0,titulo:"emisionNotaDebito"}}]}],d=function(){function t(){}return t}();d=c([e.i(a.NgModule)({imports:[i.a.forChild(l)],exports:[i.a]})],d)},"./src/app/facturacion-electronica/comprobantes/nota-debito/servicios/nota-debito-service.ts":function(t,o,e){"use strict";var a=e("./node_modules/@angular/core/@angular/core.es5.js"),i=e("./node_modules/rxjs/BehaviorSubject.js"),r=(e.n(i),e("./src/app/facturacion-electronica/general/services/comprobantes/comprobantes.service.ts")),n=e("./node_modules/rxjs/Subscription.js"),s=(e.n(n),e("./src/app/facturacion-electronica/general/services/documento/tablaMaestra.service.ts")),c=e("./src/app/facturacion-electronica/general/utils/tipos.service.ts"),l=e("./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/detalleNotaDebito.ts"),d=e("./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/notaDebito.ts"),p=e("./src/app/facturacion-electronica/general/services/utils/persistenciaDatos.service.ts"),u=e("./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/detalleDetalleNotaDebito.ts"),b=e("./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/entidadNotaDebito.ts"),m=e("./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/documentoConceptoNotaDebito.ts"),v=e("./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/documentoParametroNotaDebito.ts"),f=e("./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/documentoReferenciaNotaDebito.ts"),h=e("./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/jsonDocumentoParametroNotaDebito.ts"),D=e("./src/app/service/spinner.service.ts"),g=e("./src/app/facturacion-electronica/general/pipes/precio.pipe.ts");e.d(o,"a",function(){return _});var I=this&&this.__decorate||function(t,o,e,a){var i,r=arguments.length,n=r<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,o,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(n=(r<3?i(n):r>3?i(o,e,n):i(o,e))||n);return r>3&&n&&Object.defineProperty(o,e,n),n},C=this&&this.__metadata||function(t,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,o)},_=function(){function t(t,o,e,a,r,s){this._comprobanteService=t,this._tablaMaestraService=o,this._notaDebitoPersistenciaService=e,this._tiposService=a,this._spinnerService=r,this._precioPipe=s,this.tipoNotaDebito=new i.BehaviorSubject(""),this.detalleModificadoLista=new i.BehaviorSubject([]),this.detalleOriginalLista=[],this.comprobanteReferencia=new i.BehaviorSubject(null),this.comprobanteReferenciaSubscription=new n.Subscription,this.notaDebito=new i.BehaviorSubject(new d.a),this.pasoAVistaPrevia=new i.BehaviorSubject(!1),this.estaUsandoPersistencia=new i.BehaviorSubject(!1),this._notaDebitoPersistenciaService.nombrePersistencia="notaDebitoPersistencia",this.padreFormGroup=new i.BehaviorSubject(null)}return t.prototype.ngOnDestroy=function(){this.comprobanteReferenciaSubscription.unsubscribe()},t.prototype.buscarComprobanteReferencia=function(t,o){var e=this;this._spinnerService.set(!0),this.comprobanteReferenciaSubscription=this._comprobanteService.buscarPorUuid(t).subscribe(function(t){null!==t&&(e.cargarDetalleDecomprobanteReferencia(t,o),e._spinnerService.set(!1),e.comprobanteReferencia.next(t))})},t.prototype.obtenerDetallePersistencia=function(){var t=this._notaDebitoPersistenciaService.obtener();return null!==t?t.detalleEbiz:null},t.prototype.obtenerNotaDebitoPersistencia=function(){var t=this._notaDebitoPersistenciaService.obtener();return null!==t?t:(this.estaUsandoPersistencia.next(!1),null)},t.prototype.eliminarNotaDebitoPersistencia=function(){this._notaDebitoPersistenciaService.eliminar()},t.prototype.cargarDetalleDecomprobanteReferencia=function(t,o){for(var e=[],a=[],i=this,r=0,n=t.detalle;r<n.length;r++){var s=n[r];!function(t){var r=new l.a;r.codigoItem=i._precioPipe.transform(t.vcCodigoProducto),r.cantidad=i._precioPipe.transform(t.deCantidaddespachada),r.codigoUnidadMedida=t.vcUnidadmedida,r.descripcionItem=t.vcDescripcionitem;var n=new u.a;n.idTipoIgv=t.inItipoAfectacionigv,n.codigoTipoIgv=t.inCodigoAfectacionigv,n.descripcionTipoIgv=t.vcDescAfectacionigv,n.idTipoIsc=t.inItipoCalculoisc,n.codigoTipoIsc=t.inCodigoCalculoisc,n.descripcionTipoIsc=t.vcDescCalculoisc,n.idTipoPrecio=t.inItipoPrecioventa,n.codigoTipoPrecio=t.inCodigoPrecioventa,n.descripcionTipoPrecio=t.vcDescPrecioventa,n.idProducto=t.inIproducto,n.numeroItem=i._precioPipe.transform(t.deCantidaddespachada),n.precioUnitarioVenta=i._precioPipe.transform(t.dePreciounitarioitem),n.subtotalIsc=i._precioPipe.transform(t.nuSubtotalIsc),n.subtotalVenta=i._precioPipe.transform(t.dePreciototalitem),n.subtotalIgv=i._precioPipe.transform(t.nuSubtotalIgv),n.unidadMedida=t.vcUnidadmedida,n.descuento=i._precioPipe.transform(t.nuDescuento.toString()),r.detalle=n,r.montoImpuesto=i._precioPipe.transform(t.deMontoimpuesto),r.posicion=i._precioPipe.transform(t.vcPosicion),r.precioTotal=i._precioPipe.transform(t.dePreciototalitem),r.precioUnitario=i._precioPipe.transform(t.dePreciounitarioitem),i._tablaMaestraService.obtenerPorAtributoDeTablaMaestra(o,[t.producto.chUniMedida],"iso").take(1).subscribe(function(t){1===t.length&&(r.idRegistroUnidad=t[0].codigo,r.idTablaUnidad=t[0].tabla.toString())}),e.push(r),a.push(r.copiar())}(s)}this.ponerDetalle(e),this.detalleOriginalLista=a},t.prototype.ponerTipoNotaDebito=function(t){this.tipoNotaDebito.next(t)},t.prototype.ponerDetalle=function(t){this.detalleModificadoLista.next(t)},t.prototype.obtenerDetalleOriginal=function(){return this.detalleOriginalLista},t.prototype.setDatosPersistencia=function(t,o,e,a,i,r,n){var s=this;this.notaDebito.next(new d.a),this.setDetallePersistencia(),this.setEntidadPersistencia(),this.setDocumentoParametro(o,e),this.setDocumentoReferencia(),this.setCabeceraPersistencia(a,i,r,n),this.setDocumentoConcepto(t),this.pasoAVistaPrevia.subscribe(function(t){t&&(s._notaDebitoPersistenciaService.agregar(s.notaDebito.value),s.estaUsandoPersistencia.next(!0),s.pasoAVistaPrevia.next(!1))})},t.prototype.setDetallePersistencia=function(){},t.prototype.setEntidadPersistencia=function(){if(null!==this.comprobanteReferencia.value){var t=new b.a,o=new b.a;t.idTipoEntidad="1",t.descripcionTipoEntidad="Emisor",t.idEntidad=this.comprobanteReferencia.value.entidadproveedora.seIentidad,t.tipoDocumento=this.comprobanteReferencia.value.entidadproveedora.vcTipoDocumento,t.denominacion=this.comprobanteReferencia.value.entidadproveedora.vcDenominacion,t.direccionFiscal=this.comprobanteReferencia.value.entidadproveedora.vcDirFiscal,t.documento=this.comprobanteReferencia.value.entidadproveedora.vcDocumento,t.nombreComercial=this.comprobanteReferencia.value.entidadproveedora.vcNomComercia,t.notifica="N",t.ubigeo=this.comprobanteReferencia.value.entidadproveedora.vcUbigeo,t.correo=this.comprobanteReferencia.value.entidadproveedora.vcCorreo,o.idTipoEntidad="2",o.descripcionTipoEntidad="Receptor",o.idEntidad=this.comprobanteReferencia.value.entidadcompradora.seIentidad,o.tipoDocumento=this.comprobanteReferencia.value.entidadcompradora.vcTipoDocumento,o.denominacion=this.comprobanteReferencia.value.entidadcompradora.vcDenominacion,o.direccionFiscal=this.comprobanteReferencia.value.entidadcompradora.vcDirFiscal,o.documento=this.comprobanteReferencia.value.entidadcompradora.vcDocumento,o.nombreComercial=this.comprobanteReferencia.value.entidadcompradora.vcNomComercia,o.notifica="S",o.ubigeo=this.comprobanteReferencia.value.entidadcompradora.vcUbigeo,o.correo=this.comprobanteReferencia.value.entidadcompradora.vcCorreo,this.notaDebito.value.documentoEntidad.push(t),this.notaDebito.value.documentoEntidad.push(o)}},t.prototype.setDocumentoConcepto=function(t){var o=this,e=new m.a,a=new m.a,i=new m.a,r=new m.a,n=new m.a,s=new m.a;t.subscribe(function(t){for(var c=0,l=t;c<l.length;c++){var d=l[c];switch(d.codigo){case o._tiposService.CONCEPTO_OPERACION_GRAVADA_CODIGO:e.idConcepto=d.idConcepto,e.descripcionConcepto=d.descripcion,e.codigoConcepto=d.codigo;break;case o._tiposService.CONCEPTO_OPERACION_INAFECTAS_CODIGO:a.idConcepto=d.idConcepto,a.descripcionConcepto=d.descripcion,a.codigoConcepto=d.codigo;break;case o._tiposService.CONCEPTO_OPERACION_EXONERADO_CODIGO:i.idConcepto=d.idConcepto,i.descripcionConcepto=d.descripcion,i.codigoConcepto=d.codigo;break;case o._tiposService.CONCEPTO_OPERACION_GRATUITA_CODIGO:r.idConcepto=d.idConcepto,r.descripcionConcepto=d.descripcion,r.codigoConcepto=d.codigo;break;case o._tiposService.CONCEPTO_OPERACION_SUB_TOTAL_VENTA_CODIGO:n.idConcepto=d.idConcepto,n.descripcionConcepto=d.descripcion,n.codigoConcepto=d.codigo;break;case o._tiposService.CONCEPTO_OPERACION_TOTAL_DESCUENTOS_CODIGO:s.idConcepto=d.idConcepto,s.descripcionConcepto=d.descripcion,s.codigoConcepto=d.codigo}}o.notaDebito.value.documentoConcepto.push(e),o.notaDebito.value.documentoConcepto.push(a),o.notaDebito.value.documentoConcepto.push(i),o.notaDebito.value.documentoConcepto.push(r),o.notaDebito.value.documentoConcepto.push(n),o.notaDebito.value.documentoConcepto.push(s)})},t.prototype.setDocumentoParametro=function(t,o){var e=this;t.subscribe(function(t){var a=t.find(function(t){return t.codigo_dominio===o}),i=new v.a;i.idParametro=a.idparametro.toString(),i.descripcionParametro=a.parametro_descripcion;var r=new h.a;r.tipo=3,r.valor=a.descripcion_dominio,r.auxiliarCaracter=a.codigo_dominio,i.json=JSON.stringify(r),e.notaDebito.value.documentoParametro.push(i)})},t.prototype.setDocumentoReferencia=function(){var t=new f.a;if(t.tipoDocumentoOrigen=this._tiposService.TIPO_DOCUMENTO_NOTA_DEBITO,t.tipoDocumentoOrigenDescripcion=this._tiposService.TIPO_DOCUMENTO_NOTA_DEBITO_NOMBRE,null!==this.comprobanteReferencia.value){t.idDocumentoDestino=this.comprobanteReferencia.value.inIdcomprobantepago,t.tipoDocumentoDestino=this.comprobanteReferencia.value.vcIdregistrotipocomprobante,t.correlativoDocumentoDestino=this.comprobanteReferencia.value.vcCorrelativo,t.serieDocumentoDestino=this.comprobanteReferencia.value.vcSerie,t.fechaEmisionDestino=this.comprobanteReferencia.value.tsFechaemision,t.totalImporteDestino=Number(this.comprobanteReferencia.value.deTotalcomprobantepago).toFixed(2);for(var o=0,e=0,a=this.comprobanteReferencia.value.detalle;e<a.length;e++){o+=a[e].nuSubtotalIgv}t.totalImporteAuxiliarDestino=Number(o).toFixed(2),t.monedaDestino=this.comprobanteReferencia.value.chMonedacomprobantepago.toString(),t.tipoDocumentoDestinoDescripcion=this.comprobanteReferencia.value.vcTipocomprobante,t.totalMonedaDestino=this.comprobanteReferencia.value.deTotalcomprobantepago,t.totalPorcentajeAuxiliarDestino=Number(0).toFixed(2)}this.notaDebito.value.documentoReferencia.push(t)},t.prototype.setCabeceraPersistencia=function(t,o,e,a){var i=this;t.subscribe(function(t){if(t.length>0){var e=t.find(function(t){return t.idSerie===Number(o)});null!=e&&(i.notaDebito.value.numeroComprobante=e.serie)}}),null!=this.comprobanteReferencia.value&&(this.notaDebito.value.rucProveedor=this.comprobanteReferencia.value.entidadproveedora.vcDocumento,this.notaDebito.value.razonSocialProveedor=this.comprobanteReferencia.value.entidadproveedora.vcDenominacion,this.notaDebito.value.idTablaMoneda=this.comprobanteReferencia.value.vcIdtablamoneda,this.notaDebito.value.idRegistroMoneda=this.comprobanteReferencia.value.vcIdregistromoneda,this.notaDebito.value.idTablaTipoComprobante=this.comprobanteReferencia.value.vcIdtablatipocomprobante,this.notaDebito.value.moneda=this.comprobanteReferencia.value.chMonedacomprobantepago.toString(),this.notaDebito.value.rucComprador=this.comprobanteReferencia.value.entidadcompradora.vcDocumento,this.notaDebito.value.razonSocialComprador=this.comprobanteReferencia.value.entidadcompradora.vcDenominacion),this.notaDebito.value.idRegistroTipoComprobante=this._tiposService.TIPO_DOCUMENTO_NOTA_DEBITO,this.notaDebito.value.idTipoComprobante=this._tiposService.TIPO_DOCUMENTO_NOTA_DEBITO,this.notaDebito.value.tipoComprobante=this._tiposService.TIPO_DOCUMENTO_NOTA_DEBITO,this.notaDebito.value.observacionComprobante=a,this.notaDebito.value.tipoComprobante=this._tiposService.TIPO_DOCUMENTO_NOTA_DEBITO_NOMBRE,this.notaDebito.value.motivoComprobante=e,this.notaDebito.value.usuarioCreacion=localStorage.getItem("username"),this.notaDebito.value.usuarioModificacion=localStorage.getItem("username"),this.notaDebito.value.idSerie=o},t.prototype.setCabeceraNormal=function(t){this.notaDebito.value.montoPagado=Number(t.montoPagado).toFixed(2),this.notaDebito.value.igv=Number(t.igv).toFixed(2),this.notaDebito.value.isc=Number(t.isc).toFixed(2),this.notaDebito.value.descuento=Number(t.descuentos).toFixed(2),this.notaDebito.value.totalComprobante=Number(t.total).toFixed(2),this.notaDebito.value.subtotalComprobante=Number(t.subTotal).toFixed(2),this.notaDebito.value.importeReferencial=Number(t.importeReferencial).toFixed(2),this.notaDebito.value.otrosTributos=Number(t.otrosTributos).toFixed(2)},t.prototype.setDetalleNormal=function(t){this.notaDebito.value.detalleEbiz=null!==t?[t]:this.detalleModificadoLista.value},t.prototype.setCabeceraDataTable=function(t){t?this.ponerValoresEnCabecera(0,0,0,0,0,0,0,0):this.reCalcularTotalesDeDetalle()},t.prototype.ponerValoresEnCabecera=function(t,o,e,a,i,r,n,s){this.notaDebito.value.montoPagado=Number(t).toFixed(2),this.notaDebito.value.igv=Number(o).toFixed(2),this.notaDebito.value.isc=Number(e).toFixed(2),this.notaDebito.value.otrosTributos=Number(a).toFixed(2),this.notaDebito.value.importeReferencial=Number(i).toFixed(2),this.notaDebito.value.subtotalComprobante=Number(r).toFixed(2),this.notaDebito.value.totalComprobante=Number(s).toFixed(2),this.notaDebito.value.descuento=Number(n).toFixed(2)},t.prototype.reCalcularTotalesDeDetalle=function(){for(var t=0,o=0,e=0,a=0,i=0,r=0,n=0,s=0,c=this.notaDebito.value.detalleEbiz;s<c.length;s++){var l=c[s];t+=Number(l.precioTotal),o+=Number(l.detalle.subtotalIgv),e+=Number(l.detalle.subtotalIsc),a+=Number(l.montoImpuesto),i+=Number(l.detalle.subtotalVenta),r+=Number(l.precioTotal),n+=Number(l.detalle.descuento)}this.ponerValoresEnCabecera(t,o,e,0,a,i,n,r)},t.prototype.setDetalleDataTable=function(t){this.notaDebito.value.detalleEbiz=t},t}();_=I([e.i(a.Injectable)(),C("design:paramtypes",["function"==typeof(x=void 0!==r.a&&r.a)&&x||Object,"function"==typeof(T=void 0!==s.a&&s.a)&&T||Object,"function"==typeof(N=void 0!==p.a&&p.a)&&N||Object,"function"==typeof(O=void 0!==c.a&&c.a)&&O||Object,"function"==typeof(y=void 0!==D.a&&D.a)&&y||Object,"function"==typeof(S=void 0!==g.a&&g.a)&&S||Object])],_);var x,T,N,O,y,S},"./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-datatable/tipo-nota-debito-datatable.component.css":function(t,o,e){o=t.exports=e("./node_modules/css-loader/lib/css-base.js")(!1),o.push([t.i,"",""]),t.exports=t.exports.toString()},"./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-datatable/tipo-nota-debito-datatable.component.html":function(t,o){t.exports='<div class="row">\r\n  <div class="col-md-12">\r\n    <app-data-table\r\n      #tablaDetalle\r\n      [idTabla]="\'tablaDetalle\'"\r\n      [cabecera]="cabecera"\r\n      [atributos]="atributos"\r\n      [ordenarPorElCampo]="ordenarPorElCampo"\r\n      [nombreIdDelItem]="nombreIdDelItem"\r\n\r\n      [acciones]="acciones"\r\n      [tipoAccion]="tipoAccion"\r\n      [habilitarAcciones]="true"\r\n      (iniciarData)="iniciarData($event)"\r\n      (accion)="ejecutarAccion($event)"\r\n      [pintarFilas]="pintarFilas"\r\n      [nombreCampoParaPintarFilas]="nombreCampoParaPintarFilas"\r\n    >\r\n    </app-data-table>\r\n  </div>\r\n</div>\r\n<app-tipo-nota-debito-editar-item\r\n  #editarItemComponent\r\n  [idModal]="idModal"\r\n>\r\n</app-tipo-nota-debito-editar-item>\r\n'},"./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-datatable/tipo-nota-debito-datatable.component.ts":function(t,o,e){"use strict";var a=e("./node_modules/@angular/core/@angular/core.es5.js"),i=e("./src/app/facturacion-electronica/general/data-table/utils/accion.ts"),r=e("./src/app/facturacion-electronica/general/utils/tipos.service.ts"),n=e("./src/app/facturacion-electronica/general/data-table/utils/modo-vista-accion.ts"),s=e("./src/app/facturacion-electronica/general/data-table/utils/tipo-accion.ts"),c=e("./src/app/facturacion-electronica/general/data-table/data-table.component.ts"),l=e("./src/app/facturacion-electronica/comprobantes/nota-debito/servicios/nota-debito-service.ts"),d=e("./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-editar-item/tipo-nota-debito-editar-item.component.ts");e.d(o,"a",function(){return b});var p=this&&this.__decorate||function(t,o,e,a){var i,r=arguments.length,n=r<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,o,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(n=(r<3?i(n):r>3?i(o,e,n):i(o,e))||n);return r>3&&n&&Object.defineProperty(o,e,n),n},u=this&&this.__metadata||function(t,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,o)},b=function(){function t(t,o){this._tiposService=t,this._notaDebitoService=o,this.estaValidadoNotaDebitoDataTable=new a.EventEmitter,this.seInicio=new a.EventEmitter,this.idModal="modal",this.cabecera=["cantidad","codigo","descripcion","unidadMedida","valorUnitario","igv","isc","descuento","valorVenta"],this.atributos=["cantidad","codigoItem","descripcionItem","detalle.unidadMedida","precioUnitario","detalle.subtotalIgv","detalle.subtotalIsc","detalle.descuento","precioTotal"],this.ordenarPorElCampo="codigoItem",this.acciones=[new i.a("editar",new i.b("edit","btn-info"),s.a.EDITAR),new i.a("limpiar",new i.b("clear","btn-info"),s.a.LIMPIAR)],this.pintarFilas=!0,this.nombreCampoParaPintarFilas="cambioDetalle",this.nombreIdDelItem="posicion",this.tipoAccion=n.a.ICONOS,this.detalleLista=[]}return t.prototype.ngOnInit=function(){var t=this;this.seInicio.next(!0),this.pasoAVistaPreviaSubscription=this._notaDebitoService.pasoAVistaPrevia.subscribe(function(o){o&&(t.enviarDetalle(),t.enviarCabecera())})},t.prototype.ngDoCheck=function(){this.estaValidadoDataTable()},t.prototype.ngOnDestroy=function(){this.seInicio.next(!1),this.tipoNotaDebitoSubscription.unsubscribe(),this.detalleListaSubscription.unsubscribe(),this.estaUsandoPersistenciaSubscription.unsubscribe()},t.prototype.iniciarData=function(t){var o=this;this.tipoNotaDebitoSubscription=this._notaDebitoService.tipoNotaDebito.subscribe(function(t){o.tipoNotaDebito=t,o.tablaDetalle.insertarData(o._notaDebitoService.obtenerDetalleOriginal())}),this.detalleListaSubscription=this._notaDebitoService.detalleModificadoLista.subscribe(function(t){o.detalleLista=t,o.estaUsandoPersistenciaSubscription=o._notaDebitoService.estaUsandoPersistencia.subscribe(function(t){if(t){var e=o._notaDebitoService.obtenerDetallePersistencia();if(null!==e)for(var a=0,i=e;a<i.length;a++){var r=i[a];!function(t){var e=o.detalleLista.findIndex(function(o){return o.posicion===t.posicion});-1!==e&&(o.detalleLista[e]=t)}(r)}}}),o.tablaDetalle.insertarData(o.detalleLista)})},t.prototype.enviarDetalle=function(){this.filtrarDetallesModificados(),this._notaDebitoService.setDetalleDataTable(this.detalleLista)},t.prototype.enviarCabecera=function(){var t=!1;this.tipoNotaDebito===this._tiposService.TIPO_NOTA_DEBITO_AUMENTO_EN_EL_VALOR&&(t=!0),this._notaDebitoService.setCabeceraDataTable(t)},t.prototype.filtrarDetallesModificados=function(){this.detalleLista=this.detalleLista.filter(function(t){return t.cambioDetalle})},t.prototype.ejecutarAccion=function(t){var o=this,e=t[0];switch(this.itemAEditar=t[1],e){case s.a.EDITAR:this.abrirEditarModal();break;case s.a.LIMPIAR:var a=this._notaDebitoService.obtenerDetalleOriginal().find(function(t){return t.posicion===o.itemAEditar.posicion});this.itemAEditar.copiarDetalle(a)}},t.prototype.estaValidadoDataTable=function(){for(var t=0,o=this.detalleLista;t<o.length;t++){if(o[t].cambioDetalle)return void this.estaValidadoNotaDebitoDataTable.next(!0)}this.estaValidadoNotaDebitoDataTable.next(!1)},t.prototype.abrirEditarModal=function(){this.editarItemComponent.llenarDatosItem(this.itemAEditar),this.editarItemComponent.abrirModal()},t}();p([e.i(a.ViewChild)("tablaDetalle"),u("design:type","function"==typeof(m=void 0!==c.a&&c.a)&&m||Object)],b.prototype,"tablaDetalle",void 0),p([e.i(a.ViewChild)("editarItemComponent"),u("design:type","function"==typeof(v=void 0!==d.a&&d.a)&&v||Object)],b.prototype,"editarItemComponent",void 0),p([e.i(a.Output)(),u("design:type",Object)],b.prototype,"estaValidadoNotaDebitoDataTable",void 0),p([e.i(a.Output)(),u("design:type",Object)],b.prototype,"seInicio",void 0),b=p([e.i(a.Component)({selector:"app-tipo-nota-debito-datatable",template:e("./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-datatable/tipo-nota-debito-datatable.component.html"),styles:[e("./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-datatable/tipo-nota-debito-datatable.component.css")]}),u("design:paramtypes",["function"==typeof(f=void 0!==r.a&&r.a)&&f||Object,"function"==typeof(h=void 0!==l.a&&l.a)&&h||Object])],b);var m,v,f,h},"./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-datatable/tipo-nota-debito-datatable.module.ts":function(t,o,e){"use strict";var a=e("./node_modules/@angular/core/@angular/core.es5.js"),i=e("./node_modules/@angular/common/@angular/common.es5.js"),r=e("./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-datatable/tipo-nota-debito-datatable.component.ts"),n=e("./node_modules/@ngx-translate/core/index.js"),s=e("./src/app/facturacion-electronica/general/data-table/data-table.module.ts"),c=e("./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-editar-item/tipo-nota-debito-editar-item.module.ts");e.d(o,"a",function(){return d});var l=this&&this.__decorate||function(t,o,e,a){var i,r=arguments.length,n=r<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,o,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(n=(r<3?i(n):r>3?i(o,e,n):i(o,e))||n);return r>3&&n&&Object.defineProperty(o,e,n),n},d=function(){function t(){}return t}();d=l([e.i(a.NgModule)({imports:[i.CommonModule,n.a,s.a,c.a],declarations:[r.a],exports:[r.a],providers:[]})],d)},"./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-editar-item/tipo-nota-debito-editar-item.component.css":function(t,o,e){o=t.exports=e("./node_modules/css-loader/lib/css-base.js")(!1),o.push([t.i,"",""]),t.exports=t.exports.toString()},"./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-editar-item/tipo-nota-debito-editar-item.component.html":function(t,o){t.exports='<div class="modal fade" #modalEditar [id]="idModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n  <div class="modal-dialog">\r\n    <div class="modal-content">\r\n      <div class="modal-header">\r\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="material-icons">clear</i></button>\r\n        <div class="row">\r\n          <div class="col-md-4">\r\n            <h5 class="modal-title" id="myModalLabel">{{\'editarItem\' | translate}}</h5>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <form [formGroup]="editarItemFormGroup" autocomplete="off">\r\n        <div class="modal-body">\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="form-group label-floating">\r\n                <label id="lblCantidad" class="control-label">{{\'cantidad\' | translate}}</label>\r\n                <input class="form-control" id="txtCantidad" formControlName="txtCantidad" type="text" precioDirectiva>\r\n                <div class="row" *ngIf="!editarItemFormGroup.get(\'txtCantidad\').valid">\r\n                  <div class="col-md-12">\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtCantidad\').hasError(\'maxlength\')"\r\n                          class="text-danger">{{\'maximoCaracteres\' | translate: {digito: tamanioTxtCantidad} }}\r\n                    </span>\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtCantidad\').hasError(\'required\')"\r\n                          class="text-danger">{{\'campoRequerido\' | translate}}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="form-group label-floating">\r\n                <label id="lblCodigo" class="control-label">{{\'codigo\' | translate}}</label>\r\n                <input class="form-control" id="txtCodigo" formControlName="txtCodigo" type="text">\r\n                <div class="row" *ngIf="!editarItemFormGroup.get(\'txtCodigo\').valid">\r\n                  <div class="col-md-12">\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtCodigo\').hasError(\'maxlength\')"\r\n                          class="text-danger">{{\'maximoCaracteres\' | translate: {digito: tamanioTxtCodigo} }}\r\n                    </span>\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtCodigo\').hasError(\'required\')"\r\n                          class="text-danger">{{\'campoRequerido\' | translate}}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="form-group label-floating">\r\n                <label id="lblDescripcion" class="control-label">{{\'descripcion\' | translate}}</label>\r\n                <textarea class="form-control" id="txtDescripcion" formControlName="txtDescripcion" type="text" rows="3"></textarea>\r\n                <div class="row" *ngIf="!editarItemFormGroup.get(\'txtDescripcion\').valid">\r\n                  <div class="col-md-12">\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtDescripcion\').hasError(\'maxlength\')"\r\n                          class="text-danger">{{\'maximoCaracteres\' | translate: {digito: tamanioTxtDescripcion} }}\r\n                    </span>\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtDescripcion\').hasError(\'required\')"\r\n                          class="text-danger">{{\'campoRequerido\' | translate}}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="form-group label-floating">\r\n                <label id="lblUnidadMedida" class="control-label">{{\'unidadMedida\' | translate}}</label>\r\n                <input class="form-control" id="txtUnidadMedida" formControlName="txtUnidadMedida" type="text">\r\n                <div class="row" *ngIf="!editarItemFormGroup.get(\'txtUnidadMedida\').valid">\r\n                  <div class="col-md-12">\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtUnidadMedida\').hasError(\'maxlength\')"\r\n                          class="text-danger">{{\'maximoCaracteres\' | translate: {digito: tamanioTxtUnidadMedida} }}\r\n                    </span>\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtUnidadMedida\').hasError(\'required\')"\r\n                          class="text-danger">{{\'campoRequerido\' | translate}}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="form-group label-floating">\r\n                <label id="lblValorUnitario" class="control-label">{{\'valorUnitario\' | translate}}</label>\r\n                <input class="form-control" id="txtValorUnitario" formControlName="txtValorUnitario" type="text" precioDirectiva>\r\n                <div class="row" *ngIf="!editarItemFormGroup.get(\'txtValorUnitario\').valid">\r\n                  <div class="col-md-12">\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtValorUnitario\').hasError(\'maxlength\')"\r\n                          class="text-danger">{{\'maximoCaracteres\' | translate: {digito: tamanioTxtValorUnitario} }}\r\n                    </span>\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtValorUnitario\').hasError(\'required\')"\r\n                          class="text-danger">{{\'campoRequerido\' | translate}}\r\n                    </span>\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtValorUnitario\').hasError(\'min\')"\r\n                          class="text-danger">{{\'deberiaSerMayorA\' | translate: {digito: \'0.00\'} }}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="form-group label-floating">\r\n                <label id="lblIgv" class="control-label">{{\'igv\' | translate}}</label>\r\n                <input class="form-control" id="txtIgv" formControlName="txtIgv" type="text" precioDirectiva>\r\n                <div class="row" *ngIf="!editarItemFormGroup.get(\'txtIgv\').valid">\r\n                  <div class="col-md-12">\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtIgv\').hasError(\'maxlength\')"\r\n                          class="text-danger">{{\'maximoCaracteres\' | translate: {digito: tamanioTxtIgv} }}\r\n                    </span>\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtIgv\').hasError(\'required\')"\r\n                          class="text-danger">{{\'campoRequerido\' | translate}}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="form-group label-floating">\r\n                <label id="lblIsc" class="control-label">{{\'isc\' | translate}}</label>\r\n                <input class="form-control" id="txtIsc" formControlName="txtIsc" type="text" precioDirectiva>\r\n                <div class="row" *ngIf="!editarItemFormGroup.get(\'txtIsc\').valid">\r\n                  <div class="col-md-12">\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtIsc\').hasError(\'maxlength\')"\r\n                          class="text-danger">{{\'maximoCaracteres\' | translate: {digito: tamanioTxtIsc} }}\r\n                    </span>\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtIsc\').hasError(\'required\')"\r\n                          class="text-danger">{{\'campoRequerido\' | translate}}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="form-group label-floating">\r\n                <label id="lblDescuento" class="control-label">{{\'descuento\' | translate}}</label>\r\n                <input class="form-control" id="txtDescuento" formControlName="txtDescuento" type="text" precioDirectiva>\r\n                <div class="row" *ngIf="!editarItemFormGroup.get(\'txtDescuento\').valid">\r\n                  <div class="col-md-12">\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtDescuento\').hasError(\'maxlength\')"\r\n                          class="text-danger">{{\'maximoCaracteres\' | translate: {digito: tamanioTxtDescuento} }}\r\n                    </span>\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtDescuento\').hasError(\'required\')"\r\n                          class="text-danger">{{\'campoRequerido\' | translate}}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div class="form-group label-floating">\r\n                <label id="lblValorVenta" class="control-label">{{\'valorVenta\' | translate}}</label>\r\n                <input class="form-control" id="txtValorVenta" formControlName="txtValorVenta" type="text" precioDirectiva>\r\n                <div class="row" *ngIf="!editarItemFormGroup.get(\'txtValorVenta\').valid">\r\n                  <div class="col-md-12">\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtValorVenta\').hasError(\'maxlength\')"\r\n                          class="text-danger">{{\'maximoCaracteres\' | translate: {digito: tamanioTxtValorVenta} }}\r\n                    </span>\r\n                    <span *ngIf="editarItemFormGroup.get(\'txtValorVenta\').hasError(\'required\')"\r\n                          class="text-danger">{{\'campoRequerido\' | translate}}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="modal-footer text-center">\r\n          <button type="submit" class="btn btn-default" data-dismiss="modal" [disabled]="!(editarItemFormGroup.valid)" (click)="guardarItem()">{{\'guardar\' | translate}}</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},"./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-editar-item/tipo-nota-debito-editar-item.component.ts":function(t,o,e){"use strict";var a=e("./node_modules/@angular/core/@angular/core.es5.js"),i=e("./src/app/facturacion-electronica/general/utils/estilos.services.ts"),r=e("./node_modules/@angular/forms/@angular/forms.es5.js"),n=e("./src/app/facturacion-electronica/general/utils/tipos.service.ts"),s=e("./src/app/facturacion-electronica/comprobantes/nota-debito/servicios/nota-debito-service.ts");e.d(o,"a",function(){return d});var c=this&&this.__decorate||function(t,o,e,a){var i,r=arguments.length,n=r<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,o,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(n=(r<3?i(n):r>3?i(o,e,n):i(o,e))||n);return r>3&&n&&Object.defineProperty(o,e,n),n},l=this&&this.__metadata||function(t,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,o)},d=function(){function t(t,o,e){this._estilosService=t,this._tiposService=o,this._notaDebitoService=e,this.iniciarTamanios()}return t.prototype.iniciarTamanios=function(){this.tamanioTxtCantidad=16,this.tamanioTxtCodigo=30,this.tamanioTxtDescripcion=250,this.tamanioTxtUnidadMedida=3,this.tamanioTxtValorUnitario=15,this.tamanioTxtIgv=15,this.tamanioTxtIsc=15,this.tamanioTxtDescuento=15,this.tamanioTxtValorVenta=15},t.prototype.iniciarFormGroup=function(){this.editarItemFormGroup=new r.FormGroup({txtCantidad:new r.FormControl({value:"",disabled:!0},[r.Validators.required,r.Validators.maxLength(this.tamanioTxtCantidad)]),txtCodigo:new r.FormControl({value:"",disabled:!0},[r.Validators.required,r.Validators.maxLength(this.tamanioTxtCodigo)]),txtDescripcion:new r.FormControl({value:"",disabled:!0},[r.Validators.required,r.Validators.maxLength(this.tamanioTxtDescripcion)]),txtUnidadMedida:new r.FormControl({value:"",disabled:!0},[r.Validators.required,r.Validators.maxLength(this.tamanioTxtUnidadMedida)]),txtValorUnitario:new r.FormControl({value:"",disabled:!0},[r.Validators.required,r.Validators.maxLength(this.tamanioTxtValorUnitario)]),txtIgv:new r.FormControl({value:"",disabled:!0},[r.Validators.required,r.Validators.maxLength(this.tamanioTxtIgv)]),txtIsc:new r.FormControl({value:"",disabled:!0},[r.Validators.required,r.Validators.maxLength(this.tamanioTxtIsc)]),txtDescuento:new r.FormControl({value:"",disabled:!0},[r.Validators.required,r.Validators.maxLength(this.tamanioTxtDescuento)]),txtValorVenta:new r.FormControl({value:"",disabled:!0},[r.Validators.required,r.Validators.maxLength(this.tamanioTxtValorVenta)])})},t.prototype.ngOnInit=function(){var t=this;this.detalleLista=this._notaDebitoService.obtenerDetalleOriginal(),this.tipoNotaDebitoSubscription=this._notaDebitoService.tipoNotaDebito.subscribe(function(o){t.tipoNotaDebito=o,t.iniciarFormGroup()})},t.prototype.ngOnDestroy=function(){this.tipoNotaDebitoSubscription.unsubscribe()},t.prototype.recalcularDetalleEbiz=function(t,o,e,a,i,r,n){var s=this;this.editarItemFormGroup.controls[t].valueChanges.subscribe(function(t){if(t&&s.editarItemFormGroup.valid){var c=Number(s.editarItemFormGroup.controls[o].value),l=Number(s.editarItemFormGroup.controls[e].value),d=Number(s.editarItemFormGroup.controls[i].value),p=c*l+d,u=.18*p,b=Number(s.editarItemFormGroup.controls[r].value),m=p+u-b;s.editarItemFormGroup.controls[a].setValue(Number(u).toFixed(2)),s.editarItemFormGroup.controls[n].setValue(Number(m).toFixed(2))}})},t.prototype.abrirModal=function(){$("#"+this.idModal).modal("show")},t.prototype.habilitarFormsControl=function(t,o){for(var e=0,a=o;e<a.length;e++){var i=a[e];this.editarItemFormGroup.controls[i].disable(),$("#"+i).parent().children("label").children("span").remove()}for(var r=0,n=t;r<n.length;r++){var s=n[r];this.editarItemFormGroup.controls[s].enable(),$("#"+s).parent().children("label").children("span").remove(),$("#"+s).parent().children("label").append("<span class='star'>*</span>")}},t.prototype.guardarItem=function(){this.detalleEbiz.cantidad=this.editarItemFormGroup.controls.txtCantidad.value,this.detalleEbiz.codigoItem=this.editarItemFormGroup.controls.txtCodigo.value,this.detalleEbiz.descripcionItem=this.editarItemFormGroup.controls.txtDescripcion.value,this.detalleEbiz.detalle.unidadMedida=this.editarItemFormGroup.controls.txtUnidadMedida.value,this.detalleEbiz.precioUnitario=this.editarItemFormGroup.controls.txtValorUnitario.value,this.detalleEbiz.detalle.subtotalIgv=this.editarItemFormGroup.controls.txtIgv.value,this.detalleEbiz.detalle.subtotalIsc=this.editarItemFormGroup.controls.txtIsc.value,this.detalleEbiz.detalle.descuento=this.editarItemFormGroup.controls.txtDescuento.value,this.detalleEbiz.precioTotal=this.editarItemFormGroup.controls.txtValorVenta.value,this.verificarSiCambioItem()},t.prototype.verificarSiCambioItem=function(){Number(this.detalleEbiz.cantidad)!==Number(this.detalleEbizSinModificar.cantidad)||Number(this.detalleEbiz.precioUnitario)!==Number(this.detalleEbizSinModificar.precioUnitario)||this.detalleEbiz.descripcionItem!==this.detalleEbizSinModificar.descripcionItem?this.detalleEbiz.cambioDetalle=!0:this.detalleEbiz.cambioDetalle=!1},t.prototype.llenarDatosItem=function(t){var o=this;this.detalleEbiz=t,this.detalleEbizSinModificar=this.detalleLista.find(function(t){return t.posicion===o.detalleEbiz.posicion}),this.verificartipoNotaDebito(),this.editarItemFormGroup.controls.txtCantidad.setValue(this.detalleEbiz.cantidad),this.editarItemFormGroup.controls.txtCodigo.setValue(this.detalleEbiz.codigoItem),this.editarItemFormGroup.controls.txtDescripcion.setValue(this.detalleEbiz.descripcionItem),this.editarItemFormGroup.controls.txtUnidadMedida.setValue(this.detalleEbiz.detalle.unidadMedida),this.editarItemFormGroup.controls.txtValorUnitario.setValue(this.detalleEbiz.precioUnitario),this.editarItemFormGroup.controls.txtIgv.setValue(this.detalleEbiz.detalle.subtotalIgv),this.editarItemFormGroup.controls.txtIsc.setValue(this.detalleEbiz.detalle.subtotalIsc),this.editarItemFormGroup.controls.txtDescuento.setValue(this.detalleEbiz.detalle.descuento),this.editarItemFormGroup.controls.txtValorVenta.setValue(this.detalleEbiz.precioTotal),this._estilosService.eliminarEstilosTodosTag("is-empty","input"),this._estilosService.eliminarEstilosTodosTag("is-empty","textarea")},t.prototype.verificartipoNotaDebito=function(){switch(this.editarItemFormGroup.get("txtValorUnitario").setValidators([r.Validators.required,r.Validators.maxLength(this.tamanioTxtValorUnitario),r.Validators.min(Number("0.01"))]),this.tipoNotaDebito){case this._tiposService.TIPO_NOTA_DEBITO_AUMENTO_EN_EL_VALOR:this.habilitarFormsControl(["txtValorUnitario"],["txtDescripcion","txtDescuento","txtCantidad","txtValorVenta"]),this.detalleEbiz.precioUnitario="0.00",this.recalcularDetalleEbiz("txtValorUnitario","txtCantidad","txtValorUnitario","txtIgv","txtIsc","txtDescuento","txtValorVenta")}},t}();c([e.i(a.Input)(),l("design:type",String)],d.prototype,"idModal",void 0),c([e.i(a.ViewChild)("modalEditar"),l("design:type","function"==typeof(p=void 0!==a.ElementRef&&a.ElementRef)&&p||Object)],d.prototype,"modalEditar",void 0),d=c([e.i(a.Component)({selector:"app-tipo-nota-debito-editar-item",template:e("./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-editar-item/tipo-nota-debito-editar-item.component.html"),styles:[e("./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-editar-item/tipo-nota-debito-editar-item.component.css")]}),l("design:paramtypes",["function"==typeof(u=void 0!==i.a&&i.a)&&u||Object,"function"==typeof(b=void 0!==n.a&&n.a)&&b||Object,"function"==typeof(m=void 0!==s.a&&s.a)&&m||Object])],d);var p,u,b,m},"./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-editar-item/tipo-nota-debito-editar-item.module.ts":function(t,o,e){"use strict";var a=e("./node_modules/@angular/core/@angular/core.es5.js"),i=e("./node_modules/@angular/common/@angular/common.es5.js"),r=e("./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-editar-item/tipo-nota-debito-editar-item.component.ts"),n=e("./node_modules/@ngx-translate/core/index.js"),s=e("./src/app/facturacion-electronica/general/directivas/directivas.module.ts"),c=e("./node_modules/@angular/forms/@angular/forms.es5.js");e.d(o,"a",function(){return d});var l=this&&this.__decorate||function(t,o,e,a){var i,r=arguments.length,n=r<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,o,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(n=(r<3?i(n):r>3?i(o,e,n):i(o,e))||n);return r>3&&n&&Object.defineProperty(o,e,n),n},d=function(){function t(){}return t}();d=l([e.i(a.NgModule)({imports:[i.CommonModule,n.a,c.ReactiveFormsModule,s.a],declarations:[r.a],exports:[r.a],providers:[]})],d)},"./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-normal/tipo-nota-debito-normal.component.css":function(t,o,e){o=t.exports=e("./node_modules/css-loader/lib/css-base.js")(!1),o.push([t.i,"",""]),t.exports=t.exports.toString()},"./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-normal/tipo-nota-debito-normal.component.html":function(t,o){t.exports='<form [formGroup]="notaDebitoNormalFormGroup" autocomplete="off">\r\n  <div class="row">\r\n    <div class="col-md-3">\r\n      <div class="form-group label-floating">\r\n        <label id="lblMontoInteresPorMora" class="control-label">\r\n          {{\'montoInteresPorMora\' | translate}}<span class="star">*</span>\r\n        </label>\r\n        <input class="form-control" id="txtMontoInteresPorMora" formControlName="txtMontoInteresPorMora" type="text" precioDirectiva>\r\n        <div class="row" *ngIf="!notaDebitoNormalFormGroup.valid">\r\n          <div class="col-md-12">\r\n            <span class="text-danger"\r\n                  *ngIf="notaDebitoNormalFormGroup.controls[\'txtMontoInteresPorMora\'].hasError(\'min\')">\r\n                {{\'deberiaSerMayorA\' | translate: {digito: \'0.00\'} }}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</form>\r\n'},"./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-normal/tipo-nota-debito-normal.component.ts":function(t,o,e){"use strict";var a=e("./node_modules/@angular/core/@angular/core.es5.js"),i=e("./src/app/facturacion-electronica/general/utils/estilos.services.ts"),r=e("./node_modules/@angular/forms/@angular/forms.es5.js"),n=e("./src/app/facturacion-electronica/general/utils/tipos.service.ts"),s=e("./src/app/facturacion-electronica/general/models/leyendaComprobante.ts"),c=e("./src/app/facturacion-electronica/comprobantes/nota-debito/servicios/nota-debito-service.ts"),l=e("./src/app/facturacion-electronica/comprobantes/nota-debito/modelos/detalleNotaDebito.ts");e.d(o,"a",function(){return u});var d=this&&this.__decorate||function(t,o,e,a){var i,r=arguments.length,n=r<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,o,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(n=(r<3?i(n):r>3?i(o,e,n):i(o,e))||n);return r>3&&n&&Object.defineProperty(o,e,n),n},p=this&&this.__metadata||function(t,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,o)},u=function(){function t(t,o,e){this._tiposService=t,this._estilosServices=o,this._notaDebitoService=e}return t.prototype.ngOnInit=function(){var t=this;this.iniciarFormGroup(),this.tipoNotaDebitoSubscription=this._notaDebitoService.tipoNotaDebito.subscribe(function(o){t.tipoNotaDebito=o,t.cargarDatosEnForm()}),this.pasoAVistaPreviaSubscription=this._notaDebitoService.pasoAVistaPrevia.subscribe(function(o){o&&(t._notaDebitoService.setCabeceraNormal(t.obtenerLeyenda()),t._notaDebitoService.setDetalleNormal(t.obtenerDetalle()))})},t.prototype.ngOnDestroy=function(){this.tipoNotaDebitoSubscription.unsubscribe(),this.pasoAVistaPreviaSubscription.unsubscribe(),this.estaUsandoPersistenciaSubscription.unsubscribe()},t.prototype.cargarDatosEnForm=function(){var t=this;this.estaUsandoPersistenciaSubscription=this._notaDebitoService.estaUsandoPersistencia.subscribe(function(o){o&&(t.notaDebitoNormalFormGroup.controls.txtMontoInteresPorMora.setValue(t._notaDebitoService.notaDebito.value.totalComprobante),t._estilosServices.eliminarEstiloInput("txtMontoInteresPorMora","is-empty"))})},t.prototype.obtenerLeyenda=function(){var t=new s.a,o=Number(this.notaDebitoNormalFormGroup.controls.txtMontoInteresPorMora.value).toFixed(2);return t.total=o,t.subTotal=o,t.montoPagado=o,t.importeReferencial=o,t},t.prototype.obtenerDetalle=function(){var t=new l.a,o=Number(this.notaDebitoNormalFormGroup.controls.txtMontoInteresPorMora.value).toFixed(2);return t.precioUnitario=o,t.precioTotal=o,t.descripcionItem=this._notaDebitoService.notaDebito.value.motivoComprobante,t},t.prototype.limpiar=function(){this.notaDebitoNormalFormGroup.controls.txtMontoInteresPorMora.setValue("0.00")},t.prototype.iniciarFormGroup=function(){this.notaDebitoNormalFormGroup=new r.FormGroup({txtMontoInteresPorMora:new r.FormControl({value:"0.00",disabled:!1},[r.Validators.required,r.Validators.min(.01)])}),this.padreFormGroup.addControl(this.nombreControl,this.notaDebitoNormalFormGroup)},t}();d([e.i(a.Input)("padreFormGroup"),p("design:type","function"==typeof(b=void 0!==r.FormGroup&&r.FormGroup)&&b||Object)],u.prototype,"padreFormGroup",void 0),d([e.i(a.Input)("nombreControl"),p("design:type",String)],u.prototype,"nombreControl",void 0),u=d([e.i(a.Component)({selector:"app-tipo-nota-debito-normal",template:e("./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-normal/tipo-nota-debito-normal.component.html"),styles:[e("./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-normal/tipo-nota-debito-normal.component.css")]}),p("design:paramtypes",["function"==typeof(m=void 0!==n.a&&n.a)&&m||Object,"function"==typeof(v=void 0!==i.a&&i.a)&&v||Object,"function"==typeof(f=void 0!==c.a&&c.a)&&f||Object])],u);var b,m,v,f},"./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-normal/tipo-nota-debito-normal.module.ts":function(t,o,e){"use strict";var a=e("./node_modules/@angular/core/@angular/core.es5.js"),i=e("./node_modules/@angular/common/@angular/common.es5.js"),r=e("./src/app/facturacion-electronica/comprobantes/nota-debito/tipo-nota-debito-normal/tipo-nota-debito-normal.component.ts"),n=e("./node_modules/@ngx-translate/core/index.js"),s=e("./src/app/facturacion-electronica/general/directivas/directivas.module.ts"),c=e("./node_modules/@angular/forms/@angular/forms.es5.js");e.d(o,"a",function(){return d});var l=this&&this.__decorate||function(t,o,e,a){var i,r=arguments.length,n=r<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,o,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(n=(r<3?i(n):r>3?i(o,e,n):i(o,e))||n);return r>3&&n&&Object.defineProperty(o,e,n),n},d=function(){function t(){}return t}();d=l([e.i(a.NgModule)({imports:[i.CommonModule,n.a,c.ReactiveFormsModule,s.a],declarations:[r.a],exports:[r.a],providers:[]})],d)},"./src/app/facturacion-electronica/comprobantes/nota-debito/utils/tipos-vistas-nota-debito.ts":function(t,o,e){"use strict";e.d(o,"a",function(){return a});var a;!function(t){t[t.NORMAL=0]="NORMAL",t[t.TABLA=1]="TABLA"}(a||(a={}))},"./src/app/facturacion-electronica/comprobantes/nota-debito/vista-previa-nota-debito/vista-previa-nota-debito.component.css":function(t,o,e){o=t.exports=e("./node_modules/css-loader/lib/css-base.js")(!1),o.push([t.i,"",""]),t.exports=t.exports.toString()},"./src/app/facturacion-electronica/comprobantes/nota-debito/vista-previa-nota-debito/vista-previa-nota-debito.component.html":function(t,o){t.exports='<div class="main-content">\r\n  <div class="container-fluid">\r\n    <div class="row col-md-12">\r\n      <div class="card">\r\n        <div class="card-header card-header-text" data-background-color="blue">\r\n          <h4 class="card-title">{{\'vistaPrevia\' | translate}}</h4>\r\n        </div>\r\n        <div class="card-content">\r\n          <div class="row">\r\n            <div class="col-md-4">\r\n              <label>\r\n                <h5>\r\n                  <b *ngIf="notaDebito.documentoEntidad[0]">{{notaDebito.documentoEntidad[0].denominacion}}</b>\r\n                </h5>\r\n              </label>\r\n            </div>\r\n            <div class="col-md-4 col-md-offset-4">\r\n              <div class="row">\r\n                <div class="col-md-4">\r\n                  <label>\r\n                    <h4>\r\n                      <b>{{\'ruc\' | translate}}:</b>\r\n                    </h4>\r\n                  </label>\r\n                </div>\r\n                <div class="col-md-8">\r\n                  <label>\r\n                    <h5 *ngIf="notaDebito.documentoEntidad[0]">{{notaDebito.documentoEntidad[0].documento}}</h5>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-4">\r\n              <label>\r\n                <h5>\r\n                  <b *ngIf="notaDebito.documentoEntidad[0]">{{notaDebito.documentoEntidad[0].direccionFiscal}}</b>\r\n                </h5>\r\n              </label>\r\n            </div>\r\n            <div class="col-md-4 col-md-offset-4">\r\n              <label>\r\n                <h3>\r\n                  <b>{{tituloComprobante | translate}}</b>\r\n                </h3>\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <br>\r\n          <div class="row">\r\n            <div class="col-md-4 col-md-offset-8">\r\n              <div class="row">\r\n                <div class="col-md-4">\r\n                  <label>\r\n                    <h3>\r\n                      <b>{{\'serie\' | translate}}:</b>\r\n                    </h3>\r\n                  </label>\r\n                </div>\r\n                <div class="col-md-8">\r\n                  <label>\r\n                    <h3>{{notaDebito.numeroComprobante}}</h3>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <br>\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <div class="row">\r\n                <div class="col-md-6">\r\n                  <label>\r\n                    <b>{{\'seniorSeniors\' | translate}}:</b>\r\n                  </label>\r\n                </div>\r\n                <div class="col-md-6">\r\n                  <label *ngIf="notaDebito.documentoEntidad[1]">{{notaDebito.documentoEntidad[1].denominacion}}</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-md-4 col-md-offset-2">\r\n              <div class="row">\r\n                <div class="col-md-6">\r\n                  <label>\r\n                    <b>{{\'tipoCambio\' | translate}}:</b>\r\n                  </label>\r\n                </div>\r\n                <div class="col-md-6">\r\n                  <label *ngIf="notaDebito.documentoReferencia[0]">{{notaDebito.documentoReferencia[0].auxiliar1}}</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <div class="row">\r\n                <div class="col-md-6">\r\n                  <label>\r\n                    <b>{{\'ruc\' | translate}}:</b>\r\n                  </label>\r\n                </div>\r\n                <div class="col-md-6">\r\n                  <label *ngIf="notaDebito.documentoEntidad[1]">{{notaDebito.documentoEntidad[1].documento}}</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-md-4 col-md-offset-2">\r\n              <div class="row">\r\n                <div class="col-md-6">\r\n                  <label>\r\n                    <b>{{\'banco\' | translate}}:</b>\r\n                  </label>\r\n                </div>\r\n                <div class="col-md-6">\r\n                  <label></label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <div class="row">\r\n                <div class="col-md-6">\r\n                  <label>\r\n                    <b>{{\'domicilioFiscal\' | translate}}:</b>\r\n                  </label>\r\n                </div>\r\n                <div class="col-md-6">\r\n                  <label *ngIf="notaDebito.documentoEntidad[1]">{{notaDebito.documentoEntidad[1].direccionFiscal}}</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class="col-md-4 col-md-offset-2">\r\n              <div class="row">\r\n                <div class="col-md-12">\r\n                  <label>{{tipoNotaComprobante | uppercase}}</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <div class="row">\r\n                <div class="col-md-6">\r\n                  <label>\r\n                    <b>{{\'fechaEmision\' | translate}}:</b>\r\n                  </label>\r\n                </div>\r\n                <div class="col-md-6">\r\n                  <label>{{formatoFechaEmision}}</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <div class="row">\r\n                <div class="col-md-6">\r\n                  <label>\r\n                    <b>{{\'tipoMoneda\' | translate}}:</b>\r\n                  </label>\r\n                </div>\r\n                <div class="col-md-6">\r\n                  <label>{{notaDebito.moneda}}</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-6">\r\n              <div class="row">\r\n                <div class="col-md-6">\r\n                  <label>\r\n                    <b>{{\'motivoSustento\' | translate}}:</b>\r\n                  </label>\r\n                </div>\r\n                <div class="col-md-6">\r\n                  <label>{{notaDebito.motivoComprobante}}</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <br>\r\n          <app-data-table\r\n            #tablaVistaPrevia\r\n            (iniciarData)="iniciarDataTable($event)"\r\n            [idTabla]="\'tablaVistaPrevia\'"\r\n            [cabecera]="cabecera"\r\n            [atributos]="atributos"\r\n            [ordenarPorElCampo]="ordenarPorElCampo"\r\n          ></app-data-table>\r\n          <br>\r\n          <br>\r\n          <div class="row">\r\n            <div class="col-md-2 col-md-offset-5">\r\n              <label>\r\n                <b>{{\'importeTotal\' | translate}}:</b>\r\n              </label>\r\n            </div>\r\n            <div class="col-md-5">\r\n              <label>{{notaDebito.totalComprobante}}</label>\r\n            </div>\r\n          </div>\r\n          <div class="row">\r\n            <div class="col-md-2 col-md-offset-5">\r\n              <label>\r\n                <b>{{\'montoEnLetras\' | translate}}:</b>\r\n              </label>\r\n            </div>\r\n            <div class="col-md-5">\r\n              <label>{{totalEnPalabras | uppercase}}</label>\r\n            </div>\r\n          </div>\r\n          <br>\r\n          <br>\r\n        </div>\r\n        <div class="row pull-right">\r\n          <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6 border">\r\n            <button name="btnregresar" type="button" class="btn btn-default btn-block" (click)="regresar()">\r\n              {{\'regresar\' | translate}}\r\n            </button>\r\n          </div>\r\n\r\n          <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6 border">\r\n            <button type="submit" class="btn btn-default btn-block" (click)="emitir()">\r\n              {{\'emitir\' | translate}}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},"./src/app/facturacion-electronica/comprobantes/nota-debito/vista-previa-nota-debito/vista-previa-nota-debito.component.ts":function(t,o,e){"use strict";var a=e("./node_modules/@angular/core/@angular/core.es5.js"),i=e("./node_modules/@angular/router/@angular/router.es5.js"),r=e("./src/app/facturacion-electronica/general/services/comprobantes/creacionComprobantes.ts"),n=e("./src/app/facturacion-electronica/general/data-table/data-table.component.ts"),s=e("./node_modules/written-number/lib/index.js"),c=(e.n(s),e("./src/app/facturacion-electronica/comprobantes/nota-debito/servicios/nota-debito-service.ts"));e.d(o,"a",function(){return p});var l=this&&this.__decorate||function(t,o,e,a){var i,r=arguments.length,n=r<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,o,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(n=(r<3?i(n):r>3?i(o,e,n):i(o,e))||n);return r>3&&n&&Object.defineProperty(o,e,n),n},d=this&&this.__metadata||function(t,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,o)},p=function(){function t(t,o,e,a){this.route=t,this._notaDebitoService=o,this.router=e,this._creacionComprobantes=a,this.notaDebito=this._notaDebitoService.obtenerNotaDebitoPersistencia(),this._notaDebitoService.estaUsandoPersistencia.value?(this.tituloComprobante="",this.cabecera=["cantidad","codigo","descripcion","unidadMedida","valorUnitario","igv","isc","descuento","valorVenta"],this.atributos=["cantidad","codigoItem","descripcionItem","detalle.unidadMedida","precioUnitario","detalle.subtotalIgv","detalle.subtotalIsc","detalle.descuento","precioTotal"],this.ordenarPorElCampo="codigoItem",this.fechaEmision=new Date,this.formatoFechaEmision=this.obtenerFecha(),this.leerParametrosUrl()):this.regresar()}return t.prototype.obtenerFecha=function(){var t=new Date,o=t.getDate(),e=t.getMonth()+1;return t.getFullYear()+"-"+this.ponerCeros(e,2)+e+"-"+this.ponerCeros(o,2)+o},t.prototype.ponerCeros=function(t,o){return"0".repeat(o-t.toString().length)},t.prototype.leerParametrosUrl=function(){var t=this;this.route.queryParams.subscribe(function(o){t.pathRegresarA=o.regresarA})},t.prototype.ngOnInit=function(){var t=this;this.route.data.subscribe(function(o){t.tituloComprobante=o.titulo});var o=this.notaDebito.documentoParametro[0];if(o){var e=JSON.parse(o.json);this.tipoNotaComprobante=e.valor}var a=this.notaDebito.totalComprobante.toString().split("."),i=a[0],r=a[1];this.totalEnPalabras=s(Number(i),{lang:"es"})+" "+this.notaDebito.moneda+" CON "+s(Number(r),{lang:"es"})+" CNTIMOS."},t.prototype.ngOnDestroy=function(){},t.prototype.iniciarDataTable=function(t){this.dataTable.insertarData(this.notaDebito.detalleEbiz)},t.prototype.emitir=function(){var t=this;this.fechaEmision=new Date,this.notaDebito.fechaEmision=this.fechaEmision.getTime(),this._creacionComprobantes.crearNotaDebito(this.notaDebito).subscribe(function(o){null!==o&&(t._notaDebitoService.notaDebito.next(t.notaDebito),t.router.navigate(["../../emision",o.id],{relativeTo:t.route}))})},t.prototype.regresar=function(){this.router.navigate(["../"],{relativeTo:this.route})},t}();l([e.i(a.ViewChild)(n.a),d("design:type","function"==typeof(u=void 0!==n.a&&n.a)&&u||Object)],p.prototype,"dataTable",void 0),p=l([e.i(a.Component)({selector:"app-vista-previa-nota-debito",template:e("./src/app/facturacion-electronica/comprobantes/nota-debito/vista-previa-nota-debito/vista-previa-nota-debito.component.html"),styles:[e("./src/app/facturacion-electronica/comprobantes/nota-debito/vista-previa-nota-debito/vista-previa-nota-debito.component.css")]}),d("design:paramtypes",["function"==typeof(b=void 0!==i.b&&i.b)&&b||Object,"function"==typeof(m=void 0!==c.a&&c.a)&&m||Object,"function"==typeof(v=void 0!==i.c&&i.c)&&v||Object,"function"==typeof(f=void 0!==r.a&&r.a)&&f||Object])],p);var u,b,m,v,f},"./src/app/facturacion-electronica/comprobantes/nota-debito/vista-previa-nota-debito/vista-previa-nota-debito.module.ts":function(t,o,e){"use strict";var a=e("./node_modules/@angular/core/@angular/core.es5.js"),i=e("./node_modules/@angular/common/@angular/common.es5.js"),r=e("./src/app/facturacion-electronica/comprobantes/nota-debito/vista-previa-nota-debito/vista-previa-nota-debito.component.ts"),n=e("./node_modules/@ngx-translate/core/index.js"),s=e("./node_modules/@angular/common/@angular/common/http.es5.js"),c=e("./src/app/facturacion-electronica/general/services/comprobantes/creacionComprobantes.ts"),l=e("./src/app/facturacion-electronica/general/data-table/data-table.module.ts"),d=e("./src/app/facturacion-electronica/general/emision-comprobante/emision-comprobante.module.ts"),p=e("./src/app/facturacion-electronica/general/services/tokenInterceptor.service.ts");e.d(o,"a",function(){return b});var u=this&&this.__decorate||function(t,o,e,a){var i,r=arguments.length,n=r<3?o:null===a?a=Object.getOwnPropertyDescriptor(o,e):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,o,e,a);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(n=(r<3?i(n):r>3?i(o,e,n):i(o,e))||n);return r>3&&n&&Object.defineProperty(o,e,n),n},b=function(){function t(){}return t}();b=u([e.i(a.NgModule)({imports:[i.CommonModule,n.a,l.a,s.a,d.a],declarations:[r.a],exports:[r.a],providers:[c.a,{provide:s.d,useClass:p.a,multi:!0}]})],b)}});